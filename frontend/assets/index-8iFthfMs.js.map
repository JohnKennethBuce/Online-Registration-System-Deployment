{"version":3,"file":"index-8iFthfMs.js","sources":["../../src/api/axios.js","../../src/context/AuthContext.jsx","../../src/ProtectedRoute.jsx","../../src/pages/Home.jsx","../../src/components/LoginForm.jsx","../../src/pages/HMOPI.png","../../src/pages/LoginPage.jsx","../../src/pages/AdminPage.jsx","../../src/pages/SuperadminPage.jsx","../../src/pages/Unauthorized.jsx","../../src/pages/DashboardPage.jsx","../../src/components/EditRegistrationForm.jsx","../../src/pages/Registrations.jsx","../../src/pages/RegistrationForm.jsx","../../src/pages/ServerModeManager.jsx","../../src/components/Modal.jsx","../../src/components/EditUserForm.jsx","../../src/components/AddUserForm.jsx","../../src/pages/UserManagementPage.jsx","../../src/components/ImageUploadField.jsx","../../src/components/BadgePreview.jsx","../../src/pages/SettingsPage.jsx","../../src/pages/OnsiteRegistrationPage.jsx","../../src/pages/OnlineRegistrationPage.jsx","../../src/components/PermissionsModal.jsx","../../src/pages/RoleManagementPage.jsx","../../src/pages/DashboardLayout.jsx","../../src/pages/ScannerPage.jsx","../../src/components/BadgePrint.jsx","../../src/pages/BadgePrintPage.jsx","../../src/pages/Reports.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nlet logoutHandler = null; // 👈 will be set by AuthContext\r\n\r\nexport const setLogoutHandler = (handler) => {\r\n  logoutHandler = handler;\r\n};\r\n\r\n// Create Axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n \r\n// Request Interceptor - add Authorization automatically\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Response Interceptor - handle 401/403 globally\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n    console.warn(\"🔒 Unauthorized. Logging out...\");\r\n    if (logoutHandler) logoutHandler();}   \r\n\r\n    else if (error.response?.status === 403) {\r\n     console.warn(\"⛔ Forbidden. You don't have permission for this action.\");}\r\n     // Let the caller handle it (e.g., show Unauthorized page or message)\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;","import { createContext, useContext, useState, useEffect, useCallback } from \"react\";\r\nimport api, { setLogoutHandler } from \"../api/axios\"; \r\n\r\nconst AuthContext = createContext();\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || null);\r\n  const [user, setUser] = useState(\r\n    localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : null\r\n  );\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // 🔹 Sync Axios global logout with our logout method\r\n  const logout = useCallback(async () => {\r\n    if (token) {\r\n      try {\r\n        await api.post(\"/auth/logout\"); // no need for manual headers, Axios adds it\r\n      } catch (err) {\r\n        console.error(\"Logout error:\", err);\r\n      }\r\n    }\r\n\r\n    setToken(null);\r\n    setUser(null);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    setLogoutHandler(logout); // 👈 register logout handler\r\n  }, [logout]);\r\n\r\n  // 🔹 Fetch user profile\r\n  const fetchUser = useCallback(async () => {\r\n    if (!token) return;\r\n    try {\r\n      const response = await api.get(\"/auth/me\"); // headers auto-attached\r\n      setUser(response.data);\r\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n    } catch (err) {\r\n      console.error(\"Fetch user error:\", err);\r\n      logout();\r\n    }\r\n  }, [token, logout]);\r\n\r\n  // 🔹 Restore user on mount\r\n  useEffect(() => {\r\n    const init = async () => {\r\n      if (token && !user) {\r\n        await fetchUser();\r\n      }\r\n      setLoading(false);\r\n    };\r\n    init();\r\n  }, [token, user, fetchUser]);\r\n\r\n  // 🔹 Login\r\n  const login = async (email, password) => {\r\n    const { data } = await api.post(\"/auth/login\", { email, password });\r\n    setToken(data.token);\r\n    setUser(data.user);\r\n    localStorage.setItem(\"token\", data.token);\r\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ token, user, login, logout, fetchUser, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}","import { Navigate } from \"react-router-dom\";\r\nimport { useAuth } from \"./context/AuthContext\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function ProtectedRoute({ children, roles }) {\r\n  const { user, token, fetchUser } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const init = async () => {\r\n      if (token && !user) {\r\n        await fetchUser();\r\n      }\r\n      setLoading(false);\r\n    };\r\n    init();\r\n  }, [token, user, fetchUser]);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  if (!token) return <Navigate to=\"/login\" replace />;\r\n\r\n  if (roles && user && !roles.includes(user?.role?.name)) {\r\n    return <Navigate to=\"/unauthorized\" replace />;\r\n  }\r\n\r\n  return children;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { Container, Row, Col, Card, Button, Badge, ListGroup, ProgressBar, Alert, Spinner } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport api from \"../api/axios\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default function Home() {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth(); // ✅ Use auth context directly\r\n  \r\n  const [summary, setSummary] = useState(null);\r\n  const [reportsCounts, setReportsCounts] = useState(null);\r\n  const [serverMode, setServerMode] = useState(null);\r\n  const [recentScans, setRecentScans] = useState([]);\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [errors, setErrors] = useState({});\r\n  const [partialLoad, setPartialLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  // ✅ Helper function to check permissions\r\n  const hasPermission = (permission) => {\r\n    if (!permission) return true;\r\n    return user?.role?.permissions?.includes(permission);\r\n  };\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setErrors({});\r\n      \r\n      const fetchPromises = [];\r\n      const errorTracker = {};\r\n\r\n      // ✅ Always fetch server mode (public endpoint)\r\n      fetchPromises.push(\r\n        api.get('/server-mode')\r\n          .then(res => ({ type: 'serverMode', data: res.data }))\r\n          .catch(err => {\r\n            errorTracker.serverMode = err.message;\r\n            return { type: 'serverMode', data: null };\r\n          })\r\n      );\r\n\r\n      // ✅ Fetch summary if user has dashboard permission\r\n      if (hasPermission('view-dashboard')) {\r\n        fetchPromises.push(\r\n          api.get('/dashboard/summary')\r\n            .then(res => ({ type: 'summary', data: res.data }))\r\n            .catch(err => {\r\n              errorTracker.summary = err.message;\r\n              return { type: 'summary', data: null };\r\n            })\r\n        );\r\n      }\r\n\r\n      // ✅ Fetch reports counts if user has reports permission\r\n      if (hasPermission('view-reports')) {\r\n        fetchPromises.push(\r\n          api.get('/dashboard/reports-counts')\r\n            .then(res => ({ type: 'reportsCounts', data: res.data }))\r\n            .catch(err => {\r\n              errorTracker.reportsCounts = err.message;\r\n              return { type: 'reportsCounts', data: null };\r\n            })\r\n        );\r\n      }\r\n\r\n      // Execute all fetches in parallel\r\n      const results = await Promise.all(fetchPromises);\r\n\r\n      // Process results\r\n      results.forEach(result => {\r\n        if (result.data) {\r\n          switch (result.type) {\r\n            case 'serverMode':\r\n              setServerMode(result.data.current_mode || result.data);\r\n              break;\r\n            case 'summary':\r\n              setSummary(result.data);\r\n              // Extract recent scans\r\n              if (result.data.scans_per_user) {\r\n                setRecentScans(result.data.scans_per_user.slice(0, 5));\r\n              }\r\n              break;\r\n            case 'reportsCounts':\r\n              setReportsCounts(result.data);\r\n              break;\r\n          }\r\n        }\r\n      });\r\n\r\n      // Check if we had any errors\r\n      if (Object.keys(errorTracker).length > 0) {\r\n        setErrors(errorTracker);\r\n        setPartialLoad(true);\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Dashboard error:', err);\r\n      setErrors({ global: 'Failed to load dashboard data' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ✅ Show loading spinner\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" variant=\"primary\" style={{ width: '3rem', height: '3rem' }} />\r\n          <p className=\"mt-3 text-muted fw-semibold\">Loading dashboard...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // ✅ Show error if complete failure\r\n  if (errors.global && !partialLoad) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>⚠️ Error Loading Dashboard</Alert.Heading>\r\n          <p>{errors.global}</p>\r\n          <hr />\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Button variant=\"outline-danger\" onClick={fetchDashboardData}>\r\n              🔄 Try Again\r\n            </Button>\r\n          </div>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // ✅ Calculate metrics safely\r\n  // ✅ CORRECTED: Calculate metrics safely with proper data structure\r\nconst totalRegistrations = reportsCounts?.total || summary?.total_registrations || 0;\r\n\r\n// ✅ FIX: Access payment_status correctly (nested object)\r\nconst paidCount = reportsCounts?.payment_status?.paid || 0;\r\nconst unpaidCount = reportsCounts?.payment_status?.unpaid || 0;\r\nconst complimentaryCount = reportsCounts?.payment_status?.complimentary || 0;\r\n\r\n// ✅ FIX: Access badge_status correctly (nested object)\r\nconst notPrintedCount = reportsCounts?.badge_status?.not_printed || 0;\r\nconst printedCount = reportsCounts?.badge_status?.printed || 0;\r\nconst reprintedCount = reportsCounts?.badge_status?.reprinted || 0;\r\n\r\nconst paidPercentage = totalRegistrations > 0 ? (paidCount / totalRegistrations * 100) : 0;\r\nconst printedPercentage = totalRegistrations > 0 ? (printedCount / totalRegistrations * 100) : 0;\r\n\r\n// ✅ Get breakdown data\r\nconst regByType = summary?.registrations_by_type || [];\r\nconst confirmedVsPending = summary?.confirmed_vs_pending || [];\r\nconst confirmedCount = confirmedVsPending.find(item => item.confirmed === 1)?.total || \r\n                       reportsCounts?.confirmed || \r\n                       summary?.confirmed_count || 0;\r\nconst pendingCount = confirmedVsPending.find(item => item.confirmed === 0)?.total || \r\n                     reportsCounts?.unconfirmed || \r\n                     (totalRegistrations - confirmedCount);\r\n\r\n  return (\r\n    <Container fluid className=\"py-4 px-3 px-md-4\" style={{ backgroundColor: '#f8f9fa', minHeight: '100vh' }}>\r\n      {/* Header Section */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h1 className=\"fw-bold mb-2\" style={{ color: '#2c3e50' }}>\r\n            🏠 Welcome back, {user?.name || 'User'}!\r\n          </h1>\r\n          <p className=\"text-muted mb-0\">\r\n            ICEGEX 2025 - Online Registration System Dashboard\r\n          </p>\r\n        </Col>\r\n        <Col xs=\"auto\">\r\n          <Button variant=\"outline-primary\" onClick={fetchDashboardData} disabled={loading}>\r\n            🔄 Refresh\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* ✅ Partial Load Warning */}\r\n      {partialLoad && Object.keys(errors).length > 0 && (\r\n        <Row className=\"mb-4\">\r\n          <Col>\r\n            <Alert variant=\"warning\" dismissible onClose={() => setPartialLoad(false)}>\r\n              <Alert.Heading>⚠️ Partial Data Load</Alert.Heading>\r\n              <p className=\"mb-0\">Some dashboard components couldn't be loaded. Showing available data.</p>\r\n              <small className=\"text-muted\">\r\n                Failed: {Object.keys(errors).join(', ')}\r\n              </small>\r\n            </Alert>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {/* Server Mode Alert */}\r\n      {serverMode && (\r\n        <Row className=\"mb-4\">\r\n          <Col>\r\n            <Alert \r\n              variant={\r\n                serverMode.mode === 'both' ? 'success' :\r\n                serverMode.mode === 'deactivate' ? 'danger' : 'info'\r\n              }\r\n              className=\"d-flex justify-content-between align-items-center mb-0\"\r\n            >\r\n              <div>\r\n                <strong>🖥️ Server Mode:</strong> \r\n                <Badge \r\n                  bg={serverMode.mode === 'both' ? 'success' : serverMode.mode === 'deactivate' ? 'danger' : 'info'}\r\n                  className=\"ms-2\"\r\n                >\r\n                  {serverMode.mode?.toUpperCase() || 'Unknown'}\r\n                </Badge>\r\n                {serverMode.activated_by && (\r\n                  <>\r\n                    <span className=\"mx-2\">•</span>\r\n                    <small>\r\n                      Set by {serverMode.activated_by?.name || 'System'} \r\n                      {serverMode.activated_at && ` on ${new Date(serverMode.activated_at).toLocaleString()}`}\r\n                    </small>\r\n                  </>\r\n                )}\r\n              </div>\r\n              {hasPermission('edit-server-mode') && (\r\n                <Button \r\n                  variant=\"outline-dark\" \r\n                  size=\"sm\"\r\n                  onClick={() => navigate('/dashboard/server-mode')}\r\n                >\r\n                  Manage Mode\r\n                </Button>\r\n              )}\r\n            </Alert>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {/* Key Metrics Cards */}\r\n      <Row className=\"g-3 mb-4\">\r\n      <Col xs={12} sm={6} lg={3}>\r\n        <Card className=\"border-0 shadow-sm h-100 hover-card\">\r\n          <Card.Body>\r\n            <div className=\"d-flex justify-content-between align-items-start\">\r\n              <div>\r\n                <p className=\"text-muted mb-1 small\">Badges Printed</p>\r\n                <h2 className=\"mb-0 fw-bold text-info\">{printedCount}</h2>\r\n                {reprintedCount > 0 && (\r\n                  <small className=\"text-muted d-block mt-1\">\r\n                    +{reprintedCount} reprinted\r\n                  </small>\r\n                )}\r\n                {notPrintedCount > 0 && (\r\n                  <small className=\"text-warning d-block mt-1\">\r\n                    {notPrintedCount} pending\r\n                  </small>\r\n                )}\r\n              </div>\r\n              <div className=\"bg-info bg-opacity-10 p-3 rounded\">\r\n                <span style={{ fontSize: '2rem' }}>🎫</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-3\">\r\n              <ProgressBar \r\n                now={printedPercentage} \r\n                variant=\"info\"\r\n                style={{ height: '6px' }}\r\n              />\r\n              <small className=\"text-muted\">\r\n                {printedPercentage.toFixed(1)}% printed\r\n              </small>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>\r\n\r\n        <Col xs={12} sm={6} lg={3}>\r\n          <Card className=\"border-0 shadow-sm h-100 hover-card\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-start\">\r\n                <div>\r\n                  <p className=\"text-muted mb-1 small\">Confirmed</p>\r\n                  <h2 className=\"mb-0 fw-bold text-success\">{confirmedCount}</h2>\r\n                </div>\r\n                <div className=\"bg-success bg-opacity-10 p-3 rounded\">\r\n                  <span style={{ fontSize: '2rem' }}>✅</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3\">\r\n                <small className=\"text-muted\">\r\n                  {pendingCount} pending confirmation\r\n                </small>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        <Col xs={12} sm={6} lg={3}>\r\n          <Card className=\"border-0 shadow-sm h-100 hover-card\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-start\">\r\n                <div>\r\n                  <p className=\"text-muted mb-1 small\">Badges Printed</p>\r\n                  <h2 className=\"mb-0 fw-bold text-info\">{printedCount}</h2>\r\n                  {reprintedCount > 0 && (\r\n                    <small className=\"text-muted\">+{reprintedCount} reprinted</small>\r\n                  )}\r\n                </div>\r\n                <div className=\"bg-info bg-opacity-10 p-3 rounded\">\r\n                  <span style={{ fontSize: '2rem' }}>🎫</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3\">\r\n                <ProgressBar \r\n                  now={printedPercentage} \r\n                  variant=\"info\"\r\n                  style={{ height: '6px' }}\r\n                />\r\n                <small className=\"text-muted\">{printedPercentage.toFixed(1)}% printed</small>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        <Col xs={12} sm={6} lg={3}>\r\n          <Card className=\"border-0 shadow-sm h-100 hover-card\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-start\">\r\n                <div>\r\n                  <p className=\"text-muted mb-1 small\">Payments Received</p>\r\n                  <h2 className=\"mb-0 fw-bold text-success\">{paidCount}</h2>\r\n                  {complimentaryCount > 0 && (\r\n                    <small className=\"text-info\">+{complimentaryCount} complimentary</small>\r\n                  )}\r\n                </div>\r\n                <div className=\"bg-success bg-opacity-10 p-3 rounded\">\r\n                  <span style={{ fontSize: '2rem' }}>💰</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3\">\r\n                <ProgressBar \r\n                  now={paidPercentage} \r\n                  variant=\"success\"\r\n                  style={{ height: '6px' }}\r\n                />\r\n                <small className=\"text-muted\">{paidPercentage.toFixed(1)}% paid</small>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row className=\"g-4\">\r\n        {/* Left Column */}\r\n        <Col xs={12} lg={8}>\r\n          {/* Quick Actions */}\r\n          <Card className=\"shadow-sm border-0 mb-4\">\r\n            <Card.Header className=\"bg-white border-bottom\">\r\n              <h5 className=\"mb-0 fw-semibold text-primary\">⚡ Quick Actions</h5>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-4\">\r\n              <Row className=\"g-3\">\r\n                {/* QR Scanner */}\r\n                {hasPermission('scan-registration') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-primary text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/scanner')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>📷</div>\r\n                        <h6 className=\"mt-2 mb-0\">Scan QR Code</h6>\r\n                        <small className=\"text-muted\">Check-in attendees</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* New Registration */}\r\n                {hasPermission('create-registration') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-success text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/register-new')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>➕</div>\r\n                        <h6 className=\"mt-2 mb-0\">New Registration</h6>\r\n                        <small className=\"text-muted\">Add new attendee</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Registrations */}\r\n                {hasPermission('view-registrations') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-info text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/registrations')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>📋</div>\r\n                        <h6 className=\"mt-2 mb-0\">Registrations</h6>\r\n                        <small className=\"text-muted\">View & manage all</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Reports */}\r\n                {hasPermission('view-reports') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-warning text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/reports')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>📊</div>\r\n                        <h6 className=\"mt-2 mb-0\">Reports</h6>\r\n                        <small className=\"text-muted\">Analytics & export</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Server Mode */}\r\n                {hasPermission('edit-server-mode') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-danger text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/server-mode')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>🖥️</div>\r\n                        <h6 className=\"mt-2 mb-0\">Server Mode</h6>\r\n                        <small className=\"text-muted\">Manage mode</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Badge Settings */}\r\n                {hasPermission('edit-settings') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-secondary text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/settings')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>⚙️</div>\r\n                        <h6 className=\"mt-2 mb-0\">Settings</h6>\r\n                        <small className=\"text-muted\">Badge & system config</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* User Management */}\r\n                {hasPermission('view-users') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-dark text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/user-management')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>👨‍💼</div>\r\n                        <h6 className=\"mt-2 mb-0\">User Management</h6>\r\n                        <small className=\"text-muted\">Manage users</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Role Management */}\r\n                {hasPermission('manage-roles') && (\r\n                  <Col xs={12} sm={6} md={4}>\r\n                    <Card \r\n                      className=\"h-100 border-primary text-center cursor-pointer hover-shadow\"\r\n                      onClick={() => navigate('/dashboard/role-management')}\r\n                      style={{ cursor: 'pointer', transition: 'all 0.3s' }}\r\n                    >\r\n                      <Card.Body className=\"p-4\">\r\n                        <div style={{ fontSize: '3rem' }}>🔐</div>\r\n                        <h6 className=\"mt-2 mb-0\">Roles & Permissions</h6>\r\n                        <small className=\"text-muted\">Manage access</small>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                )}\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          {/* Registration Type Breakdown */}\r\n          {regByType.length > 0 && (\r\n            <Card className=\"shadow-sm border-0 mb-4\">\r\n              <Card.Header className=\"bg-white border-bottom\">\r\n                <h5 className=\"mb-0 fw-semibold text-primary\">📝 Registration Types</h5>\r\n              </Card.Header>\r\n              <Card.Body className=\"p-4\">\r\n                <Row className=\"g-3\">\r\n                  {regByType.map((type, index) => {\r\n                    const percentage = totalRegistrations > 0 ? (type.total / totalRegistrations * 100) : 0;\r\n                    const typeConfig = {\r\n                      'onsite': { color: 'primary', icon: '🏢' },\r\n                      'online': { color: 'info', icon: '🌐' },\r\n                      'pre-registered': { color: 'secondary', icon: '📋' },\r\n                      'complimentary': { color: 'success', icon: '🎁' }\r\n                    };\r\n                    const config = typeConfig[type.registration_type] || typeConfig['onsite'];\r\n                    \r\n                    return (\r\n                      <Col xs={12} sm={6} md={4} lg={3} key={index}>\r\n                        <div className=\"text-center\">\r\n                          <div style={{ fontSize: '2.5rem' }}>{config.icon}</div>\r\n                          <h4 className=\"mt-2 mb-1 fw-bold\">{type.total}</h4>\r\n                          <p className=\"text-muted mb-2 text-capitalize\">\r\n                            {type.registration_type.replace('-', ' ')}\r\n                          </p>\r\n                          <ProgressBar \r\n                            now={percentage} \r\n                            variant={config.color}\r\n                            style={{ height: '8px' }}\r\n                          />\r\n                          <small className=\"text-muted\">{percentage.toFixed(1)}%</small>\r\n                        </div>\r\n                      </Col>\r\n                    );\r\n                  })}\r\n                </Row>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Recent Activity */}\r\n          <Card className=\"shadow-sm border-0\">\r\n            <Card.Header className=\"bg-white border-bottom d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0 fw-semibold text-primary\">🕒 Recent Scan Activity</h5>\r\n              {hasPermission('view-dashboard') && recentScans.length > 0 && (\r\n                <Button \r\n                  variant=\"outline-primary\" \r\n                  size=\"sm\"\r\n                  onClick={() => navigate('/dashboard')}\r\n                >\r\n                  View All\r\n                </Button>\r\n              )}\r\n            </Card.Header>\r\n            <Card.Body className=\"p-0\">\r\n              {recentScans && recentScans.length > 0 ? (\r\n                <ListGroup variant=\"flush\">\r\n                  {recentScans.map((scanUser, index) => (\r\n                    <ListGroup.Item key={index} className=\"d-flex justify-content-between align-items-center py-3\">\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <div \r\n                          className=\"rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center me-3\"\r\n                          style={{ width: '40px', height: '40px' }}\r\n                        >\r\n                          <span>👤</span>\r\n                        </div>\r\n                        <div>\r\n                          <strong className=\"d-block\">{scanUser.name}</strong>\r\n                          <small className=\"text-muted\">{scanUser.email}</small>\r\n                        </div>\r\n                      </div>\r\n                      <Badge bg=\"primary\" pill style={{ fontSize: '0.9rem' }}>\r\n                        {scanUser.scans_count || 0} scans\r\n                      </Badge>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              ) : (\r\n                <div className=\"text-center p-5 text-muted\">\r\n                  <div style={{ fontSize: '3rem', opacity: 0.3 }}>📊</div>\r\n                  <p className=\"mb-0 mt-2\">No recent scan activity</p>\r\n                  <small>Scans will appear here once attendees check in</small>\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Right Column - Sidebar */}\r\n        <Col xs={12} lg={4}>\r\n          {/* User Info Card */}\r\n          <Card className=\"shadow-sm border-0 mb-4\">\r\n            <Card.Body className=\"p-4 text-center\">\r\n              <div \r\n                className=\"rounded-circle bg-primary bg-opacity-10 d-inline-flex align-items-center justify-content-center mb-3\"\r\n                style={{ width: '80px', height: '80px' }}\r\n              >\r\n                <span style={{ fontSize: '2.5rem' }}>👤</span>\r\n              </div>\r\n              <h5 className=\"mb-1 fw-bold\">{user?.name}</h5>\r\n              <p className=\"text-muted mb-2\">{user?.email}</p>\r\n              <Badge bg=\"primary\" className=\"mb-3 px-3 py-2\">\r\n                {user?.role?.name?.toUpperCase() || 'USER'}\r\n              </Badge>\r\n              <div className=\"d-grid gap-2\">\r\n                <small className=\"text-muted\">\r\n                  Last login: {new Date().toLocaleDateString()}\r\n                </small>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          {/* System Status */}\r\n          {reportsCounts && (\r\n            <Card className=\"shadow-sm border-0 mb-4\">\r\n    <Card.Header className=\"bg-white border-bottom\">\r\n      <h5 className=\"mb-0 fw-semibold text-primary\">📊 System Status</h5>\r\n    </Card.Header>\r\n    <Card.Body>\r\n      <ListGroup variant=\"flush\">\r\n        <ListGroup.Item className=\"px-0 d-flex justify-content-between align-items-center\">\r\n          <span className=\"text-muted\">Total Registrations</span>\r\n          <strong className=\"text-dark\">{totalRegistrations}</strong>\r\n        </ListGroup.Item>\r\n        <ListGroup.Item className=\"px-0 d-flex justify-content-between align-items-center\">\r\n          <span className=\"text-muted\">Confirmed</span>\r\n          <Badge bg=\"success\">{confirmedCount}</Badge>\r\n        </ListGroup.Item>\r\n        <ListGroup.Item className=\"px-0 d-flex justify-content-between align-items-center\">\r\n          <span className=\"text-muted\">Pending</span>\r\n          <Badge bg=\"warning\" text=\"dark\">{pendingCount}</Badge>\r\n        </ListGroup.Item>\r\n        \r\n        {/* ✅ ADDED: Badge Status Details */}\r\n        <ListGroup.Item className=\"px-0\">\r\n          <div className=\"text-muted mb-2 fw-semibold\">Badge Status:</div>\r\n        </ListGroup.Item>\r\n        <ListGroup.Item className=\"px-0 d-flex justify-content-between align-items-center\" style={{ paddingTop: 0 }}>\r\n          <span className=\"text-muted small ps-3\">📄 Not Printed</span>\r\n          <Badge bg=\"secondary\">{notPrintedCount}</Badge>\r\n        </ListGroup.Item>\r\n        <ListGroup.Item className=\"px-0 d-flex justify-content-between align-items-center\">\r\n          <span className=\"text-muted small ps-3\">✅ Printed</span>\r\n          <Badge bg=\"success\">{printedCount}</Badge>\r\n        </ListGroup.Item>\r\n        {reprintedCount > 0 && (\r\n          <ListGroup.Item className=\"px-0 d-flex justify-content-between align-items-center\">\r\n            <span className=\"text-muted small ps-3\">🔄 Reprinted</span>\r\n            <Badge bg=\"warning\" text=\"dark\">{reprintedCount}</Badge>\r\n          </ListGroup.Item>\r\n        )}\r\n      </ListGroup>\r\n    </Card.Body>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Payment Overview */}\r\n          {reportsCounts && (\r\n            <Card className=\"shadow-sm border-0\">\r\n              <Card.Header className=\"bg-white border-bottom\">\r\n                <h5 className=\"mb-0 fw-semibold text-primary\">💳 Payment Overview</h5>\r\n              </Card.Header>\r\n              <Card.Body className=\"p-4\">\r\n                <div className=\"mb-4\">\r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <span className=\"text-success fw-semibold\">✅ Paid</span>\r\n                    <span className=\"fw-bold\">{paidCount}</span>\r\n                  </div>\r\n                  <ProgressBar \r\n                    now={paidPercentage} \r\n                    variant=\"success\"\r\n                    style={{ height: '10px' }}\r\n                  />\r\n                </div>\r\n\r\n                {complimentaryCount > 0 && (\r\n                  <div className=\"mb-4\">\r\n                    <div className=\"d-flex justify-content-between mb-2\">\r\n                      <span className=\"text-info fw-semibold\">🎁 Complimentary</span>\r\n                      <span className=\"fw-bold\">{complimentaryCount}</span>\r\n                    </div>\r\n                    <ProgressBar \r\n                      now={totalRegistrations > 0 ? (complimentaryCount / totalRegistrations * 100) : 0} \r\n                      variant=\"info\"\r\n                      style={{ height: '10px' }}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"mb-4\">\r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <span className=\"text-danger fw-semibold\">❌ Unpaid</span>\r\n                    <span className=\"fw-bold\">{unpaidCount}</span>\r\n                  </div>\r\n                  <ProgressBar \r\n                    now={totalRegistrations > 0 ? (unpaidCount / totalRegistrations * 100) : 0} \r\n                    variant=\"danger\"\r\n                    style={{ height: '10px' }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"text-center mt-4 pt-4 border-top\">\r\n                  <h3 className=\"mb-0 fw-bold text-success\">\r\n                    {paidPercentage.toFixed(1)}%\r\n                  </h3>\r\n                  <small className=\"text-muted\">Collection Rate</small>\r\n                </div>\r\n\r\n                <div className=\"text-center mt-3\">\r\n                  <small className=\"text-muted\">\r\n                    {paidCount} of {totalRegistrations} paid\r\n                  </small>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* ✅ Enhanced hover effect styles */}\r\n      <style>{`\r\n        .hover-shadow {\r\n          transition: all 0.3s ease !important;\r\n        }\r\n        .hover-shadow:hover {\r\n          transform: translateY(-5px);\r\n          box-shadow: 0 0.5rem 1.5rem rgba(0,0,0,0.15) !important;\r\n        }\r\n        .hover-card {\r\n          transition: all 0.2s ease;\r\n        }\r\n        .hover-card:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 0.25rem 1rem rgba(0,0,0,0.1) !important;\r\n        }\r\n        .cursor-pointer {\r\n          cursor: pointer;\r\n        }\r\n      `}</style>\r\n    </Container>\r\n  );\r\n}","import { useState } from 'react';\r\nimport { Form, Button, InputGroup, Alert, Spinner } from 'react-bootstrap';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function LoginForm() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      await login(email, password);\r\n      navigate('/dashboard');\r\n    } catch (err) {\r\n      let errorMessage = 'An error occurred. Please try again.';\r\n      \r\n      if (err.response) {\r\n        if (err.response.status === 422 && err.response.data.errors) {\r\n          // Validation errors\r\n          errorMessage = Object.values(err.response.data.errors)\r\n            .flat()\r\n            .join(' ');\r\n        } else if (err.response.data.message) {\r\n          // Auth error or other message\r\n          errorMessage = err.response.data.message;\r\n        }\r\n      }\r\n      \r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert \r\n          variant=\"danger\" \r\n          dismissible \r\n          onClose={() => setError('')}\r\n          className=\"mb-4\"\r\n          style={{\r\n            borderRadius: '12px',\r\n            border: 'none',\r\n            background: 'rgba(220, 53, 69, 0.1)',\r\n            color: '#dc3545',\r\n            animation: 'slideInRight 0.3s ease-out'\r\n          }}\r\n        >\r\n          <div className=\"d-flex align-items-center\">\r\n            <span className=\"me-2\" style={{ fontSize: '1.2rem' }}>⚠️</span>\r\n            <span>{error}</span>\r\n          </div>\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Email Field */}\r\n      <Form.Group className=\"mb-4\" controlId=\"formEmail\">\r\n        <Form.Label \r\n          className=\"fw-semibold mb-2\" \r\n          style={{ color: '#2c3e50', fontSize: '0.95rem' }}\r\n        >\r\n          Email Address\r\n        </Form.Label>\r\n        <InputGroup>\r\n          <InputGroup.Text \r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)',\r\n              border: '2px solid #e0e0e0',\r\n              borderRight: 'none',\r\n              borderRadius: '12px 0 0 12px',\r\n              transition: 'all 0.3s ease'\r\n            }}\r\n            className=\"input-icon-email\"\r\n          >\r\n            <span style={{ fontSize: '1.2rem', transition: 'transform 0.3s ease' }}>📧</span>\r\n          </InputGroup.Text>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter your email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n            className=\"modern-input\"\r\n            style={{\r\n              padding: '0.85rem 1rem',\r\n              fontSize: '1rem',\r\n              border: '2px solid #e0e0e0',\r\n              borderLeft: 'none',\r\n              borderRadius: '0 12px 12px 0',\r\n              transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n              background: 'white'\r\n            }}\r\n            onFocus={(e) => {\r\n              e.target.style.borderColor = '#667eea';\r\n              e.target.style.boxShadow = '0 4px 12px rgba(102, 126, 234, 0.15)';\r\n              e.target.style.transform = 'translateY(-1px)';\r\n              \r\n              const iconContainer = e.target.previousSibling;\r\n              iconContainer.style.borderColor = '#667eea';\r\n              iconContainer.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';\r\n              \r\n              // ✅ FIXED: Scale icon instead of inverting color\r\n              const icon = iconContainer.querySelector('span');\r\n              icon.style.transform = 'scale(1.2)';\r\n              icon.style.filter = 'drop-shadow(0 2px 4px rgba(255, 255, 255, 0.3))';\r\n            }}\r\n            onBlur={(e) => {\r\n              e.target.style.borderColor = '#e0e0e0';\r\n              e.target.style.boxShadow = 'none';\r\n              e.target.style.transform = 'translateY(0)';\r\n              \r\n              const iconContainer = e.target.previousSibling;\r\n              iconContainer.style.borderColor = '#e0e0e0';\r\n              iconContainer.style.background = 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)';\r\n              \r\n              // ✅ FIXED: Reset icon transform\r\n              const icon = iconContainer.querySelector('span');\r\n              icon.style.transform = 'scale(1)';\r\n              icon.style.filter = 'none';\r\n            }}\r\n          />\r\n        </InputGroup>\r\n      </Form.Group>\r\n\r\n      {/* Password Field */}\r\n      <Form.Group className=\"mb-4\" controlId=\"formPassword\">\r\n        <Form.Label \r\n          className=\"fw-semibold mb-2\" \r\n          style={{ color: '#2c3e50', fontSize: '0.95rem' }}\r\n        >\r\n          Password\r\n        </Form.Label>\r\n        <InputGroup>\r\n          <InputGroup.Text \r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)',\r\n              border: '2px solid #e0e0e0',\r\n              borderRight: 'none',\r\n              borderRadius: '12px 0 0 12px',\r\n              transition: 'all 0.3s ease'\r\n            }}\r\n            className=\"input-icon-password\"\r\n          >\r\n            <span style={{ fontSize: '1.2rem', transition: 'transform 0.3s ease' }}>🔒</span>\r\n          </InputGroup.Text>\r\n          <Form.Control\r\n            type={showPassword ? 'text' : 'password'}\r\n            placeholder=\"Enter your password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n            className=\"modern-input\"\r\n            style={{\r\n              padding: '0.85rem 1rem',\r\n              fontSize: '1rem',\r\n              border: '2px solid #e0e0e0',\r\n              borderLeft: 'none',\r\n              borderRight: 'none',\r\n              transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n              background: 'white'\r\n            }}\r\n            onFocus={(e) => {\r\n              e.target.style.borderColor = '#667eea';\r\n              e.target.style.boxShadow = '0 4px 12px rgba(102, 126, 234, 0.15)';\r\n              e.target.style.transform = 'translateY(-1px)';\r\n              \r\n              const iconContainer = e.target.previousSibling;\r\n              iconContainer.style.borderColor = '#667eea';\r\n              iconContainer.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';\r\n              \r\n              // ✅ FIXED: Scale icon instead of inverting color\r\n              const icon = iconContainer.querySelector('span');\r\n              icon.style.transform = 'scale(1.2)';\r\n              icon.style.filter = 'drop-shadow(0 2px 4px rgba(255, 255, 255, 0.3))';\r\n              \r\n              e.target.nextSibling.style.borderColor = '#667eea';\r\n            }}\r\n            onBlur={(e) => {\r\n              e.target.style.borderColor = '#e0e0e0';\r\n              e.target.style.boxShadow = 'none';\r\n              e.target.style.transform = 'translateY(0)';\r\n              \r\n              const iconContainer = e.target.previousSibling;\r\n              iconContainer.style.borderColor = '#e0e0e0';\r\n              iconContainer.style.background = 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)';\r\n              \r\n              // ✅ FIXED: Reset icon transform\r\n              const icon = iconContainer.querySelector('span');\r\n              icon.style.transform = 'scale(1)';\r\n              icon.style.filter = 'none';\r\n              \r\n              e.target.nextSibling.style.borderColor = '#e0e0e0';\r\n            }}\r\n          />\r\n          <InputGroup.Text \r\n            onClick={() => setShowPassword(!showPassword)}\r\n            style={{\r\n              background: 'white',\r\n              border: '2px solid #e0e0e0',\r\n              borderLeft: 'none',\r\n              borderRadius: '0 12px 12px 0',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.3s ease',\r\n              userSelect: 'none'\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.target.style.background = 'rgba(102, 126, 234, 0.05)';\r\n              e.target.querySelector('span').style.transform = 'scale(1.1)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.target.style.background = 'white';\r\n              e.target.querySelector('span').style.transform = 'scale(1)';\r\n            }}\r\n          >\r\n            <span style={{ \r\n              fontSize: '1.2rem',\r\n              transition: 'transform 0.3s ease'\r\n            }}>\r\n              {showPassword ? '👁️' : '👁️‍🗨️'}\r\n            </span>\r\n          </InputGroup.Text>\r\n        </InputGroup>\r\n      </Form.Group>\r\n\r\n      {/* Remember Me & Forgot Password */}\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <Form.Check \r\n          type=\"checkbox\"\r\n          id=\"remember-me\"\r\n          label=\"Remember me\"\r\n          style={{\r\n            fontSize: '0.9rem',\r\n            color: '#6c757d'\r\n          }}\r\n          className=\"custom-checkbox\"\r\n        />\r\n        <a \r\n          href=\"#\" \r\n          style={{\r\n            fontSize: '0.9rem',\r\n            color: '#667eea',\r\n            textDecoration: 'none',\r\n            fontWeight: '500',\r\n            transition: 'all 0.3s ease'\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            e.target.style.color = '#764ba2';\r\n            e.target.style.textDecoration = 'underline';\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.target.style.color = '#667eea';\r\n            e.target.style.textDecoration = 'none';\r\n          }}\r\n        >\r\n          Forgot password?\r\n        </a>\r\n      </div>\r\n\r\n      {/* Submit Button */}\r\n      <Button\r\n        type=\"submit\"\r\n        disabled={loading}\r\n        className=\"w-100 fw-semibold login-submit-btn\"\r\n        style={{\r\n          padding: '1rem',\r\n          fontSize: '1.05rem',\r\n          borderRadius: '12px',\r\n          border: 'none',\r\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n          boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',\r\n          transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n          position: 'relative',\r\n          overflow: 'hidden'\r\n        }}\r\n        onMouseEnter={(e) => {\r\n          if (!loading) {\r\n            e.target.style.transform = 'translateY(-2px)';\r\n            e.target.style.boxShadow = '0 8px 25px rgba(102, 126, 234, 0.5)';\r\n          }\r\n        }}\r\n        onMouseLeave={(e) => {\r\n          e.target.style.transform = 'translateY(0)';\r\n          e.target.style.boxShadow = '0 4px 15px rgba(102, 126, 234, 0.4)';\r\n        }}\r\n        onMouseDown={(e) => {\r\n          e.target.style.transform = 'translateY(0) scale(0.98)';\r\n        }}\r\n        onMouseUp={(e) => {\r\n          e.target.style.transform = 'translateY(-2px) scale(1)';\r\n        }}\r\n      >\r\n        {loading ? (\r\n          <>\r\n            <Spinner\r\n              as=\"span\"\r\n              animation=\"border\"\r\n              size=\"sm\"\r\n              role=\"status\"\r\n              aria-hidden=\"true\"\r\n              className=\"me-2\"\r\n            />\r\n            Signing in...\r\n          </>\r\n        ) : (\r\n          <>\r\n            <span className=\"me-2\">🔐</span>\r\n            Sign In\r\n          </>\r\n        )}\r\n      </Button>\r\n\r\n      {/* Additional Styles */}\r\n      <style>{`\r\n        .custom-checkbox input[type=\"checkbox\"]:checked {\r\n          background-color: #667eea;\r\n          border-color: #667eea;\r\n        }\r\n\r\n        .custom-checkbox input[type=\"checkbox\"]:focus {\r\n          box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);\r\n        }\r\n\r\n        .login-submit-btn::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\r\n          transition: left 0.5s ease;\r\n        }\r\n\r\n        .login-submit-btn:hover::before {\r\n          left: 100%;\r\n        }\r\n\r\n        @keyframes slideInRight {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateX(30px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n          }\r\n        }\r\n\r\n        /* Smooth transition for all icons */\r\n        .input-icon-email span,\r\n        .input-icon-password span {\r\n          display: inline-block;\r\n        }\r\n      `}</style>\r\n    </Form>\r\n  );\r\n}","export default \"__VITE_ASSET__B8v0Ncyg__\"","import { Container, Row, Col, Card } from 'react-bootstrap';\r\nimport LoginForm from '../components/LoginForm';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport HMOPILogo from \"./HMOPI.png\"; \r\n\r\nexport default function LoginPage() {\r\n  return (\r\n    <div \r\n      className=\"gradient-bg d-flex align-items-center justify-content-center\"\r\n      style={{ minHeight: '100vh', padding: '20px', position: 'relative' }}\r\n    >\r\n      {/* Animated Background Elements */}\r\n      <div className=\"floating-particles\">\r\n        <div className=\"particle particle-1\"></div>\r\n        <div className=\"particle particle-2\"></div>\r\n        <div className=\"particle particle-3\"></div>\r\n        <div className=\"particle particle-4\"></div>\r\n      </div>\r\n\r\n      <Container>\r\n        <Row className=\"justify-content-center\">\r\n    <Col xs={12} sm={10} md={8} lg={6} xl={5}>\r\n      <Card \r\n        className=\"login-card shadow-lg border-0 overflow-hidden\" \r\n        style={{ \r\n          animation: 'fadeIn 0.6s ease-out',\r\n          borderRadius: '24px',\r\n          background: 'rgba(255, 255, 255, 0.98)',\r\n          backdropFilter: 'blur(20px)'\r\n        }}\r\n      >\r\n        \r\n        {/* Header Section with Enhanced Design */}\r\n        <div \r\n          className=\"login-header text-white d-flex flex-column align-items-center justify-content-center py-5 text-center\"\r\n          style={{ \r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n            minHeight: '240px'\r\n          }}\r\n        >\r\n          {/* Animated Floating Circles */}\r\n          <div className=\"floating-circle circle-1\" style={{ \r\n            position: 'absolute', \r\n            top: '-50%', \r\n            right: '-10%', \r\n            width: '200px', \r\n            height: '200px', \r\n            background: 'rgba(255,255,255,0.15)', \r\n            borderRadius: '50%',\r\n            animation: 'float 6s ease-in-out infinite',\r\n            boxShadow: '0 8px 32px rgba(255, 255, 255, 0.1)'\r\n          }}></div>\r\n          \r\n          <div className=\"floating-circle circle-2\" style={{ \r\n            position: 'absolute', \r\n            bottom: '-30%', \r\n            left: '-5%', \r\n            width: '150px', \r\n            height: '150px', \r\n            background: 'rgba(255,255,255,0.1)', \r\n            borderRadius: '50%',\r\n            animation: 'float 4s ease-in-out infinite 1s',\r\n            boxShadow: '0 8px 32px rgba(255, 255, 255, 0.1)'\r\n          }}></div>\r\n\r\n          <div className=\"floating-circle circle-3\" style={{ \r\n            position: 'absolute', \r\n            top: '20%', \r\n            left: '10%', \r\n            width: '80px', \r\n            height: '80px', \r\n            background: 'rgba(255,255,255,0.08)', \r\n            borderRadius: '50%',\r\n            animation: 'float 5s ease-in-out infinite 0.5s'\r\n          }}></div>\r\n\r\n          {/* ✅ Logo with Pulse Animation */}\r\n          <div style={{ position: 'relative', zIndex: 1 }}>\r\n            <img\r\n              src={HMOPILogo}\r\n              alt=\"HMOPI Logo\"\r\n              className=\"login-logo\"\r\n              style={{\r\n                width: '350px',\r\n                height: '200px',\r\n                marginBottom: '0.7rem',\r\n                animation: 'iconPulse 2s ease-in-out infinite',\r\n                filter: 'drop-shadow(0 4px 12px rgba(0, 0, 0, 0.2))',\r\n                objectFit: 'contain'\r\n              }}\r\n            />\r\n\r\n            <h2 className=\"fw-bold mb-2\" style={{ fontSize: '2rem', letterSpacing: '-0.5px' }}>\r\n              Welcome!\r\n            </h2>\r\n            <p className=\"mb-0\" style={{ opacity: 0.95, fontSize: '1.05rem' }}>\r\n              To our Online Registration System\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Login Form Section */}\r\n        <Card.Body className=\"p-5\" style={{ padding: '3rem 3rem 2.5rem !important' }}>\r\n          <div className=\"text-center mb-4\">\r\n            <h4 className=\"fw-bold mb-2\" style={{ color: '#2c3e50', fontSize: '1.5rem' }}>\r\n              Sign In to Your Account\r\n            </h4>\r\n            <p className=\"text-muted\" style={{ fontSize: '0.95rem', marginBottom: '2rem' }}>\r\n              Enter your credentials to access the dashboard\r\n            </p>\r\n          </div>\r\n\r\n          {/* Login Form Component */}\r\n          <LoginForm />\r\n\r\n          {/* Footer Links */}\r\n          <div className=\"text-center mt-4 pt-4 border-top\">\r\n            <p className=\"text-muted small mb-0\">\r\n              Having trouble?{' '}\r\n              <a \r\n                href=\"#\" \r\n                className=\"support-link fw-semibold\"\r\n                style={{\r\n                  color: '#667eea',\r\n                  textDecoration: 'none',\r\n                  position: 'relative',\r\n                  transition: 'all 0.3s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.color = '#764ba2';\r\n                  e.target.style.textDecoration = 'underline';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.color = '#667eea';\r\n                  e.target.style.textDecoration = 'none';\r\n                }}\r\n              >\r\n                Contact Support\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </Card.Body>\r\n\r\n        {/* Bottom Accent */}\r\n        <div \r\n          style={{ \r\n            height: '6px', \r\n            background: 'linear-gradient(90deg, #667eea 0%, #764ba2 50%, #667eea 100%)',\r\n            backgroundSize: '200% 100%',\r\n            animation: 'gradientSlide 3s ease infinite'\r\n          }}\r\n        ></div>\r\n      </Card>\r\n\r\n      {/* Version Info */}\r\n      <div className=\"text-center mt-4\">\r\n        <p \r\n          className=\"text-white small mb-0 version-info\" \r\n          style={{ \r\n            textShadow: '0 2px 8px rgba(0,0,0,0.3)',\r\n            transition: 'all 0.3s ease',\r\n            cursor: 'default'\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            e.target.style.transform = 'scale(1.05)';\r\n            e.target.style.textShadow = '0 4px 12px rgba(0,0,0,0.4)';\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.target.style.transform = 'scale(1)';\r\n            e.target.style.textShadow = '0 2px 8px rgba(0,0,0,0.3)';\r\n          }}\r\n        >\r\n          v1.0.0 • © 2024 Registration System\r\n        </p>\r\n      </div>\r\n    </Col>\r\n        </Row>\r\n      </Container>\r\n\r\n      {/* Enhanced Styles */}\r\n      <style>{`\r\n        /* Float Animation */\r\n        @keyframes float {\r\n          0%, 100% { \r\n            transform: translateY(0px) rotate(0deg); \r\n          }\r\n          50% { \r\n            transform: translateY(-20px) rotate(5deg); \r\n          }\r\n        }\r\n\r\n        /* Icon Pulse */\r\n        @keyframes iconPulse {\r\n          0%, 100% { \r\n            transform: scale(1) rotate(0deg); \r\n            filter: drop-shadow(0 4px 12px rgba(102, 126, 234, 0.3));\r\n          }\r\n          50% { \r\n            transform: scale(1.1) rotate(2deg); \r\n            filter: drop-shadow(0 6px 18px rgba(118, 75, 162, 0.5));\r\n          }\r\n        }\r\n\r\n        /* Gradient Slide */\r\n        @keyframes gradientSlide {\r\n          0% { background-position: 0% 50%; }\r\n          50% { background-position: 100% 50%; }\r\n          100% { background-position: 0% 50%; }\r\n        }\r\n\r\n        /* Particle Animation */\r\n        @keyframes particleFloat {\r\n          0%, 100% { transform: translate(0, 0); }\r\n          25% { transform: translate(10px, -10px); }\r\n          50% { transform: translate(-5px, -20px); }\r\n          75% { transform: translate(-10px, -10px); }\r\n        }\r\n\r\n        /* Gradient Background with Radial Gradients */\r\n        .gradient-bg::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: \r\n            radial-gradient(circle at 20% 50%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),\r\n            radial-gradient(circle at 80% 80%, rgba(118, 75, 162, 0.15) 0%, transparent 50%),\r\n            radial-gradient(circle at 40% 20%, rgba(102, 126, 234, 0.1) 0%, transparent 40%);\r\n          pointer-events: none;\r\n          animation: gradientMove 20s ease infinite;\r\n        }\r\n\r\n        @keyframes gradientMove {\r\n          0%, 100% { opacity: 1; }\r\n          50% { opacity: 0.8; }\r\n        }\r\n\r\n        /* Floating Particles */\r\n        .floating-particles {\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          overflow: hidden;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .particle {\r\n          position: absolute;\r\n          background: rgba(255, 255, 255, 0.4);\r\n          border-radius: 50%;\r\n          animation: particleFloat 15s infinite ease-in-out;\r\n        }\r\n\r\n        .particle-1 {\r\n          width: 8px;\r\n          height: 8px;\r\n          top: 20%;\r\n          left: 20%;\r\n          animation-delay: 0s;\r\n          animation-duration: 12s;\r\n        }\r\n\r\n        .particle-2 {\r\n          width: 6px;\r\n          height: 6px;\r\n          top: 60%;\r\n          left: 80%;\r\n          animation-delay: 2s;\r\n          animation-duration: 15s;\r\n        }\r\n\r\n        .particle-3 {\r\n          width: 10px;\r\n          height: 10px;\r\n          top: 40%;\r\n          left: 60%;\r\n          animation-delay: 4s;\r\n          animation-duration: 18s;\r\n        }\r\n\r\n        .particle-4 {\r\n          width: 5px;\r\n          height: 5px;\r\n          top: 80%;\r\n          left: 30%;\r\n          animation-delay: 6s;\r\n          animation-duration: 14s;\r\n        }\r\n\r\n        /* Card Hover Effect */\r\n        .login-card {\r\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n\r\n        .login-card:hover {\r\n          transform: translateY(-5px);\r\n          box-shadow: 0 20px 60px rgba(102, 126, 234, 0.3) !important;\r\n        }\r\n\r\n        /* Header Hover Effect */\r\n        .login-header {\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .login-card:hover .login-header {\r\n          background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\r\n        }\r\n\r\n        /* Version Info */\r\n        .version-info {\r\n          display: inline-block;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}","export default function AdminPage() {\r\n    return (\r\n      <div>\r\n        <h2>Admin Panel</h2>\r\n        <p>Only Admins & Superadmins can see this.</p>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  ","export default function SuperadminPage() {\r\n    return (\r\n      <div>\r\n        <h2>Superadmin Zone</h2>\r\n        <p>Only Superadmins can see this.</p>\r\n      </div>\r\n    )\r\n  }\r\n  ","export default function Unauthorized() {\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>🚫 403 - Forbidden</h2>\r\n      <p>You do not have permission to access this page.</p>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport api from \"../api/axios\";\r\n\r\nexport default function Dashboard() {\r\n  const [summary, setSummary] = useState(null);\r\n  const [reportsCounts, setReportsCounts] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        // ✅ Fetch both summary and reports counts\r\n        const [summaryRes, countsRes] = await Promise.all([\r\n          api.get(\"/dashboard/summary\"),\r\n          api.get(\"/dashboard/reports-counts\")\r\n        ]);\r\n        \r\n        console.log(\"Dashboard summary:\", summaryRes.data);\r\n        console.log(\"Reports counts:\", countsRes.data);\r\n        \r\n        setSummary(summaryRes.data);\r\n        setReportsCounts(countsRes.data);\r\n      } catch (err) {\r\n        console.error(\"Dashboard error:\", err);\r\n        setError(err.response?.data?.message || \"Failed to load dashboard\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  // ✅ Format registration type for display\r\n  const formatRegistrationType = (type) => {\r\n    if (!type) return 'Unknown';\r\n    return type.split('-').map(word => \r\n      word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\r\n    ).join('-');\r\n  };\r\n\r\n  // ✅ Get color for registration type\r\n  const getTypeColor = (type) => {\r\n    switch (type) {\r\n      case 'onsite': return '#007bff';\r\n      case 'online': return '#17a2b8';\r\n      case 'pre-registered': return '#6c757d';\r\n      case 'complimentary': return '#28a745';\r\n      default: return '#343a40';\r\n    }\r\n  };\r\n\r\n  // ✅ Styles\r\n  const styles = {\r\n    container: {\r\n      padding: \"20px\",\r\n      maxWidth: \"1400px\",\r\n      margin: \"0 auto\",\r\n      fontFamily: \"'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\"\r\n    },\r\n    header: {\r\n      marginBottom: \"30px\",\r\n      paddingBottom: \"15px\",\r\n      borderBottom: \"3px solid #007bff\"\r\n    },\r\n    section: {\r\n      marginBottom: \"30px\",\r\n      padding: \"20px\",\r\n      backgroundColor: \"#ffffff\",\r\n      borderRadius: \"8px\",\r\n      boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\r\n      border: \"1px solid #e9ecef\"\r\n    },\r\n    sectionTitle: {\r\n      fontSize: \"20px\",\r\n      fontWeight: \"bold\",\r\n      marginBottom: \"20px\",\r\n      color: \"#333\",\r\n      borderBottom: \"2px solid #f0f0f0\",\r\n      paddingBottom: \"10px\"\r\n    },\r\n    grid: {\r\n      display: \"grid\",\r\n      gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\r\n      gap: \"15px\"\r\n    },\r\n    card: {\r\n      padding: \"20px\",\r\n      backgroundColor: \"#fff\",\r\n      borderRadius: \"8px\",\r\n      boxShadow: \"0 2px 6px rgba(0,0,0,0.08)\",\r\n      border: \"1px solid #e9ecef\",\r\n      transition: \"transform 0.2s, box-shadow 0.2s\",\r\n      cursor: \"default\"\r\n    },\r\n    cardLabel: {\r\n      fontSize: \"13px\",\r\n      color: \"#6c757d\",\r\n      marginBottom: \"8px\",\r\n      fontWeight: \"500\",\r\n      textTransform: \"uppercase\",\r\n      letterSpacing: \"0.5px\"\r\n    },\r\n    cardValue: {\r\n      fontSize: \"32px\",\r\n      fontWeight: \"bold\",\r\n      lineHeight: \"1.2\"\r\n    },\r\n    badge: {\r\n      display: \"inline-block\",\r\n      padding: \"6px 12px\",\r\n      borderRadius: \"20px\",\r\n      fontSize: \"14px\",\r\n      fontWeight: \"600\"\r\n    },\r\n    progressBar: {\r\n      width: \"100%\",\r\n      height: \"8px\",\r\n      backgroundColor: \"#e9ecef\",\r\n      borderRadius: \"4px\",\r\n      overflow: \"hidden\",\r\n      marginTop: \"8px\"\r\n    },\r\n    progressFill: (percentage, color) => ({\r\n      width: `${percentage}%`,\r\n      height: \"100%\",\r\n      backgroundColor: color,\r\n      transition: \"width 0.3s ease\"\r\n    }),\r\n    table: {\r\n      width: \"100%\",\r\n      borderCollapse: \"collapse\",\r\n      backgroundColor: \"#fff\",\r\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.05)\"\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ ...styles.container, textAlign: \"center\", padding: \"60px\" }}>\r\n        <div style={{ fontSize: \"48px\", marginBottom: \"20px\" }}>⏳</div>\r\n        <div style={{ fontSize: \"18px\", color: \"#6c757d\" }}>Loading dashboard...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={{ ...styles.container, textAlign: \"center\", padding: \"60px\" }}>\r\n        <div style={{ fontSize: \"48px\", marginBottom: \"20px\" }}>❌</div>\r\n        <div style={{ fontSize: \"18px\", color: \"#dc3545\" }}>{error}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!summary || !reportsCounts) {\r\n    return (\r\n      <div style={{ ...styles.container, textAlign: \"center\", padding: \"60px\" }}>\r\n        <div style={{ fontSize: \"48px\", marginBottom: \"20px\" }}>📊</div>\r\n        <div style={{ fontSize: \"18px\", color: \"#6c757d\" }}>No data available</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Header */}\r\n      <div style={styles.header}>\r\n        <h1 style={{ margin: 0, fontSize: \"32px\", color: \"#333\" }}>📊 ICEGEX 2025 Dashboard</h1>\r\n        <p style={{ margin: \"10px 0 0 0\", color: \"#6c757d\", fontSize: \"16px\" }}>\r\n          Real-time event registration overview and analytics\r\n        </p>\r\n      </div>\r\n\r\n      {/* Overall Summary */}\r\n      <section style={styles.section}>\r\n        <h3 style={styles.sectionTitle}>📈 Overall Summary</h3>\r\n        <div style={styles.grid}>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #007bff\" }}>\r\n            <div style={styles.cardLabel}>👥 Total Registrations</div>\r\n            <div style={{ ...styles.cardValue, color: \"#007bff\" }}>\r\n              {reportsCounts.total || 0}\r\n            </div>\r\n          </div>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #28a745\" }}>\r\n            <div style={styles.cardLabel}>✅ Confirmed</div>\r\n            <div style={{ ...styles.cardValue, color: \"#28a745\" }}>\r\n              {reportsCounts.confirmed || 0}\r\n            </div>\r\n            {reportsCounts.total > 0 && (\r\n              <div style={styles.progressBar}>\r\n                <div style={styles.progressFill(\r\n                  Math.round((reportsCounts.confirmed / reportsCounts.total) * 100),\r\n                  \"#28a745\"\r\n                )}></div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #ffc107\" }}>\r\n            <div style={styles.cardLabel}>⏳ Unconfirmed</div>\r\n            <div style={{ ...styles.cardValue, color: \"#ffc107\" }}>\r\n              {reportsCounts.unconfirmed || 0}\r\n            </div>\r\n            {reportsCounts.total > 0 && (\r\n              <div style={styles.progressBar}>\r\n                <div style={styles.progressFill(\r\n                  Math.round((reportsCounts.unconfirmed / reportsCounts.total) * 100),\r\n                  \"#ffc107\"\r\n                )}></div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #17a2b8\" }}>\r\n            <div style={styles.cardLabel}>🖥️ Server Mode</div>\r\n            <div style={{ fontSize: \"20px\", fontWeight: \"bold\", color: \"#17a2b8\", marginTop: \"10px\" }}>\r\n              {summary.server_mode?.toUpperCase() || 'UNKNOWN'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Badge Status */}\r\n      <section style={styles.section}>\r\n        <h3 style={styles.sectionTitle}>🎫 Badge Print Status</h3>\r\n        <div style={styles.grid}>\r\n          <div style={styles.card}>\r\n            <div style={styles.cardLabel}>📄 Not Printed</div>\r\n            <div style={{ ...styles.cardValue, color: \"#6c757d\" }}>\r\n              {reportsCounts.badge_status?.not_printed || 0}\r\n            </div>\r\n          </div>\r\n          <div style={styles.card}>\r\n            <div style={styles.cardLabel}>✅ Printed</div>\r\n            <div style={{ ...styles.cardValue, color: \"#28a745\" }}>\r\n              {reportsCounts.badge_status?.printed || 0}\r\n            </div>\r\n          </div>\r\n          <div style={styles.card}>\r\n            <div style={styles.cardLabel}>🔄 Re-Printed</div>\r\n            <div style={{ ...styles.cardValue, color: \"#fd7e14\" }}>\r\n              {reportsCounts.badge_status?.reprinted || 0}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Payment Status */}\r\n      <section style={styles.section}>\r\n        <h3 style={styles.sectionTitle}>💰 Payment Status</h3>\r\n        <div style={styles.grid}>\r\n          <div style={styles.card}>\r\n            <div style={styles.cardLabel}>💵 Paid</div>\r\n            <div style={{ ...styles.cardValue, color: \"#28a745\" }}>\r\n              {reportsCounts.payment_status?.paid || 0}\r\n            </div>\r\n            {reportsCounts.total > 0 && (\r\n              <div style={{ marginTop: \"10px\", fontSize: \"14px\", color: \"#6c757d\" }}>\r\n                {Math.round((reportsCounts.payment_status?.paid / reportsCounts.total) * 100)}% of total\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={styles.card}>\r\n            <div style={styles.cardLabel}>❌ Unpaid</div>\r\n            <div style={{ ...styles.cardValue, color: \"#dc3545\" }}>\r\n              {reportsCounts.payment_status?.unpaid || 0}\r\n            </div>\r\n            {reportsCounts.total > 0 && (\r\n              <div style={{ marginTop: \"10px\", fontSize: \"14px\", color: \"#6c757d\" }}>\r\n                {Math.round((reportsCounts.payment_status?.unpaid / reportsCounts.total) * 100)}% of total\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={styles.card}>\r\n            <div style={styles.cardLabel}>🎁 Complimentary</div>\r\n            <div style={{ ...styles.cardValue, color: \"#17a2b8\" }}>\r\n              {reportsCounts.payment_status?.complimentary || 0}\r\n            </div>\r\n            {reportsCounts.total > 0 && (\r\n              <div style={{ marginTop: \"10px\", fontSize: \"14px\", color: \"#6c757d\" }}>\r\n                {Math.round((reportsCounts.payment_status?.complimentary / reportsCounts.total) * 100)}% of total\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Registration Type */}\r\n      <section style={styles.section}>\r\n        <h3 style={styles.sectionTitle}>📝 Registration Type Breakdown</h3>\r\n        <div style={styles.grid}>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #007bff\" }}>\r\n            <div style={styles.cardLabel}>🏢 Onsite</div>\r\n            <div style={{ ...styles.cardValue, color: \"#007bff\" }}>\r\n              {reportsCounts.registration_type?.onsite || 0}\r\n            </div>\r\n          </div>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #17a2b8\" }}>\r\n            <div style={styles.cardLabel}>💻 Online</div>\r\n            <div style={{ ...styles.cardValue, color: \"#17a2b8\" }}>\r\n              {reportsCounts.registration_type?.online || 0}\r\n            </div>\r\n          </div>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #6c757d\" }}>\r\n            <div style={styles.cardLabel}>📋 Pre-Registered</div>\r\n            <div style={{ ...styles.cardValue, color: \"#6c757d\" }}>\r\n              {reportsCounts.registration_type?.pre_registered || 0}\r\n            </div>\r\n          </div>\r\n          <div style={{ ...styles.card, borderLeft: \"4px solid #28a745\" }}>\r\n            <div style={styles.cardLabel}>🎁 Complimentary</div>\r\n            <div style={{ ...styles.cardValue, color: \"#28a745\" }}>\r\n              {reportsCounts.registration_type?.complimentary || 0}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Demographics Snapshot */}\r\n      {reportsCounts.demographics?.total_with_demographics > 0 && (\r\n        <section style={styles.section}>\r\n          <h3 style={styles.sectionTitle}>👥 Demographics Snapshot</h3>\r\n          <div style={{ marginBottom: \"20px\", padding: \"15px\", backgroundColor: \"#e7f3ff\", borderRadius: \"6px\" }}>\r\n            <div style={{ fontSize: \"16px\", color: \"#0c5460\" }}>\r\n              📊 <strong>{reportsCounts.demographics.total_with_demographics}</strong> registrants \r\n              ({Math.round((reportsCounts.demographics.total_with_demographics / reportsCounts.total) * 100)}%) \r\n              provided demographic information\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n            {/* Age Distribution */}\r\n            {Object.keys(reportsCounts.demographics?.age_ranges || {}).length > 0 && (\r\n              <div>\r\n                <h4 style={{ fontSize: \"16px\", marginBottom: \"15px\", color: \"#495057\" }}>Age Distribution</h4>\r\n                {Object.entries(reportsCounts.demographics.age_ranges)\r\n                  .sort((a, b) => a[0].localeCompare(b[0]))\r\n                  .map(([range, count]) => (\r\n                    <div key={range} style={{ marginBottom: \"12px\" }}>\r\n                      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: \"5px\" }}>\r\n                        <span style={{ fontSize: \"14px\", color: \"#495057\" }}>{range}</span>\r\n                        <span style={{ fontSize: \"14px\", fontWeight: \"bold\", color: \"#007bff\" }}>{count}</span>\r\n                      </div>\r\n                      <div style={styles.progressBar}>\r\n                        <div style={styles.progressFill(\r\n                          Math.round((count / reportsCounts.demographics.total_with_demographics) * 100),\r\n                          \"#007bff\"\r\n                        )}></div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Gender Distribution */}\r\n            {Object.keys(reportsCounts.demographics?.gender || {}).length > 0 && (\r\n              <div>\r\n                <h4 style={{ fontSize: \"16px\", marginBottom: \"15px\", color: \"#495057\" }}>Gender Distribution</h4>\r\n                {Object.entries(reportsCounts.demographics.gender)\r\n                  .sort((a, b) => b[1] - a[1])\r\n                  .map(([gender, count]) => (\r\n                    <div key={gender} style={{ marginBottom: \"12px\" }}>\r\n                      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: \"5px\" }}>\r\n                        <span style={{ fontSize: \"14px\", color: \"#495057\" }}>{gender}</span>\r\n                        <span style={{ fontSize: \"14px\", fontWeight: \"bold\", color: \"#6c757d\" }}>{count}</span>\r\n                      </div>\r\n                      <div style={styles.progressBar}>\r\n                        <div style={styles.progressFill(\r\n                          Math.round((count / reportsCounts.demographics.total_with_demographics) * 100),\r\n                          \"#6c757d\"\r\n                        )}></div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Survey Insights */}\r\n      {reportsCounts.survey?.total_with_survey > 0 && (\r\n        <section style={styles.section}>\r\n          <h3 style={styles.sectionTitle}>📊 Survey Insights - ICEGEX 2025</h3>\r\n          <div style={{ marginBottom: \"20px\", padding: \"15px\", backgroundColor: \"#d4edda\", borderRadius: \"6px\" }}>\r\n            <div style={{ fontSize: \"16px\", color: \"#155724\" }}>\r\n              ✅ <strong>{reportsCounts.survey.total_with_survey}</strong> registrants \r\n              ({Math.round((reportsCounts.survey.total_with_survey / reportsCounts.total) * 100)}%) \r\n              completed survey questions\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"20px\" }}>\r\n            {/* Top Industries */}\r\n            {Object.keys(reportsCounts.survey?.industry_sector || {}).length > 0 && (\r\n              <div>\r\n                <h4 style={{ fontSize: \"16px\", marginBottom: \"15px\", color: \"#495057\" }}>\r\n                  🏭 Top 5 Industries\r\n                </h4>\r\n                {Object.entries(reportsCounts.survey.industry_sector)\r\n                  .sort((a, b) => b[1] - a[1])\r\n                  .slice(0, 5)\r\n                  .map(([industry, count], index) => (\r\n                    <div key={industry} style={{ \r\n                      marginBottom: \"10px\", \r\n                      padding: \"10px\", \r\n                      backgroundColor: index === 0 ? \"#fff3cd\" : \"#f8f9fa\", \r\n                      borderRadius: \"6px\",\r\n                      borderLeft: index === 0 ? \"3px solid #ffc107\" : \"3px solid #dee2e6\"\r\n                    }}>\r\n                      <div style={{ fontSize: \"13px\", color: \"#495057\", marginBottom: \"3px\" }}>\r\n                        {industry.length > 40 ? industry.substring(0, 40) + '...' : industry}\r\n                      </div>\r\n                      <div style={{ fontSize: \"18px\", fontWeight: \"bold\", color: \"#28a745\" }}>{count} responses</div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Top Marketing Channels */}\r\n            {Object.keys(reportsCounts.survey?.how_did_you_learn || {}).length > 0 && (\r\n              <div>\r\n                <h4 style={{ fontSize: \"16px\", marginBottom: \"15px\", color: \"#495057\" }}>\r\n                  📢 Top 5 Marketing Channels\r\n                </h4>\r\n                {Object.entries(reportsCounts.survey.how_did_you_learn)\r\n                  .sort((a, b) => b[1] - a[1])\r\n                  .slice(0, 5)\r\n                  .map(([channel, count], index) => (\r\n                    <div key={channel} style={{ \r\n                      marginBottom: \"10px\", \r\n                      padding: \"10px\", \r\n                      backgroundColor: index === 0 ? \"#d1ecf1\" : \"#f8f9fa\", \r\n                      borderRadius: \"6px\",\r\n                      borderLeft: index === 0 ? \"3px solid #17a2b8\" : \"3px solid #dee2e6\"\r\n                    }}>\r\n                      <div style={{ fontSize: \"13px\", color: \"#495057\", marginBottom: \"3px\" }}>\r\n                        {channel.length > 35 ? channel.substring(0, 35) + '...' : channel}\r\n                      </div>\r\n                      <div style={{ fontSize: \"18px\", fontWeight: \"bold\", color: \"#17a2b8\" }}>{count} responses</div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Scans per User */}\r\n      <section style={styles.section}>\r\n        <h3 style={styles.sectionTitle}>🔍 Staff Activity - Scans per User</h3>\r\n        {summary.scans_per_user && summary.scans_per_user.length > 0 ? (\r\n          <div style={{ overflowX: \"auto\" }}>\r\n            <table style={styles.table}>\r\n              <thead style={{ backgroundColor: \"#343a40\", color: \"#fff\" }}>\r\n                <tr>\r\n                  <th style={{ padding: \"12px\", textAlign: \"left\" }}>ID</th>\r\n                  <th style={{ padding: \"12px\", textAlign: \"left\" }}>Name</th>\r\n                  <th style={{ padding: \"12px\", textAlign: \"left\" }}>Email</th>\r\n                  <th style={{ padding: \"12px\", textAlign: \"center\" }}>Total Scans</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {summary.scans_per_user.map((user, index) => (\r\n                  <tr \r\n                    key={user.id} \r\n                    style={{ \r\n                      borderBottom: \"1px solid #dee2e6\",\r\n                      backgroundColor: index % 2 === 0 ? \"#fff\" : \"#f8f9fa\"\r\n                    }}\r\n                  >\r\n                    <td style={{ padding: \"12px\" }}>{user.id}</td>\r\n                    <td style={{ padding: \"12px\", fontWeight: \"500\" }}>{user.name}</td>\r\n                    <td style={{ padding: \"12px\", color: \"#6c757d\" }}>{user.email}</td>\r\n                    <td style={{ \r\n                      padding: \"12px\", \r\n                      textAlign: \"center\",\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"18px\"\r\n                    }}>\r\n                      <span style={{\r\n                        ...styles.badge,\r\n                        backgroundColor: user.scans_count > 0 ? \"#28a745\" : \"#e9ecef\",\r\n                        color: user.scans_count > 0 ? \"#fff\" : \"#6c757d\"\r\n                      }}>\r\n                        {user.scans_count || 0}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div style={{ \r\n            padding: \"40px\", \r\n            textAlign: \"center\", \r\n            backgroundColor: \"#f8f9fa\", \r\n            borderRadius: \"8px\",\r\n            color: \"#6c757d\"\r\n          }}>\r\n            <div style={{ fontSize: \"48px\", marginBottom: \"10px\" }}>👥</div>\r\n            <div>No user scan activity yet</div>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from \"react\";\r\nimport { Form, Button, Row, Col, Spinner, Alert } from 'react-bootstrap';\r\n\r\nexport default function EditRegistrationForm({ registration, onSave, onCancel }) {\r\n  const [formData, setFormData] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (registration) {\r\n      setFormData({\r\n        first_name: registration.first_name || '',\r\n        last_name: registration.last_name || '',\r\n        email: registration.email || '',\r\n        phone: registration.phone || '',\r\n        address: registration.address || '',\r\n        company_name: registration.company_name || '',\r\n        registration_type: registration.registration_type || 'onsite',\r\n      });\r\n    }\r\n  }, [registration]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    // The onSave function (from the parent) will handle the API call\r\n    // We pass the form data along with the original ID.\r\n    try {\r\n        await onSave({ ...formData, id: registration.id });\r\n    } catch(err) {\r\n        // This allows the parent component to pass back an error message\r\n        setError(err.message || \"An unknown error occurred.\");\r\n    } finally {\r\n        setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      \r\n      <Row className=\"g-3\">\r\n        <Col md={6}>\r\n          <Form.Group controlId=\"formFirstName\">\r\n            <Form.Label>First Name</Form.Label>\r\n            <Form.Control type=\"text\" name=\"first_name\" value={formData.first_name} onChange={handleChange} required />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col md={6}>\r\n          <Form.Group controlId=\"formLastName\">\r\n            <Form.Label>Last Name</Form.Label>\r\n            <Form.Control type=\"text\" name=\"last_name\" value={formData.last_name} onChange={handleChange} required />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col md={6}>\r\n          <Form.Group controlId=\"formEmail\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col md={6}>\r\n          <Form.Group controlId=\"formPhone\">\r\n            <Form.Label>Phone</Form.Label>\r\n            <Form.Control type=\"text\" name=\"phone\" value={formData.phone} onChange={handleChange} />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col xs={12}>\r\n          <Form.Group controlId=\"formCompany\">\r\n            <Form.Label>Company Name</Form.Label>\r\n            <Form.Control type=\"text\" name=\"company_name\" value={formData.company_name} onChange={handleChange} />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col xs={12}>\r\n          <Form.Group controlId=\"formAddress\">\r\n            <Form.Label>Address</Form.Label>\r\n            <Form.Control as=\"textarea\" rows={2} name=\"address\" value={formData.address} onChange={handleChange} />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col xs={12}>\r\n          <Form.Group controlId=\"formRegType\">\r\n            <Form.Label>Registration Type</Form.Label>\r\n            <Form.Select name=\"registration_type\" value={formData.registration_type} onChange={handleChange}>\r\n              <option value=\"onsite\">Onsite</option>\r\n              <option value=\"online\">Online</option>\r\n              <option value=\"pre-registered\">Pre-Registered</option>\r\n              <option value=\"complimentary\">Complimentary</option>\r\n            </Form.Select>\r\n          </Form.Group>\r\n        </Col>\r\n      </Row>\r\n\r\n      <div className=\"d-flex justify-content-end gap-2 mt-4\">\r\n        <Button variant=\"secondary\" onClick={onCancel} disabled={loading}>Cancel</Button>\r\n        <Button variant=\"primary\" type=\"submit\" disabled={loading}>\r\n          {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" /> : 'Save Changes'}\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}","import { useEffect, useState } from \"react\";\r\nimport api from \"../api/axios\";\r\nimport EditRegistrationForm from \"../components/EditRegistrationForm\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport * as XLSX from 'xlsx';\r\n// ===========================\r\n// MODAL COMPONENTS\r\n// ===========================\r\n// Inline Modal Component with improved styling\r\nconst Modal = ({ isOpen, onClose, title, children, size = 'medium' }) => {\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n  if (!isOpen) return null;\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n  const sizeStyles = {\r\n    small: { width: '90%', maxWidth: '400px' },\r\n    medium: { width: '90%', maxWidth: '600px' },\r\n    large: { width: '90%', maxWidth: '900px' }\r\n  };\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 1000,\r\n      animation: 'fadeIn 0.2s ease-out'\r\n    }} onClick={handleBackdropClick}>\r\n      <style>{`\r\n        @keyframes fadeIn {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes slideIn {\r\n          from { transform: translateY(-50px); opacity: 0; }\r\n          to { transform: translateY(0); opacity: 1; }\r\n        }\r\n        @keyframes spin {\r\n          from { transform: rotate(0deg); }\r\n          to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n      <div style={{\r\n        ...sizeStyles[size],\r\n        backgroundColor: 'white',\r\n        borderRadius: '12px',\r\n        boxShadow: '0 10px 40px rgba(0, 0, 0, 0.2)',\r\n        maxHeight: '90vh',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        animation: 'slideIn 0.3s ease-out',\r\n        margin: '20px'\r\n      }}>\r\n        <div style={{\r\n          padding: '20px',\r\n          borderBottom: '1px solid #e9ecef',\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center'\r\n        }}>\r\n          <h3 style={{ margin: 0, fontSize: '1.25rem', fontWeight: 600, color: '#333' }}>\r\n            {title}\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              background: 'none',\r\n              border: 'none',\r\n              fontSize: '2rem',\r\n              lineHeight: 1,\r\n              color: '#999',\r\n              cursor: 'pointer',\r\n              padding: 0,\r\n              width: '32px',\r\n              height: '32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              borderRadius: '4px',\r\n              transition: 'all 0.2s'\r\n            }}\r\n            onMouseOver={(e) => {\r\n              e.currentTarget.style.backgroundColor = '#f5f5f5';\r\n              e.currentTarget.style.color = '#333';\r\n            }}\r\n            onMouseOut={(e) => {\r\n              e.currentTarget.style.backgroundColor = 'transparent';\r\n              e.currentTarget.style.color = '#999';\r\n            }}\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n        <div style={{ padding: '20px', overflowY: 'auto', flex: 1 }}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n// Payment Status Modal Component\r\nconst PaymentStatusModal = ({ isOpen, onClose, registration, onConfirm, isUpdating }) => {\r\n  const [selectedStatus, setSelectedStatus] = useState('');\r\n \r\n  if (!registration) return null;\r\n  const currentStatus = registration.payment_status || 'unpaid';\r\n  const handleConfirm = () => {\r\n    if (!selectedStatus) {\r\n      alert('Please select a payment status');\r\n      return;\r\n    }\r\n    if (selectedStatus === currentStatus) {\r\n      alert('Please select a different status than the current one');\r\n      return;\r\n    }\r\n    onConfirm(selectedStatus);\r\n  };\r\n  const paymentOptions = [\r\n    { value: 'paid', label: 'Paid', color: '#28a745', icon: '✅' },\r\n    { value: 'unpaid', label: 'Unpaid', color: '#dc3545', icon: '❌' },\r\n    { value: 'complimentary', label: 'Complimentary', color: '#17a2b8', icon: '🎁' },\r\n  ];\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Update Payment Status\" size=\"small\">\r\n      <div style={{ padding: '10px 0' }}>\r\n        <div style={{\r\n          backgroundColor: '#f8f9fa',\r\n          padding: '15px',\r\n          borderRadius: '8px',\r\n          marginBottom: '20px'\r\n        }}>\r\n          <h4 style={{ margin: '0 0 10px 0', color: '#495057' }}>Registration Details</h4>\r\n          <div style={{ fontSize: '0.9rem', color: '#6c757d' }}>\r\n            <div><strong>Name:</strong> {registration.first_name} {registration.last_name}</div>\r\n            <div><strong>Company:</strong> {registration.company_name || 'N/A'}</div>\r\n            <div><strong>Ticket:</strong> {registration.ticket_number}</div>\r\n            <div style={{ marginTop: '10px' }}>\r\n              <strong>Current Status:</strong>{' '}\r\n              <span style={{\r\n                padding: '4px 10px',\r\n                borderRadius: '12px',\r\n                backgroundColor: currentStatus === 'paid' ? '#28a745' :\r\n                               currentStatus === 'unpaid' ? '#dc3545' : '#17a2b8',\r\n                color: 'white',\r\n                fontSize: '0.85rem',\r\n                fontWeight: 'bold'\r\n              }}>\r\n                {currentStatus.toUpperCase()}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h4 style={{ margin: '0 0 15px 0', color: '#495057' }}>Select New Status</h4>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n            {paymentOptions.map(option => (\r\n              <label\r\n                key={option.value}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  padding: '12px',\r\n                  borderRadius: '8px',\r\n                  border: `2px solid ${selectedStatus === option.value ? option.color : '#dee2e6'}`,\r\n                  backgroundColor: selectedStatus === option.value ? `${option.color}15` : 'white',\r\n                  cursor: option.value === currentStatus ? 'not-allowed' : 'pointer',\r\n                  opacity: option.value === currentStatus ? 0.5 : 1,\r\n                  transition: 'all 0.2s'\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"paymentStatus\"\r\n                  value={option.value}\r\n                  checked={selectedStatus === option.value}\r\n                  onChange={(e) => setSelectedStatus(e.target.value)}\r\n                  disabled={option.value === currentStatus}\r\n                  style={{ marginRight: '12px' }}\r\n                />\r\n                <span style={{ fontSize: '1.2rem', marginRight: '10px' }}>{option.icon}</span>\r\n                <span style={{\r\n                  fontWeight: selectedStatus === option.value ? 'bold' : 'normal',\r\n                  color: option.value === currentStatus ? '#6c757d' : '#212529'\r\n                }}>\r\n                  {option.label}\r\n                  {option.value === currentStatus && ' (Current)'}\r\n                </span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '10px',\r\n          marginTop: '25px',\r\n          paddingTop: '20px',\r\n          borderTop: '1px solid #dee2e6'\r\n        }}>\r\n          <button\r\n            onClick={onClose}\r\n            disabled={isUpdating}\r\n            style={{\r\n              flex: 1,\r\n              padding: '10px',\r\n              border: '1px solid #dee2e6',\r\n              backgroundColor: 'white',\r\n              color: '#6c757d',\r\n              borderRadius: '6px',\r\n              cursor: 'pointer',\r\n              fontSize: '1rem',\r\n              fontWeight: '500',\r\n              transition: 'all 0.2s'\r\n            }}\r\n            onMouseOver={(e) => {\r\n              if (!isUpdating) {\r\n                e.currentTarget.style.backgroundColor = '#f8f9fa';\r\n              }\r\n            }}\r\n            onMouseOut={(e) => {\r\n              e.currentTarget.style.backgroundColor = 'white';\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleConfirm}\r\n            disabled={!selectedStatus || isUpdating}\r\n            style={{\r\n              flex: 1,\r\n              padding: '10px',\r\n              border: 'none',\r\n              backgroundColor: selectedStatus ?\r\n                (selectedStatus === 'paid' ? '#28a745' :\r\n                 selectedStatus === 'unpaid' ? '#dc3545' : '#17a2b8') : '#6c757d',\r\n              color: 'white',\r\n              borderRadius: '6px',\r\n              cursor: !selectedStatus || isUpdating ? 'not-allowed' : 'pointer',\r\n              fontSize: '1rem',\r\n              fontWeight: '600',\r\n              opacity: !selectedStatus || isUpdating ? 0.6 : 1,\r\n              transition: 'all 0.2s'\r\n            }}\r\n          >\r\n            {isUpdating ? 'Updating...' : 'Confirm Update'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n// Confirm Delete Modal\r\nconst ConfirmModal = ({ isOpen, onClose, onConfirm, title, message, confirmText = \"Confirm\", danger = false }) => {\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} title={title} size=\"small\">\r\n      <div>\r\n        <p style={{ fontSize: '1rem', color: '#495057', marginBottom: '20px', whiteSpace: 'pre-line' }}>\r\n          {message}\r\n        </p>\r\n        <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              padding: '10px 20px',\r\n              border: '1px solid #dee2e6',\r\n              backgroundColor: 'white',\r\n              color: '#6c757d',\r\n              borderRadius: '6px',\r\n              cursor: 'pointer',\r\n              fontSize: '1rem',\r\n              fontWeight: '500'\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              onConfirm();\r\n              onClose();\r\n            }}\r\n            style={{\r\n              padding: '10px 20px',\r\n              border: 'none',\r\n              backgroundColor: danger ? '#dc3545' : '#007bff',\r\n              color: 'white',\r\n              borderRadius: '6px',\r\n              cursor: 'pointer',\r\n              fontSize: '1rem',\r\n              fontWeight: '600'\r\n            }}\r\n          >\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n// ✅ FAST Import Modal\r\nconst ImportModal = ({ isOpen, onClose, onImport, isImporting, importResult }) => {\r\n  const [file, setFile] = useState(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files[0];\r\n    if (selectedFile) {\r\n      validateAndSetFile(selectedFile);\r\n    }\r\n  };\r\n  const validateAndSetFile = (selectedFile) => {\r\n    const validTypes = [\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      'application/vnd.ms-excel'\r\n    ];\r\n   \r\n    if (!validTypes.includes(selectedFile.type) &&\r\n        !selectedFile.name.match(/\\.(xlsx|xls)$/i)) {\r\n      alert('❌ Please select a valid Excel file (.xlsx or .xls)');\r\n      return;\r\n    }\r\n    if (selectedFile.size > 10 * 1024 * 1024) {\r\n      alert('❌ File size must be less than 10MB');\r\n      return;\r\n    }\r\n    setFile(selectedFile);\r\n  };\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n  };\r\n  const handleDragLeave = (e) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n  };\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n   \r\n    const droppedFile = e.dataTransfer.files[0];\r\n    if (droppedFile) {\r\n      validateAndSetFile(droppedFile);\r\n    }\r\n  };\r\n  const handleImport = () => {\r\n    if (!file) {\r\n      alert('Please select an Excel file');\r\n      return;\r\n    }\r\n    onImport(file);\r\n  };\r\n  const handleClose = () => {\r\n    if (isImporting) {\r\n      const confirmClose = window.confirm('Import is in progress. Are you sure you want to cancel?');\r\n      if (!confirmClose) return;\r\n    }\r\n    setFile(null);\r\n    onClose();\r\n  };\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      title=\"📥 Import Pre-Registrations\"\r\n      size=\"medium\"\r\n    >\r\n      <div style={{ padding: '10px 0' }}>\r\n        {/* Instructions */}\r\n        <div style={{\r\n          padding: '15px',\r\n          backgroundColor: '#e7f3ff',\r\n          borderLeft: '4px solid #007bff',\r\n          borderRadius: '4px',\r\n          marginBottom: '20px'\r\n        }}>\r\n          <h4 style={{ margin: '0 0 10px 0', color: '#004085' }}>📋 Required Columns</h4>\r\n          <ul style={{ margin: 0, paddingLeft: '20px', color: '#004085', fontSize: '0.9rem', lineHeight: '1.8' }}>\r\n            <li><strong>first_name</strong> - Required</li>\r\n            <li><strong>last_name</strong> - Required</li>\r\n            <li><strong>company_name</strong> - Optional</li>\r\n            <li><strong>address</strong> - Optional</li>\r\n            <li><strong>email</strong> - Optional</li>\r\n            <li><strong>phone</strong> - Optional</li>\r\n            <li><strong>payment_status</strong> - Optional (paid/unpaid/complimentary)</li>\r\n            <li><strong>registration_type</strong> - Optional (onsite/online/pre-registered)</li>\r\n          </ul>\r\n        </div>\r\n        {/* File Upload Area */}\r\n        <div\r\n          onDragOver={handleDragOver}\r\n          onDragLeave={handleDragLeave}\r\n          onDrop={handleDrop}\r\n          style={{\r\n            border: `2px dashed ${isDragging ? '#007bff' : '#dee2e6'}`,\r\n            borderRadius: '8px',\r\n            padding: '30px',\r\n            textAlign: 'center',\r\n            backgroundColor: isDragging ? '#e7f3ff' : '#f8f9fa',\r\n            transition: 'all 0.3s',\r\n            marginBottom: '20px',\r\n            cursor: 'pointer'\r\n          }}\r\n          onClick={() => !isImporting && document.getElementById('fileInput').click()}\r\n        >\r\n          <input\r\n            id=\"fileInput\"\r\n            type=\"file\"\r\n            accept=\".xlsx, .xls\"\r\n            onChange={handleFileChange}\r\n            disabled={isImporting}\r\n            style={{ display: 'none' }}\r\n          />\r\n         \r\n          {file ? (\r\n            <div>\r\n              <div style={{ fontSize: '3rem', marginBottom: '10px' }}>📄</div>\r\n              <div style={{ fontSize: '1rem', fontWeight: '600', color: '#28a745', marginBottom: '5px' }}>\r\n                ✓ {file.name}\r\n              </div>\r\n              <div style={{ fontSize: '0.85rem', color: '#6c757d' }}>\r\n                {(file.size / 1024).toFixed(2)} KB\r\n              </div>\r\n              {!isImporting && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setFile(null);\r\n                  }}\r\n                  style={{\r\n                    marginTop: '10px',\r\n                    padding: '5px 15px',\r\n                    backgroundColor: '#dc3545',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '4px',\r\n                    cursor: 'pointer',\r\n                    fontSize: '0.85rem'\r\n                  }}\r\n                >\r\n                  Remove File\r\n                </button>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div style={{ fontSize: '3rem', marginBottom: '10px' }}>📁</div>\r\n              <div style={{ fontSize: '1rem', fontWeight: '600', color: '#495057', marginBottom: '5px' }}>\r\n                {isDragging ? 'Drop file here' : 'Drag & drop Excel file here'}\r\n              </div>\r\n              <div style={{ fontSize: '0.85rem', color: '#6c757d', marginBottom: '10px' }}>\r\n                or click to browse\r\n              </div>\r\n              <div style={{ fontSize: '0.75rem', color: '#999' }}>\r\n                Supported: .xlsx, .xls (Max 10MB)\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {/* Progress Indicator */}\r\n        {isImporting && (\r\n          <div style={{\r\n            marginBottom: '20px',\r\n            padding: '20px',\r\n            backgroundColor: '#f8f9fa',\r\n            borderRadius: '8px',\r\n            border: '1px solid #dee2e6',\r\n            textAlign: 'center'\r\n          }}>\r\n            <div style={{ fontSize: '2rem', marginBottom: '10px', animation: 'spin 1s linear infinite' }}>⏳</div>\r\n            <div style={{ fontSize: '1rem', fontWeight: '600', color: '#007bff', marginBottom: '5px' }}>\r\n              Processing Excel File...\r\n            </div>\r\n            <div style={{ fontSize: '0.85rem', color: '#6c757d' }}>\r\n              Please wait, this may take a moment\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* Action Buttons */}\r\n        <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\r\n          <button\r\n            onClick={handleClose}\r\n            disabled={isImporting}\r\n            style={{\r\n              flex: 1,\r\n              padding: '12px',\r\n              border: '1px solid #dee2e6',\r\n              backgroundColor: 'white',\r\n              color: '#6c757d',\r\n              borderRadius: '6px',\r\n              cursor: isImporting ? 'not-allowed' : 'pointer',\r\n              fontSize: '1rem',\r\n              fontWeight: '500',\r\n              opacity: isImporting ? 0.5 : 1\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleImport}\r\n            disabled={isImporting || !file}\r\n            style={{\r\n              flex: 1,\r\n              padding: '12px',\r\n              border: 'none',\r\n              backgroundColor: '#28a745',\r\n              color: 'white',\r\n              borderRadius: '6px',\r\n              cursor: isImporting || !file ? 'not-allowed' : 'pointer',\r\n              fontSize: '1rem',\r\n              fontWeight: '600',\r\n              opacity: isImporting || !file ? 0.6 : 1\r\n            }}\r\n          >\r\n            {isImporting ? '⏳ Importing...' : '📥 Start Import'}\r\n          </button>\r\n        </div>\r\n        {/* Import Report */}\r\n        {importResult && !isImporting && (\r\n          <div style={{\r\n            padding: '15px',\r\n            backgroundColor: importResult.hasErrors ? '#fff3cd' : '#d4edda',\r\n            borderRadius: '8px',\r\n            border: `1px solid ${importResult.hasErrors ? '#ffc107' : '#28a745'}`\r\n          }}>\r\n            <h4 style={{\r\n              margin: '0 0 10px 0',\r\n              color: importResult.hasErrors ? '#856404' : '#155724'\r\n            }}>\r\n              ✅ Import Complete\r\n            </h4>\r\n            <pre style={{\r\n              whiteSpace: 'pre-wrap',\r\n              fontSize: '0.9rem',\r\n              color: '#212529',\r\n              margin: 0,\r\n              maxHeight: '300px',\r\n              overflowY: 'auto',\r\n              fontFamily: 'monospace'\r\n            }}>\r\n              {importResult.report}\r\n            </pre>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n// ===========================\r\n// MAIN COMPONENT\r\n// ===========================\r\nexport default function Registrations() {\r\n  const { user, loading: authLoading } = useAuth();\r\n \r\n  const [allRegistrations, setAllRegistrations] = useState([]);\r\n  const [filteredRegistrations, setFilteredRegistrations] = useState([]);\r\n \r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [printingId, setPrintingId] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [editingRegistration, setEditingRegistration] = useState(null);\r\n  const [togglingPaymentId, setTogglingPaymentId] = useState(null);\r\n  const [expandedRowId, setExpandedRowId] = useState(null);\r\n \r\n  const [search, setSearch] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('desc');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [recordsPerPage] = useState(15);\r\n  const [paymentModalOpen, setPaymentModalOpen] = useState(false);\r\n  const [selectedRegistration, setSelectedRegistration] = useState(null);\r\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n  const [registrationToDelete, setRegistrationToDelete] = useState(null);\r\n  const [importModalOpen, setImportModalOpen] = useState(false);\r\n  const [isImporting, setIsImporting] = useState(false);\r\n  const [importResult, setImportResult] = useState(null);\r\n  const [filters, setFilters] = useState({\r\n    registrationType: 'all',\r\n    paymentStatus: 'all',\r\n  });\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const backendBase = api.defaults.baseURL;\r\n  const isAuthorized =\r\n    user &&\r\n    [\"admin\", \"superadmin\"].includes(user.role?.name) &&\r\n    user.role?.permissions?.includes(\"view-registrations\");\r\n  const canEdit = user?.role?.permissions?.includes(\"edit-registration\");\r\n  const canDelete = user?.role?.permissions?.includes(\"delete-registration\");\r\n  // ===========================\r\n  // HELPER FUNCTIONS\r\n  // ===========================\r\n  const formatRegistrationType = (type) => {\r\n    if (!type) return 'N/A';\r\n    return type.split('-').map(word =>\r\n      word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\r\n    ).join('-');\r\n  };\r\n  const getTypeColor = (type) => {\r\n    switch (type) {\r\n      case 'onsite': return '#007bff';\r\n      case 'online': return '#17a2b8';\r\n      case 'pre-registered': return '#6c757d';\r\n      case 'complimentary': return '#28a745';\r\n      default: return '#343a40';\r\n    }\r\n  };\r\n  const getPaymentColor = (status) => {\r\n    switch (status) {\r\n      case 'paid': return '#28a745';\r\n      case 'unpaid': return '#dc3545';\r\n      case 'complimentary': return '#17a2b8';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n  const getBadgeStatusColor = (statusName) => {\r\n    switch (statusName) {\r\n      case 'not_printed': return '#6c757d';\r\n      case 'queued': return '#ffc107';\r\n      case 'printing': return '#007bff';\r\n      case 'printed': return '#28a745';\r\n      case 'reprinted': return '#fd7e14';\r\n      case 'failed': return '#dc3545';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n  // ===========================\r\n  // DATA FETCHING\r\n  // ===========================\r\n  const fetchAllRegistrations = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      let allData = [];\r\n      let currentPageNum = 1;\r\n      let lastPage = 1;\r\n      do {\r\n        const res = await api.get(\"/registrations\", {\r\n          params: { per_page: 500, page: currentPageNum }\r\n        });\r\n       \r\n        const responseData = res.data;\r\n       \r\n        if (responseData.data) {\r\n          allData = [...allData, ...responseData.data];\r\n          lastPage = responseData.last_page || 1;\r\n          currentPageNum++;\r\n        } else {\r\n          allData = Array.isArray(responseData) ? responseData : [];\r\n          break;\r\n        }\r\n      } while (currentPageNum <= lastPage);\r\n      console.log('✅ Loaded all registrations:', allData.length);\r\n     \r\n      setAllRegistrations(allData);\r\n      setFilteredRegistrations(allData);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Failed to load registrations\");\r\n      setAllRegistrations([]);\r\n      setFilteredRegistrations([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (isAuthorized) {\r\n      fetchAllRegistrations();\r\n    }\r\n  }, [isAuthorized]);\r\n  // ===========================\r\n  // FILTER & SORT\r\n  // ===========================\r\n  const filterAndSortData = () => {\r\n    let filtered = [...allRegistrations];\r\n    if (search.trim()) {\r\n      const searchLower = search.toLowerCase().trim();\r\n      filtered = filtered.filter(reg => {\r\n        const firstName = (reg.first_name || '').toLowerCase();\r\n        const lastName = (reg.last_name || '').toLowerCase();\r\n        const fullName = `${firstName} ${lastName}`;\r\n        const email = (reg.email || '').toLowerCase();\r\n        const company = (reg.company_name || '').toLowerCase();\r\n        const ticket = (reg.ticket_number || '').toLowerCase();\r\n       \r\n        return firstName.includes(searchLower)\r\n          || lastName.includes(searchLower)\r\n          || fullName.includes(searchLower)\r\n          || email.includes(searchLower)\r\n          || company.includes(searchLower)\r\n          || ticket.includes(searchLower);\r\n      });\r\n    }\r\n    if (filters.registrationType !== 'all') {\r\n      filtered = filtered.filter(reg => reg.registration_type === filters.registrationType);\r\n    }\r\n    if (filters.paymentStatus !== 'all') {\r\n      filtered = filtered.filter(reg => reg.payment_status === filters.paymentStatus);\r\n    }\r\n    filtered.sort((a, b) => {\r\n      const aVal = a.id || 0;\r\n      const bVal = b.id || 0;\r\n      return sortOrder === 'asc' ? aVal - bVal : bVal - aVal;\r\n    });\r\n    console.log(`🔍 Filtered: ${filtered.length} from ${allRegistrations.length}`);\r\n    setFilteredRegistrations(filtered);\r\n  };\r\n  useEffect(() => {\r\n    filterAndSortData();\r\n    setCurrentPage(1);\r\n  }, [search, sortOrder, filters, allRegistrations]);\r\n  const handleSearchChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n  const handleClearSearch = () => {\r\n    setSearch('');\r\n  };\r\n  const handleToggleSort = () => {\r\n    setSortOrder(prev => prev === 'asc' ? 'desc' : 'asc');\r\n  };\r\n  const handleResetFilters = () => {\r\n    setFilters({\r\n      registrationType: 'all',\r\n      paymentStatus: 'all',\r\n    });\r\n    setSearch('');\r\n  };\r\n  const toggleExpandRow = (id) => {\r\n    setExpandedRowId(prev => prev === id ? null : id);\r\n  };\r\n  // ===========================\r\n  // ACTION HANDLERS\r\n  // ===========================\r\n  const handlePaymentStatusChange = (registration) => {\r\n    if (!canEdit) {\r\n      alert(\"You don't have permission to change payment status.\");\r\n      return;\r\n    }\r\n    setSelectedRegistration(registration);\r\n    setPaymentModalOpen(true);\r\n  };\r\n  const handlePaymentStatusUpdate = async (newStatus) => {\r\n    if (!selectedRegistration) return;\r\n   \r\n    setTogglingPaymentId(selectedRegistration.id);\r\n    setError(null);\r\n    try {\r\n      const response = await api.put(`/registrations/${selectedRegistration.id}/payment-status`, {\r\n        payment_status: newStatus\r\n      });\r\n     \r\n      const updatedData = response.data;\r\n      setAllRegistrations(prevRegs =>\r\n        prevRegs.map(reg => reg.id === selectedRegistration.id ? updatedData : reg)\r\n      );\r\n      setFilteredRegistrations(prevRegs =>\r\n        prevRegs.map(reg => reg.id === selectedRegistration.id ? updatedData : reg)\r\n      );\r\n      setPaymentModalOpen(false);\r\n      setSelectedRegistration(null);\r\n     \r\n      alert(`✅ Payment status updated to ${newStatus.toUpperCase()}`);\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data?.error || err.response?.data?.message || \"Failed to update payment status\";\r\n      setError(errorMsg);\r\n      alert(`❌ ${errorMsg}`);\r\n    } finally {\r\n      setTogglingPaymentId(null);\r\n    }\r\n  };\r\n  const handleEditClick = (reg) => {\r\n    setEditingRegistration(reg);\r\n    setIsModalOpen(true);\r\n  };\r\n  const handleUpdateSave = async (updatedReg) => {\r\n    try {\r\n      await api.put(`/registrations/${updatedReg.id}`, updatedReg);\r\n      setIsModalOpen(false);\r\n      setEditingRegistration(null);\r\n      fetchAllRegistrations();\r\n      alert(\"✅ Registration updated successfully\");\r\n    } catch (error) {\r\n      if (error.response?.status === 409) {\r\n        alert(`❌ Update Failed:\\n\\n${error.response.data.error}\\n\\nPlease use a different name.`);\r\n      } else {\r\n        alert(\"❌ Failed to update registration. See console for details.\");\r\n      }\r\n      console.error(\"Update failed:\", error.response || error);\r\n    }\r\n  };\r\n  const handleDelete = (reg) => {\r\n    setRegistrationToDelete(reg);\r\n    setDeleteModalOpen(true);\r\n  };\r\n  const confirmDelete = async () => {\r\n    if (!registrationToDelete) return;\r\n    try {\r\n      const response = await api.delete(`/registrations/${registrationToDelete.id}`);\r\n      if (response.status === 204) {\r\n        setAllRegistrations(prev => prev.filter(reg => reg.id !== registrationToDelete.id));\r\n        setFilteredRegistrations(prev => prev.filter(reg => reg.id !== registrationToDelete.id));\r\n       \r\n        if (currentRecords.length === 1 && currentPage > 1) {\r\n          setCurrentPage(currentPage - 1);\r\n        }\r\n       \r\n        alert(\"✅ Registration deleted successfully\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"❌ Failed to delete registration. See console for details.\");\r\n      console.error(\"Delete failed:\", error.response || error);\r\n    } finally {\r\n      setRegistrationToDelete(null);\r\n    }\r\n  };\r\n  const handlePrintBadge = async (reg) => {\r\n    setError(\"\");\r\n    const ticket = reg.ticket_number;\r\n    const printWin = window.open(\"\", \"_blank\");\r\n    setPrintingId(reg.id);\r\n    try {\r\n      await api.post(`/registrations/${ticket}/scan`);\r\n      const badgeUrl = `/print-badge/${ticket}`;\r\n      if (printWin) {\r\n        printWin.location = badgeUrl;\r\n        printWin.focus();\r\n      } else {\r\n        window.open(badgeUrl, \"_blank\");\r\n      }\r\n      fetchAllRegistrations();\r\n    } catch (err) {\r\n      if (printWin) {\r\n        try { printWin.close(); } catch (_) {}\r\n      }\r\n      const code = err.response?.status;\r\n      const msg =\r\n        code === 404 ? \"Ticket not found.\" :\r\n        code === 403 ? \"Scan not allowed in current mode or permission denied.\" :\r\n        code === 409 ? \"Reprint limit reached for this badge.\" :\r\n        err.response?.data?.error || err.response?.data?.message || \"Scan/print failed.\";\r\n      setError(msg);\r\n      if (code && code !== 401) {\r\n        const proceed = window.confirm(`${msg}\\n\\nOpen badge page anyway?`);\r\n        if (proceed) {\r\n          const badgeUrl = `${backendBase}/registrations/${ticket}/badge?show_qr=false&print=true`;\r\n          window.open(badgeUrl, \"_blank\");\r\n        }\r\n      }\r\n    } finally {\r\n      setPrintingId(null);\r\n    }\r\n  };\r\n    // ✅ FAST Import Handler\r\n    // ✅ SIMPLIFIED Import Handler (now that backend batch is reliable)\r\n    const handleImport = async (file) => {\r\n      setIsImporting(true);\r\n      setImportResult(null);\r\n      setError(null);\r\n\r\n      try {\r\n    const reader = new FileReader();\r\n    \r\n    reader.onload = async (e) => {\r\n      try {\r\n        // Parse Excel\r\n        const data = new Uint8Array(e.target.result);\r\n        const workbook = XLSX.read(data, { type: 'array' });\r\n        const sheetName = workbook.SheetNames[0];\r\n        const worksheet = workbook.Sheets[sheetName];\r\n        const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });\r\n\r\n        if (jsonData.length < 2) {\r\n          setImportResult({\r\n            report: '❌ Error: Excel file is empty or has no data rows',\r\n            hasErrors: true\r\n          });\r\n          setIsImporting(false);\r\n          return;\r\n        }\r\n\r\n        // Get headers\r\n        const headers = jsonData[0].map(h => h.toString().toLowerCase().trim());\r\n        const requiredHeaders = ['first_name', 'last_name'];\r\n        const missingHeaders = requiredHeaders.filter(h => !headers.includes(h));\r\n\r\n        if (missingHeaders.length > 0) {\r\n          setImportResult({\r\n            report: `❌ Missing Required Columns: ${missingHeaders.join(', ')}\\n\\nFound: ${headers.join(', ')}`,\r\n            hasErrors: true\r\n          });\r\n          setIsImporting(false);\r\n          return;\r\n        }\r\n\r\n        // Parse rows\r\n        const rows = jsonData.slice(1).filter(row => row.some(cell => cell !== null && cell !== ''));\r\n        const registrations = [];\r\n        const clientErrors = [];\r\n\r\n        rows.forEach((row, idx) => {\r\n          const rowNum = idx + 2;\r\n          const rowData = {};\r\n          headers.forEach((header, index) => {\r\n            rowData[header] = row[index];\r\n          });\r\n\r\n          const first_name = rowData.first_name?.toString().trim();\r\n          const last_name = rowData.last_name?.toString().trim();\r\n\r\n          if (!first_name || !last_name) {\r\n            clientErrors.push(`Row ${rowNum}: Missing first_name or last_name`);\r\n            return;\r\n          }\r\n\r\n          const normalizedType = rowData.registration_type\r\n            ? rowData.registration_type.toString().toLowerCase().replace(/\\s+/g, '-')\r\n            : 'pre-registered';\r\n\r\n          registrations.push({\r\n            first_name,\r\n            last_name,\r\n            company_name: rowData.company_name?.toString().trim() || null,\r\n            address: rowData.address?.toString().trim() || null,\r\n            email: rowData.email?.toString().trim() || null,\r\n            phone: rowData.phone?.toString().trim() || null,\r\n            payment_status: rowData.payment_status?.toString().toLowerCase().trim() || 'unpaid',\r\n            registration_type: normalizedType,\r\n          });\r\n        });\r\n\r\n        if (registrations.length === 0) {\r\n          setImportResult({\r\n            report: `❌ No valid registrations to import\\n\\nValidation Errors:\\n${clientErrors.join('\\n')}`,\r\n            hasErrors: true\r\n          });\r\n          setIsImporting(false);\r\n          return;\r\n        }\r\n\r\n        // 🚀 SEND TO BACKEND BATCH ENDPOINT\r\n        const response = await api.post('/registrations/batch', {\r\n          registrations: registrations\r\n        });\r\n\r\n        const { successful, failed, errors: serverErrors, message } = response.data;\r\n\r\n        // Combine client-side and server-side errors\r\n        const allErrors = [...clientErrors, ...(serverErrors || [])];\r\n\r\n        // Create final report\r\n        const finalReport = `\r\n        ╔════════════════════════════════════╗\r\n        ║      IMPORT COMPLETE ✅             ║\r\n        ╚════════════════════════════════════╝\r\n\r\n        📊 Summary:\r\n        ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\r\n        ✅ Successfully Imported:  ${successful}\r\n        ❌ Failed:                 ${failed + clientErrors.length}\r\n        ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\r\n        📝 Total Rows Processed:   ${rows.length}\r\n\r\n        ${allErrors.length > 0 ? `\\n⚠️ Errors (showing first 15):\\n${allErrors.slice(0, 15).join('\\n')}${allErrors.length > 15 ? `\\n\\n... and ${allErrors.length - 15} more errors` : ''}` : '\\n🎉 All registrations imported successfully!'}\r\n        `;\r\n\r\n        setImportResult({\r\n          report: finalReport.trim(),\r\n          hasErrors: allErrors.length > 0\r\n        });\r\n\r\n        // Refresh registrations list if any were successful\r\n        if (successful > 0) {\r\n          await fetchAllRegistrations();\r\n        }\r\n\r\n      } catch (err) {\r\n        console.error('Import error:', err);\r\n        \r\n        const errorMessage = err.response?.data?.message || \r\n                           err.response?.data?.error || \r\n                           err.message || \r\n                           'Unknown error occurred';\r\n\r\n        setImportResult({\r\n          report: `❌ Import Failed\\n\\n${errorMessage}\\n\\nPlease check your file format and try again.`,\r\n          hasErrors: true\r\n        });\r\n      } finally {\r\n        setIsImporting(false);\r\n      }\r\n    };\r\n\r\n    reader.onerror = () => {\r\n      setImportResult({\r\n        report: '❌ Error: Failed to read file\\n\\nPlease ensure the file is not corrupted.',\r\n        hasErrors: true\r\n      });\r\n      setIsImporting(false);\r\n    };\r\n\r\n    reader.readAsArrayBuffer(file);\r\n\r\n  } catch (err) {\r\n    setError('Failed to process Excel file: ' + err.message);\r\n    setIsImporting(false);\r\n  }\r\n};\r\n  // ===========================\r\n  // PAGINATION\r\n  // ===========================\r\n  const indexOfLastRecord = currentPage * recordsPerPage;\r\n  const indexOfFirstRecord = indexOfLastRecord - recordsPerPage;\r\n  const currentRecords = filteredRegistrations.slice(indexOfFirstRecord, indexOfLastRecord);\r\n  const totalPages = Math.ceil(filteredRegistrations.length / recordsPerPage);\r\n  const renderPagination = () => {\r\n    if (totalPages <= 1) return null;\r\n    const maxPagesToShow = 5;\r\n    let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));\r\n    let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);\r\n    if (endPage - startPage < maxPagesToShow - 1) {\r\n      startPage = Math.max(1, endPage - maxPagesToShow + 1);\r\n    }\r\n    return (\r\n      <div style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        marginTop: \"20px\",\r\n        flexWrap: \"wrap\",\r\n        gap: \"15px\"\r\n      }}>\r\n        <div style={{ fontSize: \"0.9rem\", color: \"#6c757d\" }}>\r\n          Showing <strong>{indexOfFirstRecord + 1}</strong> to{' '}\r\n          <strong>{Math.min(indexOfLastRecord, filteredRegistrations.length)}</strong> of{' '}\r\n          <strong>{filteredRegistrations.length}</strong> registrations\r\n        </div>\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\", flexWrap: \"wrap\" }}>\r\n          <button\r\n            onClick={() => setCurrentPage(1)}\r\n            disabled={currentPage === 1}\r\n            style={{\r\n              ...paginationButtonStyle,\r\n              opacity: currentPage === 1 ? 0.5 : 1,\r\n              cursor: currentPage === 1 ? \"not-allowed\" : \"pointer\"\r\n            }}\r\n          >\r\n            ⏮ First\r\n          </button>\r\n          <button\r\n            onClick={() => setCurrentPage(currentPage - 1)}\r\n            disabled={currentPage === 1}\r\n            style={{\r\n              ...paginationButtonStyle,\r\n              opacity: currentPage === 1 ? 0.5 : 1,\r\n              cursor: currentPage === 1 ? \"not-allowed\" : \"pointer\"\r\n            }}\r\n          >\r\n            ← Previous\r\n          </button>\r\n          {startPage > 1 && (\r\n            <>\r\n              <button onClick={() => setCurrentPage(1)} style={paginationButtonStyle}>1</button>\r\n              {startPage > 2 && <span style={{ padding: \"0 8px\", color: \"#6c757d\" }}>...</span>}\r\n            </>\r\n          )}\r\n          {Array.from({ length: endPage - startPage + 1 }, (_, idx) => {\r\n            const pageNum = startPage + idx;\r\n            return (\r\n              <button\r\n                key={pageNum}\r\n                onClick={() => setCurrentPage(pageNum)}\r\n                style={{\r\n                  ...paginationButtonStyle,\r\n                  ...(pageNum === currentPage ? activePaginationButtonStyle : {})\r\n                }}\r\n              >\r\n                {pageNum}\r\n              </button>\r\n            );\r\n          })}\r\n          {endPage < totalPages && (\r\n            <>\r\n              {endPage < totalPages - 1 && <span style={{ padding: \"0 8px\", color: \"#6c757d\" }}>...</span>}\r\n              <button onClick={() => setCurrentPage(totalPages)} style={paginationButtonStyle}>{totalPages}</button>\r\n            </>\r\n          )}\r\n          <button\r\n            onClick={() => setCurrentPage(currentPage + 1)}\r\n            disabled={currentPage === totalPages}\r\n            style={{\r\n              ...paginationButtonStyle,\r\n              opacity: currentPage === totalPages ? 0.5 : 1,\r\n              cursor: currentPage === totalPages ? \"not-allowed\" : \"pointer\"\r\n            }}\r\n          >\r\n            Next →\r\n          </button>\r\n          <button\r\n            onClick={() => setCurrentPage(totalPages)}\r\n            disabled={currentPage === totalPages}\r\n            style={{\r\n              ...paginationButtonStyle,\r\n              opacity: currentPage === totalPages ? 0.5 : 1,\r\n              cursor: currentPage === totalPages ? \"not-allowed\" : \"pointer\"\r\n            }}\r\n          >\r\n            Last ⏭\r\n          </button>\r\n        </div>\r\n        <div style={{ fontSize: \"0.9rem\", color: \"#6c757d\" }}>\r\n          Page <strong>{currentPage}</strong> of <strong>{totalPages}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  // ===========================\r\n  // RENDER HELPERS\r\n  // ===========================\r\n  const renderExpandedRow = (reg) => {\r\n    return (\r\n      <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n        <td colSpan=\"9\" style={{ padding: '20px' }}>\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n            gap: '20px',\r\n            fontSize: '0.9rem'\r\n          }}>\r\n            <div style={detailBoxStyle}>\r\n              <h4 style={detailTitleStyle}>👤 Personal Information</h4>\r\n              <div style={detailRowStyle}><strong>Email:</strong> {reg.email || 'Not provided'}</div>\r\n              <div style={detailRowStyle}><strong>Phone:</strong> {reg.phone || 'Not provided'}</div>\r\n              <div style={detailRowStyle}><strong>Address:</strong> {reg.address || 'Not provided'}</div>\r\n              <div style={detailRowStyle}><strong>Designation:</strong> {reg.designation || 'Not provided'}</div>\r\n            </div>\r\n            <div style={detailBoxStyle}>\r\n              <h4 style={detailTitleStyle}>📊 Demographics</h4>\r\n              <div style={detailRowStyle}><strong>Age Range:</strong> {reg.age_range || 'Not provided'}</div>\r\n              <div style={detailRowStyle}><strong>Gender:</strong> {reg.gender || 'Not provided'}</div>\r\n              {reg.gender === 'Others' && reg.gender_other && (\r\n                <div style={detailRowStyle}><strong>Gender (Other):</strong> {reg.gender_other}</div>\r\n              )}\r\n            </div>\r\n            <div style={detailBoxStyle}>\r\n              <h4 style={detailTitleStyle}>📝 Survey - ICEGEX 2025</h4>\r\n              <div style={detailRowStyle}><strong>Industry Sector:</strong> {reg.industry_sector || 'Not provided'}</div>\r\n              {reg.industry_sector === 'Others' && reg.industry_sector_other && (\r\n                <div style={{ ...detailRowStyle, fontSize: '0.85rem', color: '#666', marginLeft: '15px' }}>\r\n                  Specified: {reg.industry_sector_other}\r\n                </div>\r\n              )}\r\n              <div style={detailRowStyle}><strong>Reason for Attending:</strong> {reg.reason_for_attending || 'Not provided'}</div>\r\n              {reg.reason_for_attending === 'Others' && reg.reason_for_attending_other && (\r\n                <div style={{ ...detailRowStyle, fontSize: '0.85rem', color: '#666', marginLeft: '15px' }}>\r\n                  Specified: {reg.reason_for_attending_other}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div style={detailBoxStyle}>\r\n              <h4 style={detailTitleStyle}>💡 Additional Information</h4>\r\n              <div style={detailRowStyle}><strong>Areas of Interest:</strong> {reg.specific_areas_of_interest || 'Not provided'}</div>\r\n              {reg.specific_areas_of_interest === 'Others' && reg.specific_areas_of_interest_other && (\r\n                <div style={{ ...detailRowStyle, fontSize: '0.85rem', color: '#666', marginLeft: '15px' }}>\r\n                  Other: {reg.specific_areas_of_interest_other}\r\n                </div>\r\n              )}\r\n              <div style={detailRowStyle}><strong>How did you learn:</strong> {reg.how_did_you_learn_about || 'Not provided'}</div>\r\n              {reg.how_did_you_learn_about === 'Others' && reg.how_did_you_learn_about_other && (\r\n                <div style={{ ...detailRowStyle, fontSize: '0.85rem', color: '#666', marginLeft: '15px' }}>\r\n                  Other: {reg.how_did_you_learn_about_other}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div style={detailBoxStyle}>\r\n              <h4 style={detailTitleStyle}>⚙️ System Information</h4>\r\n              <div style={detailRowStyle}><strong>Registered:</strong> {formatDate(reg.created_at)}</div>\r\n              <div style={detailRowStyle}><strong>Registered By:</strong> {reg.registered_by?.name || 'System'}</div>\r\n              <div style={detailRowStyle}><strong>Confirmed:</strong> {reg.confirmed ? `Yes (${formatDate(reg.confirmed_at)})` : 'No'}</div>\r\n              <div style={detailRowStyle}><strong>Server Mode:</strong> {reg.server_mode || 'N/A'}</div>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    );\r\n  };\r\n  // ===========================\r\n  // STYLES\r\n  // ===========================\r\n  const paginationButtonStyle = {\r\n    padding: \"8px 12px\",\r\n    backgroundColor: \"#007bff\",\r\n    color: \"white\",\r\n    border: \"none\",\r\n    borderRadius: \"4px\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"0.85rem\",\r\n    transition: \"all 0.3s\"\r\n  };\r\n  const activePaginationButtonStyle = {\r\n    backgroundColor: \"#0056b3\",\r\n    fontWeight: \"bold\",\r\n    boxShadow: \"0 2px 8px rgba(0,91,187,0.4)\"\r\n  };\r\n  const detailBoxStyle = {\r\n    padding: '15px',\r\n    backgroundColor: 'white',\r\n    borderRadius: '8px',\r\n    border: '1px solid #dee2e6'\r\n  };\r\n  const detailTitleStyle = {\r\n    marginTop: 0,\r\n    color: '#007bff',\r\n    borderBottom: '2px solid #007bff',\r\n    paddingBottom: '8px',\r\n    marginBottom: '10px',\r\n    fontSize: '1rem'\r\n  };\r\n  const detailRowStyle = {\r\n    padding: '6px 0',\r\n    borderBottom: '1px solid #e9ecef',\r\n    fontSize: '0.9rem'\r\n  };\r\n  // ===========================\r\n  // RENDER GUARDS\r\n  // ===========================\r\n  if (authLoading) return <p style={{ textAlign: \"center\", fontSize: \"1.2rem\", color: \"#555\", padding: \"40px\" }}>⏳ Checking authorization...</p>;\r\n  if (!user) return <p style={{ color: \"red\", padding: \"20px\", textAlign: \"center\", fontSize: \"1.2rem\" }}>🔒 You must be logged in to view this page.</p>;\r\n  if (!isAuthorized)\r\n    return (\r\n      <div style={{ padding: \"40px\", color: \"#721c24\", backgroundColor: \"#f8d7da\", textAlign: \"center\", fontSize: \"1.2rem\", borderRadius: \"8px\", margin: \"20px\" }}>\r\n        ❌ Access Denied. You do not have permission to view registrations.\r\n      </div>\r\n    );\r\n  if (loading && allRegistrations.length === 0) return <p style={{ textAlign: \"center\", fontSize: \"1.2rem\", color: \"#555\", padding: \"40px\" }}>⏳ Loading registrations...</p>;\r\n  // ===========================\r\n  // MAIN RENDER\r\n  // ===========================\r\n  return (\r\n    <div style={{ padding: \"20px\", maxWidth: \"1600px\", margin: \"0 auto\", fontFamily: \"Arial, sans-serif\" }}>\r\n      {/* Header */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px', flexWrap: 'wrap', gap: '15px' }}>\r\n        <h2 style={{ fontSize: \"1.8rem\", margin: 0, color: \"#333\" }}>📋 Registrations - ICEGEX 2025</h2>\r\n        <div style={{ display: 'flex', gap: '10px' }}>\r\n          {canEdit && (\r\n            <button\r\n              onClick={() => setImportModalOpen(true)}\r\n              disabled={loading}\r\n              style={{\r\n                padding: '10px 20px',\r\n                backgroundColor: '#17a2b8',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: loading ? 'not-allowed' : 'pointer',\r\n                fontSize: '0.95rem',\r\n                fontWeight: '600',\r\n                opacity: loading ? 0.6 : 1\r\n              }}\r\n            >\r\n              📥 Import Excel\r\n            </button>\r\n          )}\r\n          <button onClick={fetchAllRegistrations} disabled={loading} style={{\r\n            padding: '10px 20px',\r\n            backgroundColor: '#28a745',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: loading ? 'not-allowed' : 'pointer',\r\n            fontSize: '0.95rem',\r\n            fontWeight: '600',\r\n            opacity: loading ? 0.6 : 1\r\n          }}>\r\n            🔄 Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div style={{\r\n          padding: \"12px 15px\",\r\n          backgroundColor: \"#f8d7da\",\r\n          color: \"#721c24\",\r\n          borderRadius: \"4px\",\r\n          marginBottom: \"15px\",\r\n          border: \"1px solid #f5c6cb\",\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center'\r\n        }}>\r\n          <span>❌ {error}</span>\r\n          <button onClick={() => setError(null)} style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            fontSize: '1.2rem',\r\n            cursor: 'pointer',\r\n            color: '#721c24'\r\n          }}>✕</button>\r\n        </div>\r\n      )}\r\n      {/* Search and Filters */}\r\n      <div style={{\r\n        padding: \"15px\",\r\n        backgroundColor: \"#ffffff\",\r\n        borderRadius: \"8px\",\r\n        marginBottom: \"20px\",\r\n        border: \"1px solid #ddd\",\r\n      }}>\r\n        <div style={{ display: 'flex', gap: '15px', flexWrap: 'wrap', alignItems: 'flex-end' }}>\r\n          <div style={{ flex: \"1 1 300px\", minWidth: \"250px\" }}>\r\n            <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"600\", fontSize: \"0.9rem\" }}>\r\n              🔍 Search\r\n            </label>\r\n            <div style={{ display: \"flex\", gap: \"8px\" }}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by name, email, company, ticket...\"\r\n                value={search}\r\n                onChange={handleSearchChange}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: \"10px 12px\",\r\n                  border: \"1px solid #ced4da\",\r\n                  borderRadius: \"4px\",\r\n                  fontSize: \"0.95rem\",\r\n                  outline: \"none\"\r\n                }}\r\n              />\r\n              {search && (\r\n                <button\r\n                  onClick={handleClearSearch}\r\n                  style={{\r\n                    padding: \"10px 16px\",\r\n                    backgroundColor: \"#6c757d\",\r\n                    color: \"white\",\r\n                    border: \"none\",\r\n                    borderRadius: \"4px\",\r\n                    cursor: \"pointer\",\r\n                    fontSize: \"0.9rem\"\r\n                  }}\r\n                >\r\n                  ✕\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"600\", fontSize: \"0.9rem\" }}>\r\n              📊 Sort\r\n            </label>\r\n            <button\r\n              onClick={handleToggleSort}\r\n              style={{\r\n                padding: \"10px 20px\",\r\n                backgroundColor: \"#17a2b8\",\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: \"4px\",\r\n                cursor: \"pointer\",\r\n                fontSize: \"0.95rem\",\r\n                fontWeight: \"600\"\r\n              }}\r\n            >\r\n              {sortOrder === 'asc' ? '↑ Oldest First' : '↓ Newest First'}\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"600\", fontSize: \"0.9rem\", opacity: 0 }}>_</label>\r\n            <button\r\n              onClick={() => setShowFilters(!showFilters)}\r\n              style={{\r\n                padding: \"10px 20px\",\r\n                backgroundColor: showFilters ? '#138496' : '#17a2b8',\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: \"4px\",\r\n                cursor: \"pointer\",\r\n                fontSize: \"0.95rem\",\r\n                fontWeight: \"600\"\r\n              }}\r\n            >\r\n              🔍 {showFilters ? 'Hide' : 'Show'} Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {showFilters && (\r\n          <div style={{ marginTop: '15px', padding: '15px', backgroundColor: '#f8f9fa', borderRadius: '6px' }}>\r\n            <div style={{ display: 'flex', gap: '15px', flexWrap: 'wrap', alignItems: 'flex-end' }}>\r\n              <div style={{ flex: '1 1 200px' }}>\r\n                <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"600\", fontSize: \"0.9rem\" }}>\r\n                  Registration Type\r\n                </label>\r\n                <select\r\n                  value={filters.registrationType}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, registrationType: e.target.value }))}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: \"10px\",\r\n                    border: \"1px solid #ced4da\",\r\n                    borderRadius: \"4px\",\r\n                    fontSize: \"0.95rem\",\r\n                    backgroundColor: 'white'\r\n                  }}\r\n                >\r\n                  <option value=\"all\">All Types</option>\r\n                  <option value=\"onsite\">Onsite</option>\r\n                  <option value=\"online\">Online</option>\r\n                  <option value=\"pre-registered\">Pre-Registered</option>\r\n                  <option value=\"complimentary\">Complimentary</option>\r\n                </select>\r\n              </div>\r\n              <div style={{ flex: '1 1 200px' }}>\r\n                <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"600\", fontSize: \"0.9rem\" }}>\r\n                  Payment Status\r\n                </label>\r\n                <select\r\n                  value={filters.paymentStatus}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, paymentStatus: e.target.value }))}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: \"10px\",\r\n                    border: \"1px solid #ced4da\",\r\n                    borderRadius: \"4px\",\r\n                    fontSize: \"0.95rem\",\r\n                    backgroundColor: 'white'\r\n                  }}\r\n                >\r\n                  <option value=\"all\">All Statuses</option>\r\n                  <option value=\"paid\">Paid</option>\r\n                  <option value=\"unpaid\">Unpaid</option>\r\n                  <option value=\"complimentary\">Complimentary</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <button\r\n                  onClick={handleResetFilters}\r\n                  style={{\r\n                    padding: \"10px 20px\",\r\n                    backgroundColor: \"#ffc107\",\r\n                    color: \"#212529\",\r\n                    border: \"none\",\r\n                    borderRadius: \"4px\",\r\n                    cursor: \"pointer\",\r\n                    fontSize: \"0.95rem\",\r\n                    fontWeight: \"600\"\r\n                  }}\r\n                >\r\n                  ↺ Reset\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {(filters.registrationType !== 'all' || filters.paymentStatus !== 'all') && (\r\n              <div style={{ marginTop: '10px', padding: '10px', backgroundColor: '#d1ecf1', borderRadius: '4px', fontSize: '0.9rem', color: '#0c5460' }}>\r\n                <strong>🔍 Active Filters:</strong>\r\n                {filters.registrationType !== 'all' && <span style={{ marginLeft: '10px', padding: '2px 8px', backgroundColor: '#17a2b8', color: 'white', borderRadius: '12px', fontSize: '0.85rem' }}>Type: {formatRegistrationType(filters.registrationType)}</span>}\r\n                {filters.paymentStatus !== 'all' && <span style={{ marginLeft: '10px', padding: '2px 8px', backgroundColor: '#17a2b8', color: 'white', borderRadius: '12px', fontSize: '0.85rem' }}>Payment: {filters.paymentStatus.toUpperCase()}</span>}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        {search && (\r\n          <div style={{ marginTop: '10px', padding: '10px', backgroundColor: '#d1ecf1', borderRadius: '4px', fontSize: '0.9rem', color: '#0c5460' }}>\r\n            <strong>🔍 Search Results:</strong> Found <strong>{filteredRegistrations.length}</strong> of <strong>{allRegistrations.length}</strong> total registrations\r\n          </div>\r\n        )}\r\n      </div>\r\n      {/* Legend */}\r\n      <div style={{\r\n        padding: \"10px 15px\",\r\n        backgroundColor: \"#f8f9fa\",\r\n        borderRadius: \"8px\",\r\n        marginBottom: \"20px\",\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        gap: \"20px\",\r\n        alignItems: \"center\",\r\n        border: \"1px solid #ddd\"\r\n      }}>\r\n        <h4 style={{ margin: 0, marginRight: \"10px\", fontSize: \"1rem\" }}>Legend:</h4>\r\n        <div style={{ display: \"flex\", flexWrap: \"wrap\", alignItems: \"center\", gap: \"15px\" }}>\r\n          <span style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\r\n            <span style={{ width: \"14px\", height: \"14px\", backgroundColor: \"#007bff\", borderRadius: \"3px\" }}></span> Onsite\r\n          </span>\r\n          <span style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\r\n            <span style={{ width: \"14px\", height: \"14px\", backgroundColor: \"#17a2b8\", borderRadius: \"3px\" }}></span> Online\r\n          </span>\r\n          <span style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\r\n            <span style={{ width: \"14px\", height: \"14px\", backgroundColor: \"#6c757d\", borderRadius: \"3px\" }}></span> Pre-Registered\r\n          </span>\r\n          <span style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\r\n            <span style={{ width: \"14px\", height: \"14px\", backgroundColor: \"#28a745\", borderRadius: \"3px\" }}></span> Complimentary\r\n          </span>\r\n          <span style={{ margin: \"0 10px\", color: \"#ddd\" }}>|</span>\r\n          <span style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\r\n            <span style={{ width: \"14px\", height: \"14px\", backgroundColor: \"#28a745\", borderRadius: \"3px\" }}></span> Paid\r\n          </span>\r\n          <span style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\r\n            <span style={{ width: \"14px\", height: \"14px\", backgroundColor: \"#dc3545\", borderRadius: \"3px\" }}></span> Unpaid\r\n          </span>\r\n          <span style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\r\n            <span style={{ width: \"14px\", height: \"14px\", backgroundColor: \"#17a2b8\", borderRadius: \"3px\" }}></span> Complimentary Payment\r\n          </span>\r\n          {canEdit && (\r\n            <span style={{ fontSize: \"0.85rem\", fontStyle: \"italic\", color: \"#666\" }}>\r\n              (Click payment badge to toggle)\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* Table - Keep your existing table code here */}\r\n      <div style={{ overflowX: \"auto\", borderRadius: \"8px\", boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\" }}>\r\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\", minWidth: \"1000px\", backgroundColor: 'white' }}>\r\n          <thead>\r\n            <tr style={{ backgroundColor: \"#343a40\", color: \"white\" }}>\r\n              <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"2px solid #dee2e6\" }}>⋮</th>\r\n              <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"2px solid #dee2e6\" }}>\r\n                ID {sortOrder === 'asc' ? '↑' : '↓'}\r\n              </th>\r\n              <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"2px solid #dee2e6\" }}>Name</th>\r\n              <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"2px solid #dee2e6\" }}>Company</th>\r\n              <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"2px solid #dee2e6\" }}>Ticket #</th>\r\n              <th style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"2px solid #dee2e6\" }}>Type</th>\r\n              <th style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"2px solid #dee2e6\" }}>Payment</th>\r\n              <th style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"2px solid #dee2e6\" }}>Badge</th>\r\n              <th style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"2px solid #dee2e6\" }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {currentRecords.length > 0 ? (\r\n              currentRecords.map((reg, index) => (\r\n                <>\r\n                  <tr\r\n                    key={reg.id}\r\n                    style={{\r\n                      backgroundColor: index % 2 === 0 ? \"#ffffff\" : \"#f8f9fa\",\r\n                      transition: \"background-color 0.3s\",\r\n                    }}\r\n                    onMouseOver={(e) => e.currentTarget.style.backgroundColor = \"#e2e6ea\"}\r\n                    onMouseOut={(e) => e.currentTarget.style.backgroundColor = index % 2 === 0 ? \"#ffffff\" : \"#f8f9fa\"}\r\n                  >\r\n                    <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>\r\n                      <button\r\n                        onClick={() => toggleExpandRow(reg.id)}\r\n                        style={{\r\n                          background: 'none',\r\n                          border: 'none',\r\n                          cursor: 'pointer',\r\n                          fontSize: '1rem',\r\n                          color: '#007bff',\r\n                          padding: '4px 8px'\r\n                        }}\r\n                        title=\"View full details\"\r\n                      >\r\n                        {expandedRowId === reg.id ? '▼' : '▶'}\r\n                      </button>\r\n                    </td>\r\n                   \r\n                    <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>{reg.id}</td>\r\n                    <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>\r\n                      {reg.first_name} {reg.last_name}\r\n                    </td>\r\n                    <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>{reg.company_name || \"N/A\"}</td>\r\n                    <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\", fontSize: \"0.85rem\", fontFamily: 'monospace' }}>{reg.ticket_number}</td>\r\n                   \r\n                    <td style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\" }}>\r\n                      <span\r\n                        style={{\r\n                          padding: \"6px 12px\",\r\n                          borderRadius: \"20px\",\r\n                          color: \"white\",\r\n                          backgroundColor: getTypeColor(reg.registration_type),\r\n                          fontSize: \"0.85rem\",\r\n                          fontWeight: \"bold\",\r\n                        }}\r\n                      >\r\n                        {formatRegistrationType(reg.registration_type)}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\" }}>\r\n                      <span\r\n                        onClick={() => canEdit && handlePaymentStatusChange(reg)}\r\n                        style={{\r\n                          padding: \"6px 12px\",\r\n                          borderRadius: \"20px\",\r\n                          color: \"white\",\r\n                          backgroundColor: getPaymentColor(reg.payment_status),\r\n                          fontSize: \"0.9rem\",\r\n                          fontWeight: \"bold\",\r\n                          cursor: canEdit ? \"pointer\" : \"default\",\r\n                          opacity: togglingPaymentId === reg.id ? 0.6 : 1,\r\n                          transition: \"all 0.3s\",\r\n                          display: \"inline-block\",\r\n                          userSelect: \"none\",\r\n                          border: canEdit ? \"2px solid transparent\" : \"none\",\r\n                        }}\r\n                        onMouseOver={(e) => {\r\n                          if (canEdit && togglingPaymentId !== reg.id) {\r\n                            e.target.style.border = \"2px solid #fff\";\r\n                            e.target.style.transform = \"scale(1.05)\";\r\n                          }\r\n                        }}\r\n                        onMouseOut={(e) => {\r\n                          if (canEdit) {\r\n                            e.target.style.border = \"2px solid transparent\";\r\n                            e.target.style.transform = \"scale(1)\";\r\n                          }\r\n                        }}\r\n                        title={canEdit ? `Click to change payment status (Current: ${reg.payment_status?.toUpperCase() || \"UNPAID\"})` : reg.payment_status?.toUpperCase() || \"UNPAID\"}\r\n                      >\r\n                        {togglingPaymentId === reg.id\r\n                          ? \"...\"\r\n                          : (reg.payment_status?.toUpperCase() || \"UNPAID\")\r\n                        }\r\n                      </span>\r\n                    </td>\r\n                   \r\n                    <td style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\" }}>\r\n                      <span\r\n                        style={{\r\n                          color: getBadgeStatusColor(reg.badge_status?.name),\r\n                          fontSize: \"0.9rem\",\r\n                          fontWeight: \"bold\",\r\n                          textTransform: 'uppercase'\r\n                        }}\r\n                      >\r\n                        {reg.badge_status?.name?.replace('_', ' ') || 'UNKNOWN'}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\" }}>\r\n                      <div style={{ display: \"flex\", justifyContent: \"center\", gap: \"8px\", flexWrap: \"wrap\" }}>\r\n                        <button\r\n                          onClick={() => handlePrintBadge(reg)}\r\n                          disabled={printingId === reg.id}\r\n                          style={{\r\n                            padding: \"8px 12px\",\r\n                            backgroundColor: \"#17a2b8\",\r\n                            color: \"white\",\r\n                            border: \"none\",\r\n                            borderRadius: \"4px\",\r\n                            cursor: \"pointer\",\r\n                            opacity: printingId === reg.id ? 0.5 : 1,\r\n                            transition: \"background-color 0.3s\",\r\n                            fontSize: \"0.85rem\"\r\n                          }}\r\n                          title=\"Print Badge\"\r\n                        >\r\n                          {printingId === reg.id ? \"⏳\" : \"🖨️\"}\r\n                        </button>\r\n                        {canEdit && (\r\n                          <button\r\n                            onClick={() => handleEditClick(reg)}\r\n                            style={{\r\n                              padding: \"8px 12px\",\r\n                              backgroundColor: \"#ffc107\",\r\n                              color: \"#212529\",\r\n                              border: \"none\",\r\n                              borderRadius: \"4px\",\r\n                              cursor: \"pointer\",\r\n                              transition: \"background-color 0.3s\",\r\n                              fontSize: \"0.85rem\"\r\n                            }}\r\n                            title=\"Edit\"\r\n                          >\r\n                            ✏️\r\n                          </button>\r\n                        )}\r\n                        {canDelete && (\r\n                          <button\r\n                            onClick={() => handleDelete(reg)}\r\n                            style={{\r\n                              padding: \"8px 12px\",\r\n                              backgroundColor: \"#dc3545\",\r\n                              color: \"white\",\r\n                              border: \"none\",\r\n                              borderRadius: \"4px\",\r\n                              cursor: \"pointer\",\r\n                              transition: \"background-color 0.3s\",\r\n                              fontSize: \"0.85rem\"\r\n                            }}\r\n                            title=\"Delete\"\r\n                          >\r\n                            🗑️\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                 \r\n                  {expandedRowId === reg.id && renderExpandedRow(reg)}\r\n                </>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan=\"9\" style={{ padding: \"40px\", textAlign: \"center\", color: \"#6c757d\" }}>\r\n                  {search || filters.registrationType !== 'all' || filters.paymentStatus !== 'all' ? (\r\n                    <>\r\n                      🔍 No registrations found matching your filters\r\n                      <br />\r\n                      <button\r\n                        onClick={handleResetFilters}\r\n                        style={{\r\n                          marginTop: \"10px\",\r\n                          padding: \"8px 16px\",\r\n                          backgroundColor: \"#007bff\",\r\n                          color: \"white\",\r\n                          border: \"none\",\r\n                          borderRadius: \"4px\",\r\n                          cursor: \"pointer\"\r\n                        }}\r\n                      >\r\n                        Clear All Filters\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    \"No registrations found\"\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {/* Pagination */}\r\n      {renderPagination()}\r\n      {/* Modals */}\r\n      <Modal\r\n        isOpen={isModalOpen}\r\n        onClose={() => {\r\n          setIsModalOpen(false);\r\n          setEditingRegistration(null);\r\n        }}\r\n        title=\"Edit Registration\"\r\n        size=\"large\"\r\n      >\r\n        {editingRegistration && (\r\n          <EditRegistrationForm\r\n            registration={editingRegistration}\r\n            onSave={handleUpdateSave}\r\n            onCancel={() => {\r\n              setIsModalOpen(false);\r\n              setEditingRegistration(null);\r\n            }}\r\n          />\r\n        )}\r\n      </Modal>\r\n      <PaymentStatusModal\r\n        isOpen={paymentModalOpen}\r\n        onClose={() => {\r\n          setPaymentModalOpen(false);\r\n          setSelectedRegistration(null);\r\n        }}\r\n        registration={selectedRegistration}\r\n        onConfirm={handlePaymentStatusUpdate}\r\n        isUpdating={togglingPaymentId === selectedRegistration?.id}\r\n      />\r\n      <ConfirmModal\r\n        isOpen={deleteModalOpen}\r\n        onClose={() => {\r\n          setDeleteModalOpen(false);\r\n          setRegistrationToDelete(null);\r\n        }}\r\n        onConfirm={confirmDelete}\r\n        title=\"Delete Registration\"\r\n        message={`Are you sure you want to permanently delete this registration?\r\n         \r\nName: ${registrationToDelete?.first_name} ${registrationToDelete?.last_name}\r\nCompany: ${registrationToDelete?.company_name || 'N/A'}\r\n         \r\nThis action CANNOT be undone!`}\r\n        confirmText=\"Delete\"\r\n        danger={true}\r\n      />\r\n      <ImportModal\r\n        isOpen={importModalOpen}\r\n        onClose={() => {\r\n          if (!isImporting) {\r\n            setImportModalOpen(false);\r\n            setImportResult(null);\r\n          }\r\n        }}\r\n        onImport={handleImport}\r\n        isImporting={isImporting}\r\n        importResult={importResult}\r\n      />\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from \"react\";\r\nimport api from \"../api/axios\";\r\n\r\nexport default function RegistrationForm() {\r\n  const [form, setForm] = useState({\r\n    // Personal Info\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    address: \"\",\r\n    company_name: \"\",\r\n    designation: \"\",\r\n    \r\n    // Demographics\r\n    age_range: \"\",\r\n    gender: \"\",\r\n    gender_other: \"\",\r\n    \r\n    // Survey Questions\r\n    industry_sector: \"\",\r\n    industry_sector_other: \"\",\r\n    reason_for_attending: \"\",\r\n    reason_for_attending_other: \"\",\r\n    specific_areas_of_interest: \"\",\r\n    specific_areas_of_interest_other: \"\",\r\n    how_did_you_learn_about: \"\",\r\n    how_did_you_learn_about_other: \"\",\r\n    \r\n    // System Info\r\n    registration_type: \"onsite\",\r\n    payment_status: \"unpaid\",\r\n  });\r\n\r\n  const [preRegCode, setPreRegCode] = useState(\"\");\r\n  const [verifying, setVerifying] = useState(false);\r\n  const [preRegData, setPreRegData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [confirmed, setConfirmed] = useState(false);\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [showOtherFields, setShowOtherFields] = useState({\r\n    gender: false,\r\n    industry: false,\r\n    reason: false,\r\n    interest: false,\r\n    learn: false\r\n  });\r\n\r\n  const isPreRegistered = form.registration_type === \"pre-registered\";\r\n  const isComplimentary = form.registration_type === \"complimentary\";\r\n\r\n  // ✅ Email validation function\r\n  const validateEmail = (email) => {\r\n    if (!email.trim()) {\r\n      setEmailError(\"\");\r\n      return true;\r\n    }\r\n    \r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setEmailError(\"❌ Invalid email format. Please enter a valid email address.\");\r\n      return false;\r\n    }\r\n    \r\n    setEmailError(\"\");\r\n    return true;\r\n  };\r\n\r\n  // ✅ Verify pre-registration OR complimentary code\r\n  const handleVerifyPreReg = async () => {\r\n    if (!preRegCode.trim()) {\r\n      setError(\"Please enter a registration code\");\r\n      return;\r\n    }\r\n\r\n    setVerifying(true);\r\n    setError(null);\r\n    setPreRegData(null);\r\n\r\n    try {\r\n      const response = await api.get(`/verify-registration/${preRegCode.trim()}`);\r\n      \r\n      if (response.data.valid) {\r\n        if (response.data.already_confirmed) {\r\n          setError(`This registration has already been checked in on ${new Date(response.data.confirmed_at).toLocaleString()}`);\r\n          setPreRegData(null);\r\n        } else {\r\n          setPreRegData(response.data);\r\n          setForm(prev => ({\r\n            ...prev,\r\n            first_name: response.data.first_name || \"\",\r\n            last_name: response.data.last_name || \"\",\r\n            email: response.data.email || \"\",\r\n            phone: response.data.phone || \"\",\r\n            address: response.data.address || \"\",\r\n            company_name: response.data.company_name || \"\",\r\n            designation: response.data.designation || \"\",\r\n            age_range: response.data.age_range || \"\",\r\n            gender: response.data.gender || \"\",\r\n            gender_other: response.data.gender_other || \"\",\r\n            industry_sector: response.data.industry_sector || \"\",\r\n            industry_sector_other: response.data.industry_sector_other || \"\",\r\n            reason_for_attending: response.data.reason_for_attending || \"\",\r\n            reason_for_attending_other: response.data.reason_for_attending_other || \"\",\r\n            specific_areas_of_interest: response.data.specific_areas_of_interest || \"\",\r\n            specific_areas_of_interest_other: response.data.specific_areas_of_interest_other || \"\",\r\n            how_did_you_learn_about: response.data.how_did_you_learn_about || \"\",\r\n            how_did_you_learn_about_other: response.data.how_did_you_learn_about_other || \"\",\r\n            payment_status: response.data.payment_status || \"unpaid\",\r\n            registration_type: response.data.registration_type || form.registration_type,\r\n          }));\r\n          \r\n          setShowOtherFields({\r\n            gender: response.data.gender === \"Others\",\r\n            industry: response.data.industry_sector === \"Others\",\r\n            reason: response.data.reason_for_attending === \"Others\",\r\n            interest: response.data.specific_areas_of_interest === \"Others\",\r\n            learn: response.data.how_did_you_learn_about === \"Others\"\r\n          });\r\n\r\n          if (response.data.email) {\r\n            validateEmail(response.data.email);\r\n          }\r\n\r\n          setSuccess(\"✅ Registration verified! Please review and confirm your details below.\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data?.error || err.response?.data?.message || \"Verification failed. Please check your code.\";\r\n      setError(errorMsg);\r\n      setPreRegData(null);\r\n    } finally {\r\n      setVerifying(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm({ ...form, [name]: value });\r\n\r\n    if (name === \"email\") {\r\n      validateEmail(value);\r\n    }\r\n\r\n    // Handle \"Others\" field toggles\r\n    if (name === \"gender\") {\r\n      setShowOtherFields(prev => ({ ...prev, gender: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, gender_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"industry_sector\") {\r\n      setShowOtherFields(prev => ({ ...prev, industry: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, industry_sector_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"reason_for_attending\") {\r\n      setShowOtherFields(prev => ({ ...prev, reason: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, reason_for_attending_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"specific_areas_of_interest\") {\r\n      setShowOtherFields(prev => ({ ...prev, interest: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, specific_areas_of_interest_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"how_did_you_learn_about\") {\r\n      setShowOtherFields(prev => ({ ...prev, learn: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, how_did_you_learn_about_other: \"\" }));\r\n    }\r\n  };\r\n\r\n  // ✅ NEW: Function to handle badge printing after registration\r\n  const handlePrintBadge = async (ticketNumber) => {\r\n    try {\r\n      // Call the scan endpoint to mark as scanned\r\n      await api.post(`/registrations/${ticketNumber}/scan`);\r\n      \r\n      // Open badge print page in new window\r\n      const badgeUrl = `/print-badge/${ticketNumber}`;\r\n      const printWin = window.open(badgeUrl, \"_blank\");\r\n      \r\n      if (printWin) {\r\n        printWin.focus();\r\n      } else {\r\n        // Fallback if popup was blocked\r\n        window.open(badgeUrl, \"_blank\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Badge print error:\", err);\r\n      // Even if scan fails, still try to open the badge page\r\n      const badgeUrl = `/print-badge/${ticketNumber}`;\r\n      window.open(badgeUrl, \"_blank\");\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // ✅ Validate required fields\r\n    if (!form.first_name.trim()) {\r\n      setError(\"❌ First Name is required\");\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      return;\r\n    }\r\n    if (!form.last_name.trim()) {\r\n      setError(\"❌ Last Name is required\");\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      return;\r\n    }\r\n    if (!form.company_name.trim()) {\r\n      setError(\"❌ Company/Organization Name is required\");\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      return;\r\n    }\r\n\r\n    // ✅ Validate email if provided\r\n    if (form.email.trim() && !validateEmail(form.email)) {\r\n      setError(\"❌ Please provide a valid email address or leave the field empty.\");\r\n      document.querySelector('input[name=\"email\"]')?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      return;\r\n    }\r\n\r\n    // ✅ Check confirmation checkbox\r\n    if (!confirmed) {\r\n      setError(\"⚠️ Please confirm that all information provided is correct before submitting.\");\r\n      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n    \r\n    try {\r\n      const res = await api.post(\"/registrations\", form);\r\n      \r\n      const registration = res.data.registration;\r\n      const successMessage = isPreRegistered \r\n        ? `✅ Pre-registered attendee confirmed successfully!\\n\\n📋 Ticket: ${registration.ticket_number}\\n👤 Name: ${registration.first_name} ${registration.last_name}`\r\n        : isComplimentary\r\n        ? `✅ Complimentary registration confirmed!\\n\\n📋 Ticket: ${registration.ticket_number}\\n👤 Name: ${registration.first_name} ${registration.last_name}`\r\n        : `✅ Registration successful!\\n\\n📋 Ticket Number: ${registration.ticket_number}\\n👤 Name: ${registration.first_name} ${registration.last_name}\\n🏢 Company: ${registration.company_name}`;\r\n      \r\n      setSuccess(successMessage);\r\n      \r\n      // ✅ NEW: Print badge after successful registration\r\n      // Wait a moment for the success message to be visible, then open badge print page\r\n      setTimeout(() => {\r\n        handlePrintBadge(registration.ticket_number);\r\n      }, 1000);\r\n      \r\n      // Reset form\r\n      setForm({\r\n        first_name: \"\",\r\n        last_name: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        address: \"\",\r\n        company_name: \"\",\r\n        designation: \"\",\r\n        age_range: \"\",\r\n        gender: \"\",\r\n        gender_other: \"\",\r\n        industry_sector: \"\",\r\n        industry_sector_other: \"\",\r\n        reason_for_attending: \"\",\r\n        reason_for_attending_other: \"\",\r\n        specific_areas_of_interest: \"\",\r\n        specific_areas_of_interest_other: \"\",\r\n        how_did_you_learn_about: \"\",\r\n        how_did_you_learn_about_other: \"\",\r\n        registration_type: \"onsite\",\r\n        payment_status: \"unpaid\",\r\n      });\r\n      \r\n      setConfirmed(false);\r\n      setEmailError(\"\");\r\n      setPreRegCode(\"\");\r\n      setPreRegData(null);\r\n      setShowOtherFields({\r\n        gender: false,\r\n        industry: false,\r\n        reason: false,\r\n        interest: false,\r\n        learn: false\r\n      });\r\n\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      \r\n    } catch (err) {\r\n      const status = err.response?.status;\r\n      const errorData = err.response?.data;\r\n      \r\n      if (status === 409) {\r\n        setError(`❌ ${errorData.error || 'This person is already registered.'}\\n\\nPlease verify the name or contact support.`);\r\n      } else if (status === 422 && errorData.errors?.email) {\r\n        setError(`❌ ${errorData.errors.email[0]}`);\r\n        setEmailError(errorData.errors.email[0]);\r\n        document.querySelector('input[name=\"email\"]')?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      } else {\r\n        setError(errorData?.message || errorData?.error || \"Registration failed. Please try again.\");\r\n      }\r\n      \r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Clear messages after 10 seconds\r\n  useEffect(() => {\r\n    if (success || error) {\r\n      const timer = setTimeout(() => {\r\n        setSuccess(null);\r\n        setError(null);\r\n      }, 10000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [success, error]);\r\n\r\n  // Reset pre-reg data when changing registration type\r\n  useEffect(() => {\r\n    if (form.registration_type !== \"pre-registered\" && form.registration_type !== \"complimentary\") {\r\n      setPreRegCode(\"\");\r\n      setPreRegData(null);\r\n    }\r\n  }, [form.registration_type]);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.card}>\r\n        <h2 style={styles.title}>\r\n          {isPreRegistered ? \"🎫 Pre-Registration Check-In\" : \r\n           isComplimentary ? \"🎁 Complimentary Registration\" : \r\n           \"➕ Registration Form - ICEGEX 2025\"}\r\n        </h2>\r\n\r\n        {/* Error Display */}\r\n        {error && (\r\n          <div style={styles.errorBox}>\r\n            <div style={{ whiteSpace: 'pre-line' }}>{error}</div>\r\n            <button onClick={() => setError(null)} style={styles.closeBtn}>✕</button>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Success Display */}\r\n        {success && (\r\n          <div style={styles.successBox}>\r\n            <div style={{ whiteSpace: 'pre-line' }}>{success}</div>\r\n            <div style={{ marginTop: '10px', fontSize: '0.9rem', fontStyle: 'italic' }}>\r\n              🖨️ Opening badge print page...\r\n            </div>\r\n            <button onClick={() => setSuccess(null)} style={styles.closeBtn}>✕</button>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} style={styles.form}>\r\n          \r\n          {/* Registration Type Selector */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>📋 Registration Type</h3>\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Select Registration Type: <span style={{ color: 'red' }}>*</span></span>\r\n              <select\r\n                name=\"registration_type\"\r\n                value={form.registration_type}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n                required\r\n              >\r\n                <option value=\"onsite\">Onsite</option>\r\n                <option value=\"online\">Online</option>\r\n                <option value=\"pre-registered\">Pre-Registered</option>\r\n                <option value=\"complimentary\">Complimentary</option>\r\n              </select>\r\n            </label>\r\n          </div>\r\n\r\n          {/* Pre-Registration OR Complimentary Verification */}\r\n          {(isPreRegistered || isComplimentary) && !preRegData && (\r\n            <div style={styles.preRegSection}>\r\n              <h3 style={styles.sectionTitle}>\r\n                {isComplimentary ? \"🎁 Verify Complimentary Code\" : \"🔍 Verify Pre-Registration\"}\r\n              </h3>\r\n              <p style={styles.helpText}>\r\n                {isComplimentary \r\n                  ? \"Enter your complimentary access code to auto-fill your details:\"\r\n                  : \"Enter your pre-registration code (ticket number) to auto-fill your details:\"}\r\n              </p>\r\n              <div style={{ display: 'flex', gap: '10px', alignItems: 'flex-end', flexWrap: 'wrap' }}>\r\n                <label style={{ ...styles.label, flex: 1, minWidth: '250px' }}>\r\n                  <span style={styles.labelText}>\r\n                    {isComplimentary ? \"Complimentary Code:\" : \"Pre-Registration Code:\"}\r\n                  </span>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={preRegCode}\r\n                    onChange={(e) => setPreRegCode(e.target.value.toUpperCase())}\r\n                    placeholder=\"TICKET-XXXXXXXXXXXX\"\r\n                    style={styles.input}\r\n                    disabled={verifying}\r\n                  />\r\n                </label>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleVerifyPreReg}\r\n                  disabled={verifying || !preRegCode.trim()}\r\n                  style={{\r\n                    ...styles.btnPrimary,\r\n                    opacity: (verifying || !preRegCode.trim()) ? 0.5 : 1,\r\n                    cursor: (verifying || !preRegCode.trim()) ? 'not-allowed' : 'pointer'\r\n                  }}\r\n                >\r\n                  {verifying ? \"Verifying...\" : \"Verify Code\"}\r\n                </button>\r\n              </div>\r\n              <p style={{ ...styles.helpText, marginTop: '10px', marginBottom: 0 }}>\r\n                Or fill out the form manually below ↓\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Verified Banner */}\r\n          {(isPreRegistered || isComplimentary) && preRegData && (\r\n            <div style={styles.verifiedBanner}>\r\n              ✅ {isComplimentary ? \"Complimentary access\" : \"Pre-registration\"} verified for: <strong>{preRegData.first_name} {preRegData.last_name}</strong>\r\n              <br />\r\n              <small>Please review and update your information below if needed</small>\r\n            </div>\r\n          )}\r\n\r\n          <div style={styles.divider}></div>\r\n\r\n          {/* SECTION 1: Personal Information */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>👤 Personal Information</h3>\r\n            \r\n            <div style={styles.row}>\r\n              <label style={{ ...styles.label, flex: 1 }}>\r\n                <span style={styles.labelText}>First Name: <span style={{ color: 'red' }}>*</span></span>\r\n                <input\r\n                  name=\"first_name\"\r\n                  placeholder=\"John\"\r\n                  value={form.first_name}\r\n                  onChange={handleChange}\r\n                  required\r\n                  style={styles.input}\r\n                />\r\n              </label>\r\n              <label style={{ ...styles.label, flex: 1 }}>\r\n                <span style={styles.labelText}>Last Name: <span style={{ color: 'red' }}>*</span></span>\r\n                <input\r\n                  name=\"last_name\"\r\n                  placeholder=\"Doe\"\r\n                  value={form.last_name}\r\n                  onChange={handleChange}\r\n                  required\r\n                  style={styles.input}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            {/* Email Field with Validation */}\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Email Address:</span>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"john.doe@example.com (optional)\"\r\n                value={form.email}\r\n                onChange={handleChange}\r\n                style={{\r\n                  ...styles.input,\r\n                  ...(emailError ? { borderColor: '#dc3545', borderWidth: '2px' } : {})\r\n                }}\r\n              />\r\n              {emailError && (\r\n                <span style={styles.fieldError}>\r\n                  {emailError}\r\n                </span>\r\n              )}\r\n              {!emailError && form.email.trim() && (\r\n                <span style={styles.fieldSuccess}>\r\n                  ✓ Valid email format\r\n                </span>\r\n              )}\r\n            </label>\r\n\r\n            <div style={styles.row}>\r\n              <label style={{ ...styles.label, flex: 1 }}>\r\n                <span style={styles.labelText}>Phone Number:</span>\r\n                <input\r\n                  name=\"phone\"\r\n                  placeholder=\"+63 912 345 6789 (optional)\"\r\n                  value={form.phone}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </label>\r\n              <label style={{ ...styles.label, flex: 1 }}>\r\n                <span style={styles.labelText}>Address:</span>\r\n                <input\r\n                  name=\"address\"\r\n                  placeholder=\"City, Country (optional)\"\r\n                  value={form.address}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Company/Organization: <span style={{ color: 'red' }}>*</span></span>\r\n              <input\r\n                name=\"company_name\"\r\n                placeholder=\"Company Name\"\r\n                value={form.company_name}\r\n                onChange={handleChange}\r\n                required\r\n                style={styles.input}\r\n              />\r\n            </label>\r\n\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Designation/Job Title:</span>\r\n              <input\r\n                name=\"designation\"\r\n                placeholder=\"e.g., Manager, Owner, Student (optional)\"\r\n                value={form.designation}\r\n                onChange={handleChange}\r\n                style={styles.input}\r\n              />\r\n            </label>\r\n\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Payment Status: <span style={{ color: 'red' }}>*</span></span>\r\n              <select\r\n                name=\"payment_status\"\r\n                value={form.payment_status}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n                required\r\n              >\r\n                <option value=\"unpaid\">Unpaid</option>\r\n                <option value=\"paid\">Paid</option>\r\n                <option value=\"complimentary\">Complimentary</option>\r\n              </select>\r\n            </label>\r\n          </div>\r\n\r\n          <div style={styles.divider}></div>\r\n\r\n          {/* SECTION 2: Demographics (Optional) */}\r\n          <div style={styles.section}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\r\n              <h3 style={{ ...styles.sectionTitle, marginBottom: 0 }}>📊 Demographics</h3>\r\n              <span style={styles.optionalBadge}>Optional</span>\r\n            </div>\r\n            <p style={styles.helpText}>\r\n              This information helps us understand our attendees better and improve future events.\r\n            </p>\r\n\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Age Range:</span>\r\n              <select\r\n                name=\"age_range\"\r\n                value={form.age_range}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">-- Select Age Range --</option>\r\n                <option value=\"18-24\">18-24</option>\r\n                <option value=\"25-34\">25-34</option>\r\n                <option value=\"35-44\">35-44</option>\r\n                <option value=\"45-54\">45-54</option>\r\n                <option value=\"55-64\">55-64</option>\r\n                <option value=\"65+\">65+</option>\r\n              </select>\r\n            </label>\r\n\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Gender:</span>\r\n              <select\r\n                name=\"gender\"\r\n                value={form.gender}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">-- Select Gender --</option>\r\n                <option value=\"Male\">Male</option>\r\n                <option value=\"Female\">Female</option>\r\n                <option value=\"Prefer not to say\">Prefer not to say</option>\r\n                <option value=\"Others\">Others</option>\r\n              </select>\r\n            </label>\r\n\r\n            {showOtherFields.gender && (\r\n              <label style={styles.label}>\r\n                <span style={styles.labelText}>Please specify:</span>\r\n                <input\r\n                  name=\"gender_other\"\r\n                  placeholder=\"Please specify your gender\"\r\n                  value={form.gender_other}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </label>\r\n            )}\r\n          </div>\r\n\r\n          <div style={styles.divider}></div>\r\n\r\n          {/* SECTION 3: Event Survey (Optional) */}\r\n          <div style={styles.section}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\r\n              <h3 style={{ ...styles.sectionTitle, marginBottom: 0 }}>📝 Event Survey - ICEGEX 2025</h3>\r\n              <span style={styles.optionalBadge}>Optional</span>\r\n            </div>\r\n            <p style={styles.helpText}>\r\n              Help us serve you better! Your responses will help us tailor the event to your interests.\r\n            </p>\r\n\r\n            {/* Industry Sector */}\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Industry Sector:</span>\r\n              <select\r\n                name=\"industry_sector\"\r\n                value={form.industry_sector}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">-- Select Industry Sector --</option>\r\n                <option value=\"Ice Cream / Gelato / Frozen Dessert Brand\">Ice Cream / Gelato / Frozen Dessert Brand</option>\r\n                <option value=\"Café / Bakery / Beverage or Dessert Shop\">Café / Bakery / Beverage or Dessert Shop</option>\r\n                <option value=\"Restaurant / Catering / Food Chain\">Restaurant / Catering / Food Chain</option>\r\n                <option value=\"Hotel / Resort / Hospitality\">Hotel / Resort / Hospitality</option>\r\n                <option value=\"Food or Dairy Manufacturer / Supplier\">Food or Dairy Manufacturer / Supplier</option>\r\n                <option value=\"Equipment / Packaging / Technology Provider\">Equipment / Packaging / Technology Provider</option>\r\n                <option value=\"Marketing / Events / Creative Services\">Marketing / Events / Creative Services</option>\r\n                <option value=\"Entrepreneur\">Entrepreneur</option>\r\n                <option value=\"Student\">Student</option>\r\n                <option value=\"General Visitor\">General Visitor</option>\r\n                <option value=\"Others\">Others</option>\r\n              </select>\r\n            </label>\r\n\r\n            {showOtherFields.industry && (\r\n              <label style={styles.label}>\r\n                <span style={styles.labelText}>Please specify your industry:</span>\r\n                <input\r\n                  name=\"industry_sector_other\"\r\n                  placeholder=\"Your industry sector\"\r\n                  value={form.industry_sector_other}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </label>\r\n            )}\r\n\r\n            {/* Reason for Attending */}\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Reason for Attending ICEGEX 2025:</span>\r\n              <select\r\n                name=\"reason_for_attending\"\r\n                value={form.reason_for_attending}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">-- Select Reason --</option>\r\n                <option value=\"Discover new ice cream, gelato, or soft serve products\">Discover new ice cream, gelato, or soft serve products</option>\r\n                <option value=\"Source ingredients, equipment, or packaging\">Source ingredients, equipment, or packaging</option>\r\n                <option value=\"Learn from demos, talks, or competitions\">Learn from demos, talks, or competitions</option>\r\n                <option value=\"Explore franchise or business opportunities\">Explore franchise or business opportunities</option>\r\n                <option value=\"Meet potential partners or suppliers\">Meet potential partners or suppliers</option>\r\n                <option value=\"Scout the event for future participation\">Scout the event for future participation</option>\r\n                <option value=\"Others\">Others</option>\r\n              </select>\r\n            </label>\r\n\r\n            {showOtherFields.reason && (\r\n              <label style={styles.label}>\r\n                <span style={styles.labelText}>Please specify your reason:</span>\r\n                <textarea\r\n                  name=\"reason_for_attending_other\"\r\n                  placeholder=\"Your reason for attending\"\r\n                  value={form.reason_for_attending_other}\r\n                  onChange={handleChange}\r\n                  style={styles.textarea}\r\n                  rows={3}\r\n                />\r\n              </label>\r\n            )}\r\n\r\n            {/* Areas of Interest */}\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>Specific Areas of Interest:</span>\r\n              <select\r\n                name=\"specific_areas_of_interest\"\r\n                value={form.specific_areas_of_interest}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">-- Select Area of Interest --</option>\r\n                <option value=\"Ingredients / Flavor Innovations\">Ingredients / Flavor Innovations</option>\r\n                <option value=\"Machinery & Equipment\">Machinery & Equipment</option>\r\n                <option value=\"Packaging & Cold Chain\">Packaging & Cold Chain</option>\r\n                <option value=\"Toll Manufacturing\">Toll Manufacturing</option>\r\n                <option value=\"Retail Concepts & Franchises\">Retail Concepts & Franchises</option>\r\n                <option value=\"Gelato Techniques & Training\">Gelato Techniques & Training</option>\r\n                <option value=\"Dairy-based Products\">Dairy-based Products</option>\r\n                <option value=\"Non-Dairy / Vegan options\">Non-Dairy / Vegan options</option>\r\n                <option value=\"Others\">Others</option>\r\n              </select>\r\n            </label>\r\n\r\n            {showOtherFields.interest && (\r\n              <label style={styles.label}>\r\n                <span style={styles.labelText}>Please specify your interests:</span>\r\n                <textarea\r\n                  name=\"specific_areas_of_interest_other\"\r\n                  placeholder=\"Your specific interests\"\r\n                  value={form.specific_areas_of_interest_other}\r\n                  onChange={handleChange}\r\n                  style={styles.textarea}\r\n                  rows={3}\r\n                />\r\n              </label>\r\n            )}\r\n\r\n            {/* How did you learn */}\r\n            <label style={styles.label}>\r\n              <span style={styles.labelText}>How did you learn about ICEGEX 2025?</span>\r\n              <select\r\n                name=\"how_did_you_learn_about\"\r\n                value={form.how_did_you_learn_about}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">-- Select Source --</option>\r\n                <option value=\"Ads on Facebook / Instagram\">Ads on Facebook / Instagram</option>\r\n                <option value=\"ICEGEX Official Page/Website / Social Media\">ICEGEX Official Page/Website / Social Media</option>\r\n                <option value=\"Email Invitation or Newsletter\">Email Invitation or Newsletter</option>\r\n                <option value=\"Word of Mouth (Family / Friends / Colleagues)\">Word of Mouth (Family / Friends / Colleagues)</option>\r\n                <option value=\"Exhibitor / Brand Partner Invitation\">Exhibitor / Brand Partner Invitation</option>\r\n                <option value=\"Media Feature or Influencer Affiliates\">Media Feature or Influencer Affiliates</option>\r\n                <option value=\"Industry Association / Government Agency\">Industry Association / Government Agency</option>\r\n                <option value=\"Event Listing Sites\">Event Listing Sites</option>\r\n                <option value=\"Posters / Billboards / Flyers\">Posters / Billboards / Flyers</option>\r\n                <option value=\"Others\">Others</option>\r\n              </select>\r\n            </label>\r\n\r\n            {showOtherFields.learn && (\r\n              <label style={styles.label}>\r\n                <span style={styles.labelText}>Please specify:</span>\r\n                <textarea\r\n                  name=\"how_did_you_learn_about_other\"\r\n                  placeholder=\"How you learned about us\"\r\n                  value={form.how_did_you_learn_about_other}\r\n                  onChange={handleChange}\r\n                  style={styles.textarea}\r\n                  rows={2}\r\n                />\r\n              </label>\r\n            )}\r\n          </div>\r\n\r\n          <div style={styles.divider}></div>\r\n\r\n          {/* ✅ CONFIRMATION SECTION */}\r\n          <div style={styles.confirmationSection}>\r\n            <h3 style={styles.sectionTitle}>✅ Confirmation</h3>\r\n            \r\n            <div style={styles.summaryBox}>\r\n              <h4 style={{ margin: '0 0 15px 0', fontSize: '1rem', color: '#495057' }}>\r\n                📋 Registration Summary\r\n              </h4>\r\n              <div style={styles.summaryRow}>\r\n                <strong>Name:</strong> {form.first_name || '(not filled)'} {form.last_name || '(not filled)'}\r\n              </div>\r\n              <div style={styles.summaryRow}>\r\n                <strong>Email:</strong> {form.email || '(not provided)'}\r\n              </div>\r\n              <div style={styles.summaryRow}>\r\n                <strong>Company:</strong> {form.company_name || '(not filled)'}\r\n              </div>\r\n              <div style={styles.summaryRow}>\r\n                <strong>Registration Type:</strong> <span style={{ textTransform: 'uppercase' }}>{form.registration_type}</span>\r\n              </div>\r\n              <div style={styles.summaryRow}>\r\n                <strong>Payment Status:</strong> <span style={{ textTransform: 'uppercase' }}>{form.payment_status}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <label style={styles.checkboxLabel}>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={confirmed}\r\n                onChange={(e) => setConfirmed(e.target.checked)}\r\n                style={styles.checkbox}\r\n              />\r\n              <span>\r\n                <strong>I confirm that all information provided above is correct and accurate.</strong>\r\n                <br />\r\n                <small style={{ color: '#6c757d' }}>\r\n                  Please review all sections before submitting. You can scroll up to make any changes.\r\n                </small>\r\n              </span>\r\n            </label>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <div style={styles.submitSection}>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || !confirmed || !!emailError}\r\n              style={{\r\n                ...styles.btnSubmit,\r\n                opacity: (loading || !confirmed || !!emailError) ? 0.5 : 1,\r\n                cursor: (loading || !confirmed || !!emailError) ? 'not-allowed' : 'pointer'\r\n              }}\r\n            >\r\n              {loading ? \"⏳ Processing Registration...\" : \"✓ Submit Registration\"}\r\n            </button>\r\n            \r\n            {!confirmed && !emailError && (\r\n              <p style={{ textAlign: 'center', color: '#dc3545', fontSize: '0.9rem', marginTop: '10px' }}>\r\n                ⚠️ Please check the confirmation box above to submit\r\n              </p>\r\n            )}\r\n            \r\n            {emailError && (\r\n              <p style={{ textAlign: 'center', color: '#dc3545', fontSize: '0.9rem', marginTop: '10px' }}>\r\n                ⚠️ Please fix the email error above before submitting\r\n              </p>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// ✅ Styles\r\nconst styles = {\r\n  container: {\r\n    padding: \"20px\",\r\n    maxWidth: \"900px\",\r\n    margin: \"0 auto\",\r\n    fontFamily: \"Arial, sans-serif\",\r\n  },\r\n  card: {\r\n    backgroundColor: \"#ffffff\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 4px 20px rgba(0,0,0,0.1)\",\r\n    padding: \"40px\",\r\n  },\r\n  title: {\r\n    fontSize: \"2rem\",\r\n    marginBottom: \"30px\",\r\n    color: \"#333\",\r\n    textAlign: \"center\",\r\n    borderBottom: \"3px solid #007bff\",\r\n    paddingBottom: \"20px\",\r\n  },\r\n  errorBox: {\r\n    padding: \"15px\",\r\n    backgroundColor: \"#f8d7da\",\r\n    color: \"#721c24\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"20px\",\r\n    border: \"1px solid #f5c6cb\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  successBox: {\r\n    padding: \"15px\",\r\n    backgroundColor: \"#d4edda\",\r\n    color: \"#155724\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"20px\",\r\n    border: \"1px solid #c3e6cb\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"10px\",\r\n  },\r\n  closeBtn: {\r\n    background: \"none\",\r\n    border: \"none\",\r\n    fontSize: \"1.2rem\",\r\n    cursor: \"pointer\",\r\n    marginLeft: \"10px\",\r\n    padding: \"0 5px\",\r\n    color: \"inherit\",\r\n    alignSelf: \"flex-start\",\r\n  },\r\n  preRegSection: {\r\n    padding: \"25px\",\r\n    backgroundColor: \"#e7f3ff\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"30px\",\r\n    border: \"2px solid #007bff\",\r\n  },\r\n  verifiedBanner: {\r\n    padding: \"20px\",\r\n    backgroundColor: \"#d4edda\",\r\n    color: \"#155724\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"30px\",\r\n    border: \"2px solid #28a745\",\r\n    textAlign: \"center\",\r\n    fontWeight: \"600\",\r\n    fontSize: \"1.05rem\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"30px\",\r\n  },\r\n  section: {\r\n    marginBottom: \"10px\",\r\n  },\r\n  sectionTitle: {\r\n    fontSize: \"1.4rem\",\r\n    color: \"#007bff\",\r\n    marginBottom: \"20px\",\r\n    paddingBottom: \"10px\",\r\n    borderBottom: \"2px solid #e9ecef\",\r\n  },\r\n  optionalBadge: {\r\n    padding: \"4px 12px\",\r\n    backgroundColor: \"#28a745\",\r\n    color: \"white\",\r\n    borderRadius: \"20px\",\r\n    fontSize: \"0.85rem\",\r\n    fontWeight: \"600\",\r\n  },\r\n  helpText: {\r\n    fontSize: \"0.9rem\",\r\n    color: \"#6c757d\",\r\n    marginBottom: \"20px\",\r\n    padding: \"12px\",\r\n    backgroundColor: \"#f8f9fa\",\r\n    borderRadius: \"6px\",\r\n    borderLeft: \"4px solid #17a2b8\",\r\n  },\r\n  divider: {\r\n    height: \"2px\",\r\n    backgroundColor: \"#e9ecef\",\r\n    margin: \"20px 0\",\r\n  },\r\n  label: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"8px\",\r\n    marginBottom: \"20px\",\r\n  },\r\n  labelText: {\r\n    fontSize: \"1rem\",\r\n    color: \"#495057\",\r\n    fontWeight: \"600\",\r\n  },\r\n  row: {\r\n    display: \"flex\",\r\n    gap: \"20px\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  input: {\r\n    padding: \"12px 15px\",\r\n    border: \"1px solid #ced4da\",\r\n    borderRadius: \"6px\",\r\n    fontSize: \"1rem\",\r\n    transition: \"all 0.3s\",\r\n    outline: \"none\",\r\n  },\r\n  select: {\r\n    padding: \"12px 15px\",\r\n    border: \"1px solid #ced4da\",\r\n    borderRadius: \"6px\",\r\n    fontSize: \"1rem\",\r\n    backgroundColor: \"white\",\r\n    cursor: \"pointer\",\r\n    transition: \"all 0.3s\",\r\n    outline: \"none\",\r\n  },\r\n  textarea: {\r\n    padding: \"12px 15px\",\r\n    border: \"1px solid #ced4da\",\r\n    borderRadius: \"6px\",\r\n    fontSize: \"1rem\",\r\n    resize: \"vertical\",\r\n    fontFamily: \"Arial, sans-serif\",\r\n    outline: \"none\",\r\n  },\r\n  fieldError: {\r\n    color: \"#dc3545\",\r\n    fontSize: \"0.875rem\",\r\n    fontWeight: \"600\",\r\n    marginTop: \"-4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"5px\",\r\n  },\r\n  fieldSuccess: {\r\n    color: \"#28a745\",\r\n    fontSize: \"0.875rem\",\r\n    fontWeight: \"600\",\r\n    marginTop: \"-4px\",\r\n  },\r\n  confirmationSection: {\r\n    padding: \"30px\",\r\n    backgroundColor: \"#fff3cd\",\r\n    borderRadius: \"8px\",\r\n    border: \"2px solid #ffc107\",\r\n  },\r\n  summaryBox: {\r\n    padding: \"20px\",\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"6px\",\r\n    marginBottom: \"20px\",\r\n    border: \"1px solid #dee2e6\",\r\n  },\r\n  summaryRow: {\r\n    padding: \"8px 0\",\r\n    borderBottom: \"1px solid #e9ecef\",\r\n    fontSize: \"0.95rem\",\r\n  },\r\n  checkboxLabel: {\r\n    display: \"flex\",\r\n    alignItems: \"flex-start\",\r\n    gap: \"12px\",\r\n    fontSize: \"1rem\",\r\n    cursor: \"pointer\",\r\n    padding: \"15px\",\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"6px\",\r\n    border: \"2px solid #dee2e6\",\r\n    transition: \"all 0.3s\",\r\n  },\r\n  checkbox: {\r\n    width: \"20px\",\r\n    height: \"20px\",\r\n    marginTop: \"2px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  submitSection: {\r\n    textAlign: \"center\",\r\n    paddingTop: \"20px\",\r\n  },\r\n  btnSubmit: {\r\n    padding: \"18px 40px\",\r\n    backgroundColor: \"#28a745\",\r\n    color: \"white\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    fontSize: \"1.2rem\",\r\n    fontWeight: \"bold\",\r\n    cursor: \"pointer\",\r\n    transition: \"all 0.3s\",\r\n    boxShadow: \"0 4px 12px rgba(40,167,69,0.3)\",\r\n    width: \"100%\",\r\n    maxWidth: \"400px\",\r\n  },\r\n  btnPrimary: {\r\n    padding: \"12px 24px\",\r\n    backgroundColor: \"#007bff\",\r\n    color: \"white\",\r\n    border: \"none\",\r\n    borderRadius: \"6px\",\r\n    fontSize: \"1rem\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    transition: \"all 0.3s\",\r\n  },\r\n};","import { useState, useEffect } from \"react\";\r\nimport { Container, Row, Col, Card, Button, Badge, Spinner, Alert, ButtonGroup } from 'react-bootstrap';\r\nimport api from \"../api/axios\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default function ServerModeManager() {\r\n  const [currentMode, setCurrentMode] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [history, setHistory] = useState([]);\r\n  const [loadingHistory, setLoadingHistory] = useState(false);\r\n\r\n  const fetchCurrentMode = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await api.get(\"/server-mode\");\r\n      setCurrentMode(res.data.current_mode);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(\"Failed to fetch server mode.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchHistory = async () => {\r\n    setLoadingHistory(true);\r\n    try {\r\n      const res = await api.get(\"/server-mode/history\");\r\n      setHistory(res.data.history || []);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch history:\", err);\r\n    } finally {\r\n      setLoadingHistory(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCurrentMode();\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  const handleSetMode = async (mode) => {\r\n    setIsUpdating(true);\r\n    setMessage({ type: '', text: '' });\r\n    \r\n    try {\r\n      await api.post(\"/server-mode\", { mode });\r\n      setMessage({ \r\n        type: 'success', \r\n        text: `Server mode successfully changed to: ${mode.toUpperCase()}` \r\n      });\r\n      \r\n      // Refetch both mode and history\r\n      await fetchCurrentMode();\r\n      await fetchHistory();\r\n      \r\n      // Auto-hide success message\r\n      setTimeout(() => setMessage({ type: '', text: '' }), 4000);\r\n    } catch (err) {\r\n      setMessage({ \r\n        type: 'danger', \r\n        text: err.response?.data?.message || 'Failed to update server mode' \r\n      });\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  // Mode configuration with colors and icons\r\n  const modeConfig = {\r\n    onsite: {\r\n      label: 'Onsite Only',\r\n      icon: '🏢',\r\n      color: 'primary',\r\n      description: 'Only on-site registrations are allowed',\r\n      variant: 'primary'\r\n    },\r\n    online: {\r\n      label: 'Online Only',\r\n      icon: '🌐',\r\n      color: 'info',\r\n      description: 'Only online registrations are allowed',\r\n      variant: 'info'\r\n    },\r\n    both: {\r\n      label: 'Hybrid Mode',\r\n      icon: '🔄',\r\n      color: 'success',\r\n      description: 'Both onsite and online registrations are allowed',\r\n      variant: 'success'\r\n    },\r\n    deactivate: {\r\n      label: 'Deactivated',\r\n      icon: '🚫',\r\n      color: 'danger',\r\n      description: 'All registrations are disabled',\r\n      variant: 'danger'\r\n    }\r\n  };\r\n\r\n  const getCurrentModeConfig = () => {\r\n    const mode = currentMode?.mode?.toLowerCase() || 'deactivate';\r\n    return modeConfig[mode] || modeConfig.deactivate;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" variant=\"primary\" />\r\n          <p className=\"mt-3 text-muted\">Loading server status...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Error</Alert.Heading>\r\n          <p>{error}</p>\r\n          <Button variant=\"outline-danger\" onClick={fetchCurrentMode}>\r\n            Try Again\r\n          </Button>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  const activeModeConfig = getCurrentModeConfig();\r\n\r\n  return (\r\n    <Container fluid className=\"py-4 px-3 px-md-4\" style={{ backgroundColor: '#f8f9fa', minHeight: '100vh' }}>\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h2 className=\"fw-bold mb-2\" style={{ color: '#2c3e50' }}>\r\n            ⚙️ Server Mode Management\r\n          </h2>\r\n          <p className=\"text-muted mb-0\">\r\n            Control registration availability across different channels\r\n          </p>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Messages */}\r\n      {message.text && (\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Alert variant={message.type} dismissible onClose={() => setMessage({ type: '', text: '' })}>\r\n              {message.type === 'success' ? '✅ ' : '❌ '}{message.text}\r\n            </Alert>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      <Row className=\"g-4\">\r\n        {/* Current Status Card */}\r\n        <Col xs={12} lg={6}>\r\n          <Card className=\"shadow-sm border-0 h-100\">\r\n            <Card.Header \r\n              className=\"text-white border-0\"\r\n              style={{ \r\n                background: `linear-gradient(135deg, ${\r\n                  activeModeConfig.color === 'primary' ? '#667eea 0%, #764ba2' :\r\n                  activeModeConfig.color === 'info' ? '#4facfe 0%, #00f2fe' :\r\n                  activeModeConfig.color === 'success' ? '#43e97b 0%, #38f9d7' :\r\n                  '#f093fb 0%, #f5576c'\r\n                } 100%)` \r\n              }}\r\n            >\r\n              <h5 className=\"mb-0 fw-semibold\">📊 Current Server Mode</h5>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-4\">\r\n              <div className=\"text-center py-4\">\r\n                <div style={{ fontSize: '64px', marginBottom: '20px' }}>\r\n                  {activeModeConfig.icon}\r\n                </div>\r\n                <h3 className=\"fw-bold mb-3\">\r\n                  <Badge bg={activeModeConfig.variant} className=\"px-4 py-2\" style={{ fontSize: '1.2rem' }}>\r\n                    {activeModeConfig.label}\r\n                  </Badge>\r\n                </h3>\r\n                <p className=\"text-muted mb-0\">\r\n                  {activeModeConfig.description}\r\n                </p>\r\n              </div>\r\n\r\n              {currentMode && (\r\n                <div className=\"mt-4 pt-3 border-top\">\r\n                  <Row className=\"text-center\">\r\n                    <Col>\r\n                      <small className=\"text-muted d-block mb-1\">Last Updated By</small>\r\n                      <strong>{currentMode.activated_by?.name || 'System'}</strong>\r\n                    </Col>\r\n                    <Col>\r\n                      <small className=\"text-muted d-block mb-1\">Updated At</small>\r\n                      <strong>{new Date(currentMode.created_at).toLocaleString()}</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Mode Selector Card */}\r\n        <Col xs={12} lg={6}>\r\n          <Card className=\"shadow-sm border-0 h-100\">\r\n            <Card.Header className=\"bg-white border-bottom\">\r\n              <h5 className=\"mb-0 fw-semibold text-primary\">🎛️ Change Server Mode</h5>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-4\">\r\n              <p className=\"text-muted mb-4\">\r\n                Select a new mode to control which registration types are allowed\r\n              </p>\r\n\r\n              <div className=\"d-grid gap-3\">\r\n                {/* Onsite Button */}\r\n                <Button\r\n                  variant={currentMode?.mode === 'onsite' ? 'primary' : 'outline-primary'}\r\n                  size=\"lg\"\r\n                  onClick={() => handleSetMode('onsite')}\r\n                  disabled={isUpdating || currentMode?.mode === 'onsite'}\r\n                  className=\"d-flex align-items-center justify-content-between\"\r\n                >\r\n                  <span>\r\n                    <span className=\"me-2\">🏢</span>\r\n                    <strong>Onsite Only</strong>\r\n                  </span>\r\n                  {currentMode?.mode === 'onsite' && (\r\n                    <Badge bg=\"light\" text=\"primary\">Active</Badge>\r\n                  )}\r\n                </Button>\r\n\r\n                {/* Online Button */}\r\n                <Button\r\n                  variant={currentMode?.mode === 'online' ? 'info' : 'outline-info'}\r\n                  size=\"lg\"\r\n                  onClick={() => handleSetMode('online')}\r\n                  disabled={isUpdating || currentMode?.mode === 'online'}\r\n                  className=\"d-flex align-items-center justify-content-between\"\r\n                >\r\n                  <span>\r\n                    <span className=\"me-2\">🌐</span>\r\n                    <strong>Online Only</strong>\r\n                  </span>\r\n                  {currentMode?.mode === 'online' && (\r\n                    <Badge bg=\"light\" text=\"info\">Active</Badge>\r\n                  )}\r\n                </Button>\r\n\r\n                {/* Both Button */}\r\n                <Button\r\n                  variant={currentMode?.mode === 'both' ? 'success' : 'outline-success'}\r\n                  size=\"lg\"\r\n                  onClick={() => handleSetMode('both')}\r\n                  disabled={isUpdating || currentMode?.mode === 'both'}\r\n                  className=\"d-flex align-items-center justify-content-between\"\r\n                >\r\n                  <span>\r\n                    <span className=\"me-2\">🔄</span>\r\n                    <strong>Hybrid Mode (Both)</strong>\r\n                  </span>\r\n                  {currentMode?.mode === 'both' && (\r\n                    <Badge bg=\"light\" text=\"success\">Active</Badge>\r\n                  )}\r\n                </Button>\r\n\r\n                {/* Deactivate Button */}\r\n                <Button\r\n                  variant={currentMode?.mode === 'deactivate' ? 'danger' : 'outline-danger'}\r\n                  size=\"lg\"\r\n                  onClick={() => handleSetMode('deactivate')}\r\n                  disabled={isUpdating || currentMode?.mode === 'deactivate'}\r\n                  className=\"d-flex align-items-center justify-content-between\"\r\n                >\r\n                  <span>\r\n                    <span className=\"me-2\">🚫</span>\r\n                    <strong>Deactivate All</strong>\r\n                  </span>\r\n                  {currentMode?.mode === 'deactivate' && (\r\n                    <Badge bg=\"light\" text=\"danger\">Active</Badge>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n\r\n              {isUpdating && (\r\n                <div className=\"text-center mt-4\">\r\n                  <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                  <span className=\"text-muted\">Updating server mode...</span>\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* History Card */}\r\n        <Col xs={12}>\r\n          <Card className=\"shadow-sm border-0\">\r\n            <Card.Header className=\"bg-white border-bottom\">\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <h5 className=\"mb-0 fw-semibold text-primary\">📜 Mode Change History</h5>\r\n                <Button \r\n                  variant=\"outline-primary\" \r\n                  size=\"sm\" \r\n                  onClick={fetchHistory}\r\n                  disabled={loadingHistory}\r\n                >\r\n                  {loadingHistory ? (\r\n                    <>\r\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-1\" />\r\n                      Loading...\r\n                    </>\r\n                  ) : (\r\n                    '🔄 Refresh'\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-0\">\r\n              {loadingHistory ? (\r\n                <div className=\"text-center p-4\">\r\n                  <Spinner animation=\"border\" variant=\"primary\" />\r\n                </div>\r\n              ) : history.length > 0 ? (\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-hover mb-0\">\r\n                    <thead className=\"table-light\">\r\n                      <tr>\r\n                        <th className=\"px-4\">Mode</th>\r\n                        <th>Changed By</th>\r\n                        <th>Date & Time</th>\r\n                        <th>Status</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {history.slice(0, 10).map((entry, index) => {\r\n                        const config = modeConfig[entry.mode?.toLowerCase()] || modeConfig.deactivate;\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td className=\"px-4\">\r\n                              <Badge bg={config.variant} className=\"px-3 py-2\">\r\n                                {config.icon} {config.label}\r\n                              </Badge>\r\n                            </td>\r\n                            <td>{entry.activated_by?.name || 'System'}</td>\r\n                            <td className=\"text-muted\">\r\n                              {new Date(entry.created_at).toLocaleString()}\r\n                            </td>\r\n                            <td>\r\n                              {index === 0 ? (\r\n                                <Badge bg=\"success\">Current</Badge>\r\n                              ) : (\r\n                                <Badge bg=\"secondary\">Previous</Badge>\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center p-5 text-muted\">\r\n                  <p className=\"mb-0\">No history available</p>\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Info Cards */}\r\n      <Row className=\"mt-4\">\r\n        <Col xs={12} md={6} lg={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body className=\"text-center\">\r\n              <div style={{ fontSize: '32px' }}>🏢</div>\r\n              <h6 className=\"mt-2 mb-1 fw-semibold\">Onsite Mode</h6>\r\n              <small className=\"text-muted\">Physical registration desk only</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={12} md={6} lg={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body className=\"text-center\">\r\n              <div style={{ fontSize: '32px' }}>🌐</div>\r\n              <h6 className=\"mt-2 mb-1 fw-semibold\">Online Mode</h6>\r\n              <small className=\"text-muted\">Web-based registration only</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={12} md={6} lg={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body className=\"text-center\">\r\n              <div style={{ fontSize: '32px' }}>🔄</div>\r\n              <h6 className=\"mt-2 mb-1 fw-semibold\">Hybrid Mode</h6>\r\n              <small className=\"text-muted\">Both channels active</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={12} md={6} lg={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body className=\"text-center\">\r\n              <div style={{ fontSize: '32px' }}>🚫</div>\r\n              <h6 className=\"mt-2 mb-1 fw-semibold\">Deactivated</h6>\r\n              <small className=\"text-muted\">All registrations disabled</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default function Modal({ isOpen, onClose, title, children }) {\r\n  if (!isOpen) {\r\n    return null;\r\n  }\r\n\r\n  const overlayStyle = {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n    zIndex: 1000,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  };\r\n\r\n  const modalStyle = {\r\n    backgroundColor: 'white',\r\n    padding: '20px',\r\n    borderRadius: '8px',\r\n    minWidth: '400px',\r\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n    zIndex: 1001,\r\n  };\r\n\r\n  const headerStyle = {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #eee',\r\n    paddingBottom: '10px',\r\n    marginBottom: '20px',\r\n  };\r\n\r\n  const closeButtonStyle = {\r\n    border: 'none',\r\n    background: 'transparent',\r\n    fontSize: '24px',\r\n    cursor: 'pointer',\r\n  };\r\n\r\n  return (\r\n    <div style={overlayStyle} onClick={onClose}>\r\n      <div style={modalStyle} onClick={(e) => e.stopPropagation()}>\r\n        <div style={headerStyle}>\r\n          <h3 style={{ margin: 0 }}>{title}</h3>\r\n          <button onClick={onClose} style={closeButtonStyle}>&times;</button>\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\n\r\nexport default function EditUserForm({ user, onSave, onCancel }) {\r\n  const [formData, setFormData] = useState(user);\r\n\r\n  useEffect(() => {\r\n    setFormData(user);\r\n  }, [user]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave(formData);\r\n  };\r\n\r\n  const inputStyle = { width: '95%', padding: '8px', marginBottom: '10px' };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <label>Name</label><br/>\r\n        <input name=\"name\" value={formData.name} onChange={handleChange} style={inputStyle} required />\r\n      </div>\r\n      <div>\r\n        <label>Email</label><br/>\r\n        <input name=\"email\" type=\"email\" value={formData.email} onChange={handleChange} style={inputStyle} required />\r\n      </div>\r\n      <div>\r\n        <label>New Password (optional)</label><br/>\r\n        <input name=\"password\" type=\"password\" placeholder=\"Leave blank to keep current password\" onChange={handleChange} style={inputStyle} />\r\n      </div>\r\n      <div style={{ marginTop: '20px', textAlign: 'right' }}>\r\n        <button type=\"button\" onClick={onCancel} style={{ marginRight: '10px' }}>Cancel</button>\r\n        <button type=\"submit\" style={{ fontWeight: 'bold' }}>Save Changes</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}","import { useState } from 'react';\r\n\r\nexport default function AddUserForm({ roles, onSave, onCancel }) { // <-- Accepts roles as a prop\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    role_id: roles.find(r => r.name === 'admin')?.id || '', // Default to 'admin' role ID\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave(formData);\r\n  };\r\n\r\n  const inputStyle = { width: '95%', padding: '8px', marginBottom: '10px' };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <label>Name</label><br/>\r\n        <input name=\"name\" value={formData.name} onChange={handleChange} style={inputStyle} required />\r\n      </div>\r\n      <div>\r\n        <label>Email</label><br/>\r\n        <input name=\"email\" type=\"email\" value={formData.email} onChange={handleChange} style={inputStyle} required />\r\n      </div>\r\n      <div>\r\n        <label>Password</label><br/>\r\n        <input name=\"password\" type=\"password\" value={formData.password} onChange={handleChange} style={inputStyle} required minLength={8} />\r\n      </div>\r\n      \r\n      {/* NEW: Role Selector Dropdown */}\r\n      <div>\r\n        <label>Role</label><br/>\r\n        <select name=\"role_id\" value={formData.role_id} onChange={handleChange} style={inputStyle}>\r\n            {roles.map(role => (\r\n                <option key={role.id} value={role.id}>\r\n                    {role.name.charAt(0).toUpperCase() + role.name.slice(1)}\r\n                </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div style={{ marginTop: '20px', textAlign: 'right' }}>\r\n        <button type=\"button\" onClick={onCancel} style={{ marginRight: '10px' }}>Cancel</button>\r\n        <button type=\"submit\" style={{ fontWeight: 'bold' }}>Create User</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}","import { useEffect, useState } from \"react\";\r\nimport api from \"../api/axios\";\r\nimport Modal from \"../components/Modal\";\r\nimport EditUserForm from \"../components/EditUserForm\";\r\nimport AddUserForm from \"../components/AddUserForm\";\r\n\r\nexport default function UserManagementPage() {\r\n    const [users, setUsers] = useState([]);\r\n    const [roles, setRoles] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n    const [isAddModalOpen, setIsAddModalOpen] = useState(false);\r\n    const [editingUser, setEditingUser] = useState(null);\r\n\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const [usersRes, rolesRes] = await Promise.all([\r\n                api.get('/users'),\r\n                api.get('/roles'),\r\n            ]);\r\n            setUsers(usersRes.data.data);\r\n            setRoles(rolesRes.data);\r\n            setError(null);\r\n        } catch (err) {\r\n            setError('Failed to fetch page data.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n    \r\n    // --- Edit Handlers ---\r\n    const handleEditClick = (user) => {\r\n        setEditingUser(user);\r\n        setIsEditModalOpen(true);\r\n    };\r\n\r\n    const handleUpdateSave = async (updatedUser) => {\r\n        try {\r\n            await api.put(`/users/${updatedUser.id}`, updatedUser);\r\n            setIsEditModalOpen(false);\r\n            fetchData();\r\n        } catch (err) {\r\n            alert('Failed to update user.');\r\n            console.error(err.response?.data);\r\n        }\r\n    };\r\n\r\n    // --- Add Handlers ---\r\n    const handleAddClick = () => {\r\n        setIsAddModalOpen(true);\r\n    };\r\n\r\n    const handleCreateSave = async (newUser) => {\r\n    try {\r\n        const res = await api.post('/users', newUser);\r\n\r\n        const { user, token } = res.data;\r\n\r\n        console.log('✅ New user created:', user);\r\n        console.log('🔑 Auto-generated token:', token);\r\n\r\n        // 🪄 Auto-login as the new user (optional but powerful)\r\n        console.log(`New ${user.role.name} token:`, token);\r\n\r\n        setIsAddModalOpen(false);\r\n        fetchData();\r\n\r\n        alert(`${user.name} created successfully and is now authenticated!`);\r\n    } catch (err) {\r\n        alert('Failed to create user. Check console for details.');\r\n        console.error(err.response?.data);\r\n    }\r\n};\r\n\r\n    // --- Delete Handler ---\r\n    const handleDeleteUser = async (userId) => {\r\n        if (window.confirm(\"Are you sure you want to delete this admin?\")) {\r\n            try {\r\n                await api.delete(`/users/${userId}`);\r\n                fetchData();\r\n            } catch (err) {\r\n                alert('Failed to delete user.');\r\n            }\r\n        }\r\n    };\r\n\r\n    if (loading) return <p style={{ textAlign: \"center\", fontSize: \"1.2rem\", color: \"#555\" }}>Loading users...</p>;\r\n    if (error) return <p style={{ color: \"red\", textAlign: \"center\", fontSize: \"1.2rem\" }}>{error}</p>;\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\", maxWidth: \"1200px\", margin: \"0 auto\", fontFamily: \"Arial, sans-serif\" }}>\r\n            <h2 style={{ fontSize: \"1.8rem\", marginBottom: \"20px\", color: \"#333\" }}>👥 User Management</h2>\r\n            <button\r\n                onClick={handleAddClick}\r\n                style={{\r\n                    padding: \"8px 16px\",\r\n                    backgroundColor: \"#28a745\",\r\n                    color: \"white\",\r\n                    border: \"none\",\r\n                    borderRadius: \"4px\",\r\n                    cursor: \"pointer\",\r\n                    marginBottom: \"20px\",\r\n                    transition: \"background-color 0.3s\",\r\n                }}\r\n                onMouseOver={(e) => e.target.style.backgroundColor = \"#218838\"}\r\n                onMouseOut={(e) => e.target.style.backgroundColor = \"#28a745\"}\r\n            >\r\n                Add New User\r\n            </button>\r\n            \r\n            <div style={{ overflowX: \"auto\", borderRadius: \"8px\", boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\" }}>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", minWidth: \"600px\" }}>\r\n                    <thead>\r\n                        <tr style={{ backgroundColor: \"#f8f9fa\", color: \"#333\" }}>\r\n                            <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"1px solid #ddd\" }}>ID</th>\r\n                            <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"1px solid #ddd\" }}>Name</th>\r\n                            <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"1px solid #ddd\" }}>Email</th>\r\n                            <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"1px solid #ddd\" }}>Role</th>\r\n                            <th style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\" }}>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map((user, index) => (\r\n                            <tr\r\n                                key={user.id}\r\n                                style={{\r\n                                    backgroundColor: index % 2 === 0 ? \"#ffffff\" : \"#f8f9fa\",\r\n                                    transition: \"background-color 0.3s\",\r\n                                }}\r\n                                onMouseOver={(e) => e.currentTarget.style.backgroundColor = \"#e2e6ea\"}\r\n                                onMouseOut={(e) => e.currentTarget.style.backgroundColor = index % 2 === 0 ? \"#ffffff\" : \"#f8f9fa\"}\r\n                            >\r\n                                <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>{user.id}</td>\r\n                                <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>{user.name}</td>\r\n                                <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>{user.email}</td>\r\n                                <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>{user.role?.name || 'N/A'}</td>\r\n                                <td style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\", display: \"flex\", justifyContent: \"center\", gap: \"8px\", flexWrap: \"wrap\" }}>\r\n                                    <button\r\n                                        onClick={() => handleEditClick(user)}\r\n                                        style={{\r\n                                            padding: \"8px 12px\",\r\n                                            backgroundColor: \"#ffc107\",\r\n                                            color: \"#212529\",\r\n                                            border: \"none\",\r\n                                            borderRadius: \"4px\",\r\n                                            cursor: \"pointer\",\r\n                                            transition: \"background-color 0.3s\",\r\n                                        }}\r\n                                        onMouseOver={(e) => e.target.style.backgroundColor = \"#e0a800\"}\r\n                                        onMouseOut={(e) => e.target.style.backgroundColor = \"#ffc107\"}\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleDeleteUser(user.id)}\r\n                                        style={{\r\n                                            padding: \"8px 12px\",\r\n                                            backgroundColor: \"#dc3545\",\r\n                                            color: \"white\",\r\n                                            border: \"none\",\r\n                                            borderRadius: \"4px\",\r\n                                            cursor: \"pointer\",\r\n                                            transition: \"background-color 0.3s\",\r\n                                        }}\r\n                                        onMouseOver={(e) => e.target.style.backgroundColor = \"#c82333\"}\r\n                                        onMouseOut={(e) => e.target.style.backgroundColor = \"#dc3545\"}\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \r\n            <Modal isOpen={isEditModalOpen} onClose={() => setIsEditModalOpen(false)} title=\"Edit Admin User\">\r\n                {editingUser && (\r\n                    <EditUserForm\r\n                        user={editingUser}\r\n                        onSave={handleUpdateSave}\r\n                        onCancel={() => setIsEditModalOpen(false)}\r\n                    />\r\n                )}\r\n            </Modal>\r\n\r\n            <Modal isOpen={isAddModalOpen} onClose={() => setIsAddModalOpen(false)} title=\"Add New User\">\r\n                <AddUserForm\r\n                    roles={roles}\r\n                    onSave={handleCreateSave}\r\n                    onCancel={() => setIsAddModalOpen(false)}\r\n                />\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import { useState } from 'react';\r\nimport { Form, Button, Image, Spinner, Alert } from 'react-bootstrap';\r\nimport api from '../api/axios';\r\n\r\nexport default function ImageUploadField({ label, logoType, currentImagePath, onUploadSuccess }) {\r\n  const [file, setFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [preview, setPreview] = useState(null);\r\n\r\n  const backendUrl = api.defaults.baseURL.replace('/api', '');\r\n\r\n  const getImageUrl = (path) => {\r\n    if (!path) return '';\r\n    if (/^https?:\\/\\//i.test(path)) return path;\r\n    const normalized = String(path)\r\n      .replace(/\\\\/g, '/')\r\n      .replace(/^\\/?storage\\/?/i, '');\r\n    return `${backendUrl}/storage/${normalized}`;\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files[0];\r\n    setFile(selectedFile);\r\n    setMessage({ type: '', text: '' });\r\n    \r\n    // Create preview for newly selected file\r\n    if (selectedFile) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(selectedFile);\r\n    } else {\r\n      setPreview(null);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async (e) => {\r\n    e.preventDefault();\r\n    if (!file) {\r\n      setMessage({ type: 'warning', text: 'Please select a file first' });\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    const formData = new FormData();\r\n    formData.append('logo_type', logoType);\r\n    formData.append('logo_file', file);\r\n\r\n    try {\r\n      const res = await api.post('/dashboard/upload-logo', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      \r\n      setMessage({ type: 'success', text: 'Logo uploaded successfully!' });\r\n      setFile(null);\r\n      setPreview(null);\r\n      \r\n      // Reset file input\r\n      const fileInput = document.querySelector(`input[type=\"file\"][data-logo-type=\"${logoType}\"]`);\r\n      if (fileInput) fileInput.value = '';\r\n      \r\n      // Refresh parent settings\r\n      if (onUploadSuccess) onUploadSuccess();\r\n      \r\n      // Auto-hide success message\r\n      setTimeout(() => setMessage({ type: '', text: '' }), 3000);\r\n    } catch (err) {\r\n      setMessage({ \r\n        type: 'danger', \r\n        text: err.response?.data?.message || 'Upload failed. Please try again.' \r\n      });\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const currentImageUrl = getImageUrl(currentImagePath);\r\n\r\n  return (\r\n    <div className=\"p-3 border rounded\" style={{ backgroundColor: '#fff' }}>\r\n      <h6 className=\"fw-semibold mb-3\">{label}</h6>\r\n      \r\n      {/* Current Logo Display */}\r\n      {!preview && currentImageUrl && (\r\n        <div className=\"mb-3 text-center p-3 bg-light rounded\">\r\n          <p className=\"text-muted small mb-2\">\r\n            <strong>Current Logo:</strong>\r\n          </p>\r\n          <div \r\n            style={{ \r\n              display: 'flex', \r\n              justifyContent: 'center', \r\n              alignItems: 'center',\r\n              minHeight: '100px',\r\n              maxHeight: '150px',\r\n              overflow: 'hidden'\r\n            }}\r\n          >\r\n            <Image \r\n              src={currentImageUrl} \r\n              alt={label} \r\n              thumbnail \r\n              style={{ \r\n                maxWidth: '200px', \r\n                maxHeight: '150px', \r\n                objectFit: 'contain'\r\n              }}\r\n              key={currentImagePath}\r\n              onLoad={() => console.log(`✅ ${label} loaded`)}\r\n              onError={(e) => {\r\n                console.error(`❌ ${label} failed to load`);\r\n                e.target.src = 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"100\"%3E%3Crect width=\"200\" height=\"100\" fill=\"%23f0f0f0\"/%3E%3Ctext x=\"50%25\" y=\"50%25\" text-anchor=\"middle\" dy=\".3em\" fill=\"%23999\" font-family=\"Arial\" font-size=\"12\"%3EImage not found%3C/text%3E%3C/svg%3E';\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* New Logo Preview (before upload) */}\r\n      {preview && (\r\n        <div className=\"mb-3 text-center p-3 rounded\" style={{ backgroundColor: '#d4edda', border: '2px solid #28a745' }}>\r\n          <p className=\"text-success small mb-2\">\r\n            <strong>New Logo Preview:</strong>\r\n          </p>\r\n          <div \r\n            style={{ \r\n              display: 'flex', \r\n              justifyContent: 'center', \r\n              alignItems: 'center',\r\n              minHeight: '100px',\r\n              maxHeight: '150px',\r\n              overflow: 'hidden'\r\n            }}\r\n          >\r\n            <Image \r\n              src={preview} \r\n              alt=\"Preview\" \r\n              thumbnail \r\n              style={{ \r\n                maxWidth: '200px', \r\n                maxHeight: '150px', \r\n                objectFit: 'contain',\r\n                border: '2px solid #28a745'\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"mt-2\">\r\n            <small className=\"text-success\">\r\n              ✅ Ready to upload\r\n            </small>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* No Logo Message */}\r\n      {!preview && !currentImageUrl && (\r\n        <div className=\"mb-3 text-center p-4 bg-light rounded\">\r\n          <div style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>📷</div>\r\n          <p className=\"text-muted small mb-0\">No logo uploaded yet</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Form */}\r\n      <Form onSubmit={handleUpload}>\r\n        <Form.Group className=\"mb-2\">\r\n          <Form.Control \r\n            type=\"file\" \r\n            accept=\"image/*\" \r\n            onChange={handleFileChange}\r\n            disabled={uploading}\r\n            size=\"sm\"\r\n            data-logo-type={logoType}\r\n          />\r\n          <Form.Text className=\"text-muted\">\r\n            Max 2MB. JPG, PNG, SVG supported.\r\n          </Form.Text>\r\n        </Form.Group>\r\n\r\n        {message.text && (\r\n          <Alert variant={message.type} className=\"py-2 px-3 small mb-2\">\r\n            {message.text}\r\n          </Alert>\r\n        )}\r\n\r\n        <Button \r\n          type=\"submit\" \r\n          variant=\"outline-primary\" \r\n          size=\"sm\" \r\n          disabled={!file || uploading}\r\n          className=\"w-100\"\r\n        >\r\n          {uploading ? (\r\n            <>\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n              Uploading...\r\n            </>\r\n          ) : (\r\n            <>📤 Upload {label}</>\r\n          )}\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n}","import api from '../api/axios';\r\n\r\nexport default function BadgePreview({ settings, registration }) {\r\n  const backendUrl = api.defaults.baseURL.replace('/api', '');\r\n  const placeholderQr = \"https://www.qr-code-generator.com/wp-content/themes/qr/new_structure/markets/core_market/generator/dist/generator/assets/images/websiteQRCode_noFrame.png\";\r\n\r\n  const getImageUrl = (path) => {\r\n    if (!path) return '';\r\n    if (/^https?:\\/\\//i.test(path)) return path;\r\n    const normalized = String(path)\r\n      .replace(/\\\\/g, '/')\r\n      .replace(/^\\/?storage\\/?/i, '');\r\n    return `${backendUrl}/storage/${normalized}`;\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      width: '340px', \r\n      height: '245px',\r\n      border: '1px solid #ccc',\r\n      padding: '15px',\r\n      boxSizing: 'border-box',\r\n      position: 'relative',\r\n      textAlign: 'center',\r\n      fontFamily: 'sans-serif',\r\n    }}>\r\n      {/* HEADER SECTION */}\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px', marginBottom: '10px' }}>\r\n        <img \r\n          src={getImageUrl(settings.main_logo_path)} \r\n          alt=\"Main Logo\" \r\n          style={{ maxWidth: '80px', maxHeight: '40px' }}\r\n          key={settings.main_logo_path}\r\n        />\r\n        <div style={{ textAlign: 'left' }}>\r\n          <p style={{ fontSize: '10px', margin: 0, lineHeight: 1.2 }}>\r\n            {settings.event_location}<br/>\r\n            {settings.event_datetime}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* MAIN CONTENT - 🔽 FIXED HERE 🔽 */}\r\n      <p style={{ fontSize: '24px', fontWeight: 'bold', marginTop: '0', marginBottom: '2px', whiteSpace: 'nowrap' }}>\r\n        {registration.firstName || registration.first_name} {registration.lastName || registration.last_name}\r\n      </p>\r\n      <p style={{ fontSize: '14px', borderBottom: '2px solid #000', paddingBottom: '5px', marginBottom: '5px', minHeight: '16px' }}>\r\n        {registration.companyName || registration.company_name || 'N/A'}\r\n      </p>\r\n      {/* 🔼 FIXED HERE 🔼 */}\r\n\r\n      <p style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '5px' }}>\r\n        {settings.event_name}\r\n      </p>\r\n\r\n      <img src={placeholderQr} alt=\"QR Code Preview\" style={{ width: '70px', height: '70px', margin: '0 auto' }} />\r\n\r\n      {/* FOOTER SECTION */}\r\n      <div style={{ position: 'absolute', bottom: '10px', width: '100%', left: 0, padding: '0 15px', boxSizing: 'border-box', display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end', fontSize: '8px' }}>\r\n        <div style={{ textAlign: 'left' }}>\r\n          <strong>Organized By:</strong><br/>\r\n          <img src={getImageUrl(settings.organizer_logo_path)} alt=\"Organizer\" style={{ maxHeight: '15px', maxWidth: '60px' }} key={settings.organizer_logo_path} />\r\n        </div>\r\n        <div style={{ textAlign: 'left' }}>\r\n          <strong>Event Manager:</strong><br/>\r\n          <img src={getImageUrl(settings.manager_logo_path)} alt=\"Manager\" style={{ maxHeight: '15px', maxWidth: '60px' }} key={settings.manager_logo_path} />\r\n        </div>\r\n        <div style={{ textAlign: 'left' }}>\r\n          <strong>Registration:</strong><br/>\r\n          <img src={getImageUrl(settings.registration_logo_path)} alt=\"Registration\" style={{ maxHeight: '15px', maxWidth: '60px' }} key={settings.registration_logo_path} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useEffect, useState } from \"react\";\r\nimport { Container, Row, Col, Card, Form, Button, Alert, Spinner } from 'react-bootstrap';\r\nimport api from \"../api/axios\";\r\nimport ImageUploadField from '../components/ImageUploadField';\r\nimport BadgePreview from '../components/BadgePreview';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default function SettingsPage() {\r\n  const [settings, setSettings] = useState({\r\n    event_location: '',\r\n    event_datetime: '',\r\n    event_name: '',\r\n    main_logo_path: '',\r\n    organizer_logo_path: '',\r\n    manager_logo_path: '',\r\n    registration_logo_path: '',\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [error, setError] = useState(null);\r\n\r\n  const sampleRegistration = {\r\n    firstName: \"John\",\r\n    lastName: \"Doe\",\r\n    companyName: \"Sample Company Inc.\"\r\n  };\r\n\r\n  const fetchSettings = async () => {\r\n    try {\r\n      const res = await api.get('/settings');\r\n      setSettings(prev => ({ ...prev, ...res.data }));\r\n    } catch (err) {\r\n      setError('Could not load settings. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setSettings(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSaving(true);\r\n    setMessage({ type: '', text: '' });\r\n    \r\n    try {\r\n      const res = await api.post('/settings', {\r\n        event_location: settings.event_location,\r\n        event_datetime: settings.event_datetime,\r\n        event_name: settings.event_name,\r\n      });\r\n      setMessage({ type: 'success', text: res.data.message || 'Settings saved successfully!' });\r\n      \r\n      // Auto-hide success message after 3 seconds\r\n      setTimeout(() => setMessage({ type: '', text: '' }), 3000);\r\n    } catch (err) {\r\n      setMessage({ type: 'danger', text: 'Failed to save settings. Please try again.' });\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" variant=\"primary\" />\r\n          <p className=\"mt-3 text-muted\">Loading settings...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Error</Alert.Heading>\r\n          <p>{error}</p>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"py-4 px-3 px-md-4\" style={{ backgroundColor: '#f8f9fa', minHeight: '100vh' }}>\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h2 className=\"fw-bold mb-2\" style={{ color: '#2c3e50' }}>\r\n            ⚙️ Badge Settings\r\n          </h2>\r\n          <p className=\"text-muted mb-0\">\r\n            Customize your event details and manage logos for printable badges\r\n          </p>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Success/Error Messages */}\r\n      {message.text && (\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Alert variant={message.type} dismissible onClose={() => setMessage({ type: '', text: '' })}>\r\n              {message.type === 'success' ? '✅ ' : '❌ '}{message.text}\r\n            </Alert>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      <Row className=\"g-4\">\r\n        {/* Left Column: Settings Form */}\r\n        <Col xs={12} lg={7}>\r\n          <Card className=\"shadow-sm border-0 mb-4\">\r\n            <Card.Header className=\"bg-white border-bottom\">\r\n              <h5 className=\"mb-0 fw-semibold text-primary\">📝 Event Details</h5>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-4\">\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label className=\"fw-semibold\">\r\n                    📍 Event Location\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"event_location\"\r\n                    value={settings.event_location}\r\n                    onChange={handleChange}\r\n                    placeholder=\"e.g., Convention Center Hall A\"\r\n                    size=\"lg\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label className=\"fw-semibold\">\r\n                    📅 Date & Time\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"event_datetime\"\r\n                    value={settings.event_datetime}\r\n                    onChange={handleChange}\r\n                    placeholder=\"e.g., January 15, 2024 - 9:00 AM\"\r\n                    size=\"lg\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-4\">\r\n                  <Form.Label className=\"fw-semibold\">\r\n                    ⌛ Event Duration Day\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"event_name\"\r\n                    value={settings.event_name}\r\n                    onChange={handleChange}\r\n                    placeholder=\"e.g., DAY 1, Opening Ceremony\"\r\n                    size=\"lg\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                <div className=\"d-grid\">\r\n                  <Button \r\n                    variant=\"primary\" \r\n                    type=\"submit\" \r\n                    disabled={isSaving}\r\n                    size=\"lg\"\r\n                    className=\"fw-semibold\"\r\n                  >\r\n                    {isSaving ? (\r\n                      <>\r\n                        <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                        Saving Changes...\r\n                      </>\r\n                    ) : (\r\n                      <>💾 Save Event Details</>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          {/* Logo Management Card */}\r\n          <Card className=\"shadow-sm border-0\">\r\n            <Card.Header className=\"bg-white border-bottom\">\r\n              <h5 className=\"mb-0 fw-semibold text-primary\">🖼️ Logo Management</h5>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-4\">\r\n              <div className=\"d-grid gap-3\">\r\n                <ImageUploadField \r\n                  label=\"Main Event Logo\" \r\n                  logoType=\"event\" \r\n                  currentImagePath={settings.main_logo_path} \r\n                  onUploadSuccess={fetchSettings} \r\n                />\r\n                \r\n                <ImageUploadField \r\n                  label=\"Organizer Logo\" \r\n                  logoType=\"organizer\" \r\n                  currentImagePath={settings.organizer_logo_path} \r\n                  onUploadSuccess={fetchSettings} \r\n                />\r\n                \r\n                <ImageUploadField \r\n                  label=\"Event Manager Logo\" \r\n                  logoType=\"manager\" \r\n                  currentImagePath={settings.manager_logo_path} \r\n                  onUploadSuccess={fetchSettings} \r\n                />\r\n                \r\n                <ImageUploadField \r\n                  label=\"Registration Logo\" \r\n                  logoType=\"registration\" \r\n                  currentImagePath={settings.registration_logo_path} \r\n                  onUploadSuccess={fetchSettings} \r\n                />\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Right Column: Live Preview - Sticky on desktop */}\r\n        <Col xs={12} lg={5}>\r\n          <div style={{ position: 'sticky', top: '20px' }}>\r\n            <Card className=\"shadow-sm border-0\">\r\n              <Card.Header className=\"bg-gradient text-gray text-center\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\r\n                <h5 className=\"mb-0 fw-semibold\">👁️ Live Preview</h5>\r\n              </Card.Header>\r\n              <Card.Body className=\"p-4\" style={{ backgroundColor: '#f8f9fa' }}>\r\n                <div className=\"text-center mb-3\">\r\n                  <small className=\"text-muted\">Preview updates automatically as you make changes</small>\r\n                </div>\r\n                <div style={{ \r\n                  display: 'flex', \r\n                  justifyContent: 'center', \r\n                  alignItems: 'center',\r\n                  minHeight: '400px'\r\n                }}>\r\n                  <BadgePreview \r\n                    settings={settings} \r\n                    registration={sampleRegistration} \r\n                  />\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            {/* Sample Data Info */}\r\n            <Card className=\"shadow-sm border-0 mt-3\">\r\n              <Card.Body className=\"p-3\">\r\n                <small className=\"text-muted\">\r\n                  <strong>Preview Data:</strong>\r\n                  <ul className=\"mb-0 mt-2\" style={{ fontSize: '0.875rem' }}>\r\n                    <li>Name: {sampleRegistration.firstName} {sampleRegistration.lastName}</li>\r\n                    <li>Company: {sampleRegistration.companyName}</li>\r\n                  </ul>\r\n                </small>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}","import { useEffect, useState } from 'react';\r\nimport api from '../api/axios';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\n// --- START: Design & Style Objects ---\r\nconst styles = {\r\n  page: {\r\n    fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n    backgroundColor: '#f0f2f5',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    minHeight: '100vh',\r\n    padding: '20px',\r\n    boxSizing: 'border-box',\r\n  },\r\n  card: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\r\n    padding: '40px',\r\n    width: '100%',\r\n    maxWidth: '700px',\r\n    textAlign: 'center',\r\n    boxSizing: 'border-box',\r\n  },\r\n  title: {\r\n    fontSize: '2.2rem',\r\n    fontWeight: '700',\r\n    color: '#1d2129',\r\n    marginBottom: '10px',\r\n  },\r\n  subtitle: {\r\n    fontSize: '1.1rem',\r\n    color: '#606770',\r\n    marginBottom: '30px',\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '18px',\r\n    textAlign: 'left',\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    padding: '14px 18px',\r\n    fontSize: '16px',\r\n    border: '1px solid #e0e0e0',\r\n    borderRadius: '8px',\r\n    boxSizing: 'border-box',\r\n    transition: 'border-color 0.3s, box-shadow 0.3s',\r\n  },\r\n  select: {\r\n    width: '100%',\r\n    padding: '14px 18px',\r\n    fontSize: '16px',\r\n    border: '1px solid #e0e0e0',\r\n    borderRadius: '8px',\r\n    boxSizing: 'border-box',\r\n    backgroundColor: 'white',\r\n    cursor: 'pointer',\r\n    transition: 'border-color 0.3s, box-shadow 0.3s',\r\n  },\r\n  textarea: {\r\n    width: '100%',\r\n    padding: '14px 18px',\r\n    fontSize: '16px',\r\n    border: '1px solid #e0e0e0',\r\n    borderRadius: '8px',\r\n    boxSizing: 'border-box',\r\n    fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n    resize: 'vertical',\r\n    minHeight: '80px',\r\n  },\r\n  button: {\r\n    width: '100%',\r\n    padding: '16px',\r\n    fontSize: '1.2rem',\r\n    fontWeight: 'bold',\r\n    color: '#ffffff',\r\n    backgroundColor: '#007bff',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    cursor: 'pointer',\r\n    marginTop: '10px',\r\n    transition: 'background-color 0.3s, transform 0.2s',\r\n  },\r\n  messageBox: (type) => ({\r\n    backgroundColor: type === 'success' ? '#eaf7ec' : '#fff0f0',\r\n    color: type === 'success' ? '#1e4620' : '#d93025',\r\n    border: `1px solid ${type === 'success' ? '#a3d9a5' : '#ffc0c0'}`,\r\n    borderRadius: '8px',\r\n    padding: '20px',\r\n    marginBottom: '20px',\r\n    textAlign: 'center',\r\n    fontSize: '1.1rem',\r\n    fontWeight: '500',\r\n  }),\r\n  section: {\r\n    marginBottom: '20px',\r\n    padding: '20px',\r\n    backgroundColor: '#f8f9fa',\r\n    borderRadius: '8px',\r\n    border: '1px solid #e0e0e0',\r\n    textAlign: 'left',\r\n  },\r\n  sectionTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: '700',\r\n    color: '#007bff',\r\n    marginBottom: '15px',\r\n    paddingBottom: '10px',\r\n    borderBottom: '2px solid #007bff',\r\n  },\r\n  optionalBadge: {\r\n    display: 'inline-block',\r\n    padding: '4px 12px',\r\n    backgroundColor: '#28a745',\r\n    color: 'white',\r\n    borderRadius: '20px',\r\n    fontSize: '12px',\r\n    fontWeight: '600',\r\n    marginLeft: '10px',\r\n  },\r\n  helpText: {\r\n    fontSize: '14px',\r\n    color: '#6c757d',\r\n    marginBottom: '15px',\r\n    padding: '10px',\r\n    backgroundColor: '#e7f3ff',\r\n    borderRadius: '6px',\r\n    borderLeft: '4px solid #17a2b8',\r\n  },\r\n  // ✅ NEW: Email validation styles\r\n  fieldWrapper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '6px',\r\n  },\r\n  fieldError: {\r\n    color: '#dc3545',\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    marginTop: '-4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '5px',\r\n  },\r\n  fieldSuccess: {\r\n    color: '#28a745',\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    marginTop: '-4px',\r\n  },\r\n  // Modal Styles\r\n  modalOverlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 9999,\r\n    padding: '20px',\r\n  },\r\n  modalContent: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '12px',\r\n    padding: '30px',\r\n    maxWidth: '600px',\r\n    width: '100%',\r\n    maxHeight: '90vh',\r\n    overflowY: 'auto',\r\n    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n    animation: 'slideIn 0.3s ease-out',\r\n  },\r\n  modalHeader: {\r\n    fontSize: '24px',\r\n    fontWeight: '700',\r\n    color: '#343a40',\r\n    marginBottom: '20px',\r\n    textAlign: 'center',\r\n    borderBottom: '2px solid #e0e0e0',\r\n    paddingBottom: '15px',\r\n  },\r\n  infoSection: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: '20px',\r\n    borderRadius: '8px',\r\n    marginBottom: '20px',\r\n  },\r\n  infoRow: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    padding: '10px 0',\r\n    borderBottom: '1px solid #e0e0e0',\r\n  },\r\n  infoLabel: {\r\n    fontWeight: '600',\r\n    color: '#6c757d',\r\n    minWidth: '140px',\r\n    textAlign: 'left',\r\n  },\r\n  infoValue: {\r\n    color: '#212529',\r\n    textAlign: 'right',\r\n    flex: 1,\r\n    wordBreak: 'break-word',\r\n  },\r\n  warningBox: {\r\n    backgroundColor: '#fff3cd',\r\n    border: '2px solid #ffc107',\r\n    borderRadius: '8px',\r\n    padding: '15px',\r\n    marginBottom: '25px',\r\n  },\r\n  warningIcon: {\r\n    fontSize: '24px',\r\n    marginRight: '10px',\r\n    verticalAlign: 'middle',\r\n  },\r\n  warningText: {\r\n    color: '#856404',\r\n    fontSize: '15px',\r\n    lineHeight: '1.5',\r\n  },\r\n  modalButtons: {\r\n    display: 'flex',\r\n    gap: '15px',\r\n    justifyContent: 'center',\r\n    marginTop: '25px',\r\n  },\r\n  confirmButton: {\r\n    backgroundColor: '#28a745',\r\n    color: '#ffffff',\r\n    padding: '12px 30px',\r\n    fontSize: '16px',\r\n    fontWeight: '600',\r\n    borderRadius: '8px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    boxShadow: '0 4px 10px rgba(40, 167, 69, 0.3)',\r\n  },\r\n  cancelButton: {\r\n    backgroundColor: '#6c757d',\r\n    color: '#ffffff',\r\n    padding: '12px 30px',\r\n    fontSize: '16px',\r\n    fontWeight: '600',\r\n    borderRadius: '8px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n  },\r\n  kioskNote: {\r\n    backgroundColor: '#e3f2fd',\r\n    border: '1px solid #2196f3',\r\n    borderRadius: '8px',\r\n    padding: '12px',\r\n    marginBottom: '15px',\r\n    color: '#1565c0',\r\n    fontSize: '14px',\r\n    textAlign: 'center',\r\n  },\r\n};\r\n// --- END: Design & Style Objects ---\r\n\r\n// ✅ Confirmation Modal Component\r\nconst ConfirmationModal = ({ isOpen, formData, onConfirm, onCancel }) => {\r\n  if (!isOpen) return null;\r\n\r\n  // Format display values - only show filled fields (excluding payment_status)\r\n  const displayData = [\r\n    { label: \"First Name\", value: formData.first_name, required: true },\r\n    { label: \"Last Name\", value: formData.last_name, required: true },\r\n    { label: \"Email\", value: formData.email || \"Not provided\" },\r\n    { label: \"Phone\", value: formData.phone || \"Not provided\" },\r\n    { label: \"Address\", value: formData.address || \"Not provided\" },\r\n    { label: \"Company\", value: formData.company_name || \"Not provided\" },\r\n    { label: \"Designation\", value: formData.designation || \"Not provided\" },\r\n  ];\r\n\r\n  // Optional fields (only show if filled)\r\n  const optionalData = [];\r\n  \r\n  if (formData.age_range) {\r\n    optionalData.push({ label: \"Age Range\", value: formData.age_range });\r\n  }\r\n  if (formData.gender) {\r\n    optionalData.push({ \r\n      label: \"Gender\", \r\n      value: formData.gender === \"Others\" && formData.gender_other \r\n        ? `Others: ${formData.gender_other}` \r\n        : formData.gender \r\n    });\r\n  }\r\n  if (formData.industry_sector) {\r\n    optionalData.push({ \r\n      label: \"Industry\", \r\n      value: formData.industry_sector === \"Others\" && formData.industry_sector_other \r\n        ? `Others: ${formData.industry_sector_other}` \r\n        : formData.industry_sector \r\n    });\r\n  }\r\n\r\n  return (\r\n    <div style={styles.modalOverlay} onClick={onCancel}>\r\n      <div style={styles.modalContent} onClick={(e) => e.stopPropagation()}>\r\n        <h2 style={styles.modalHeader}>⚠️ Confirm Registration Details</h2>\r\n        \r\n        {/* Kiosk-specific note */}\r\n        <div style={styles.kioskNote}>\r\n          <strong>🖥️ Kiosk Mode:</strong> Badge will be printed immediately after confirmation\r\n        </div>\r\n\r\n        <div style={styles.infoSection}>\r\n          <h3 style={{ marginBottom: \"15px\", color: \"#343a40\" }}>Please verify the registrant's information:</h3>\r\n          \r\n          {/* Required Fields */}\r\n          {displayData.map((item, index) => (\r\n            <div key={index} style={{\r\n              ...styles.infoRow,\r\n              borderBottom: index === displayData.length - 1 && optionalData.length === 0 ? \"none\" : \"1px solid #e0e0e0\"\r\n            }}>\r\n              <span style={styles.infoLabel}>\r\n                {item.label}{item.required && <span style={{ color: \"#dc3545\" }}> *</span>}:\r\n              </span>\r\n              <span style={{\r\n                ...styles.infoValue,\r\n                fontWeight: item.required ? \"600\" : \"normal\",\r\n                color: item.value === \"Not provided\" ? \"#6c757d\" : \"#212529\"\r\n              }}>\r\n                {item.value}\r\n              </span>\r\n            </div>\r\n          ))}\r\n\r\n          {/* Optional Fields */}\r\n          {optionalData.length > 0 && (\r\n            <>\r\n              <div style={{ margin: \"15px 0\", paddingTop: \"15px\", borderTop: \"2px solid #dee2e6\" }}>\r\n                <h4 style={{ fontSize: \"14px\", color: \"#6c757d\", marginBottom: \"10px\" }}>Additional Information:</h4>\r\n              </div>\r\n              {optionalData.map((item, index) => (\r\n                <div key={index} style={{\r\n                  ...styles.infoRow,\r\n                  borderBottom: index === optionalData.length - 1 ? \"none\" : \"1px solid #e0e0e0\"\r\n                }}>\r\n                  <span style={styles.infoLabel}>{item.label}:</span>\r\n                  <span style={styles.infoValue}>{item.value}</span>\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div style={styles.warningBox}>\r\n          <span style={styles.warningIcon}>⚠️</span>\r\n          <span style={styles.warningText}>\r\n            <strong>Important Notice:</strong><br />\r\n            Once you submit this registration, the information <strong>CANNOT be edited or modified</strong>. \r\n            The badge will be printed immediately. Please ensure all information is correct before proceeding.\r\n            <br /><br />\r\n            <strong>📋 Registration Type:</strong> On-Site (Walk-in)\r\n          </span>\r\n        </div>\r\n\r\n        <div style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\r\n          <p style={{ fontSize: \"16px\", color: \"#343a40\", fontWeight: \"500\" }}>\r\n            Is all the information correct?\r\n          </p>\r\n        </div>\r\n\r\n        <div style={styles.modalButtons}>\r\n          <button\r\n            onClick={onCancel}\r\n            style={styles.cancelButton}\r\n            onMouseOver={(e) => {\r\n              e.target.style.backgroundColor = '#5a6268';\r\n              e.target.style.transform = 'translateY(-2px)';\r\n            }}\r\n            onMouseOut={(e) => {\r\n              e.target.style.backgroundColor = '#6c757d';\r\n              e.target.style.transform = 'translateY(0)';\r\n            }}\r\n          >\r\n            ← Go Back & Edit\r\n          </button>\r\n          <button\r\n            onClick={onConfirm}\r\n            style={styles.confirmButton}\r\n            onMouseOver={(e) => {\r\n              e.target.style.backgroundColor = '#218838';\r\n              e.target.style.transform = 'translateY(-2px)';\r\n              e.target.style.boxShadow = '0 6px 15px rgba(40, 167, 69, 0.4)';\r\n            }}\r\n            onMouseOut={(e) => {\r\n              e.target.style.backgroundColor = '#28a745';\r\n              e.target.style.transform = 'translateY(0)';\r\n              e.target.style.boxShadow = '0 4px 10px rgba(40, 167, 69, 0.3)';\r\n            }}\r\n          >\r\n            ✓ Confirm & Print Badge\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function OnsiteRegistrationPage() {\r\n  const { user } = useAuth();\r\n  const [serverMode, setServerMode] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [emailError, setEmailError] = useState(\"\"); // ✅ NEW: Email validation error\r\n  \r\n  // ✅ All form fields (payment_status defaults to 'unpaid' - not user-editable)\r\n  const [form, setForm] = useState({\r\n    // Personal Info\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    company_name: '',\r\n    designation: '',\r\n    \r\n    // Demographics\r\n    age_range: '',\r\n    gender: '',\r\n    gender_other: '',\r\n    \r\n    // Survey Questions\r\n    industry_sector: '',\r\n    industry_sector_other: '',\r\n    reason_for_attending: '',\r\n    reason_for_attending_other: '',\r\n    specific_areas_of_interest: '',\r\n    specific_areas_of_interest_other: '',\r\n    how_did_you_learn_about: '',\r\n    how_did_you_learn_about_other: '',\r\n    \r\n    // System Info (not shown to user)\r\n    registration_type: 'onsite',\r\n    payment_status: 'unpaid', // ✅ Default, not editable by registrant\r\n  });\r\n\r\n  // ✅ Track \"Others\" field visibility\r\n  const [showOtherFields, setShowOtherFields] = useState({\r\n    gender: false,\r\n    industry: false,\r\n    reason: false,\r\n    interest: false,\r\n    learn: false\r\n  });\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const initialForm = {\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    company_name: '',\r\n    designation: '',\r\n    age_range: '',\r\n    gender: '',\r\n    gender_other: '',\r\n    industry_sector: '',\r\n    industry_sector_other: '',\r\n    reason_for_attending: '',\r\n    reason_for_attending_other: '',\r\n    specific_areas_of_interest: '',\r\n    specific_areas_of_interest_other: '',\r\n    how_did_you_learn_about: '',\r\n    how_did_you_learn_about_other: '',\r\n    registration_type: 'onsite',\r\n    payment_status: 'unpaid',\r\n  };\r\n\r\n  // ✅ NEW: Email validation function\r\n  const validateEmail = (email) => {\r\n    if (!email.trim()) {\r\n      setEmailError(\"\");\r\n      return true; // Empty is valid (field is optional)\r\n    }\r\n    \r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setEmailError(\"❌ Invalid email format. Please enter a valid email address.\");\r\n      return false;\r\n    }\r\n    \r\n    setEmailError(\"\");\r\n    return true;\r\n  };\r\n\r\n  const getErrorMessage = (err) => {\r\n    const resp = err.response;\r\n    if (resp?.status === 422 && resp.data?.errors) {\r\n      const first = Object.values(resp.data.errors).flat()[0];\r\n      return first || 'Validation failed.';\r\n    }\r\n    return resp?.data?.message || resp?.data?.error || 'Registration failed. Please try again.';\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkServerMode = async () => {\r\n      try {\r\n        const res = await api.get('/server-mode/status');\r\n        setServerMode(res.data.current_mode?.mode || null);\r\n      } catch (err) {\r\n        setError('Could not connect to the server.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    checkServerMode();\r\n  }, []);\r\n\r\n  // ✅ UPDATED: Handle form changes including \"Others\" toggles and email validation\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm({ ...form, [name]: value });\r\n\r\n    // ✅ NEW: Validate email on change\r\n    if (name === \"email\") {\r\n      validateEmail(value);\r\n    }\r\n\r\n    // Handle \"Others\" field toggles\r\n    if (name === \"gender\") {\r\n      setShowOtherFields(prev => ({ ...prev, gender: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, gender_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"industry_sector\") {\r\n      setShowOtherFields(prev => ({ ...prev, industry: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, industry_sector_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"reason_for_attending\") {\r\n      setShowOtherFields(prev => ({ ...prev, reason: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, reason_for_attending_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"specific_areas_of_interest\") {\r\n      setShowOtherFields(prev => ({ ...prev, interest: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, specific_areas_of_interest_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"how_did_you_learn_about\") {\r\n      setShowOtherFields(prev => ({ ...prev, learn: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, how_did_you_learn_about_other: \"\" }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!user || !['admin', 'superadmin'].includes(user.role?.name)) {\r\n      setError('You must be logged in as an admin or superadmin to perform registration.');\r\n      return;\r\n    }\r\n\r\n    // Basic validation\r\n    if (!form.first_name.trim() || !form.last_name.trim() || !form.company_name.trim()) {\r\n      setError('Please fill in at least the first name, last name, and company.');\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      return;\r\n    }\r\n\r\n    // ✅ NEW: Validate email if provided\r\n    if (form.email.trim() && !validateEmail(form.email)) {\r\n      setError(\"❌ Please provide a valid email address or leave the field empty.\");\r\n      // Scroll to email field\r\n      document.querySelector('input[name=\"email\"]')?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      return;\r\n    }\r\n\r\n    // Clear any existing errors before showing modal\r\n    setError('');\r\n    \r\n    // Show confirmation modal\r\n    setShowConfirmation(true);\r\n  };\r\n\r\n  // Handle confirmed submission\r\n  const handleConfirmedSubmit = async () => {\r\n    setShowConfirmation(false);\r\n    setIsSubmitting(true);\r\n    setError('');\r\n    setMessage('');\r\n    \r\n    try {\r\n      const res = await api.post('/registrations', form);\r\n      const ticketNumber = res.data.registration.ticket_number;\r\n      setMessage('✅ Registration Successful! The badge is now printing...');\r\n      \r\n      // Open print window\r\n      window.open(`/print-badge/${ticketNumber}`, '_blank');\r\n      \r\n      // Reset form after a delay\r\n      setTimeout(() => {\r\n        setForm(initialForm);\r\n        setShowOtherFields({\r\n          gender: false,\r\n          industry: false,\r\n          reason: false,\r\n          interest: false,\r\n          learn: false\r\n        });\r\n        setEmailError(\"\"); // ✅ Clear email error\r\n        setMessage('Ready for the next registrant.');\r\n      }, 4000);\r\n    } catch (err) {\r\n      const status = err.response?.status;\r\n      const errorData = err.response?.data;\r\n      \r\n      if (status === 409) {\r\n        setError(`❌ ${errorData.error || 'This person is already registered.'}\\n\\nPlease verify the name or contact support.`);\r\n      } else if (status === 422 && errorData.errors?.email) {\r\n        // ✅ Handle Laravel validation error for email\r\n        setError(`❌ ${errorData.errors.email[0]}`);\r\n        setEmailError(errorData.errors.email[0]);\r\n        document.querySelector('input[name=\"email\"]')?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      } else {\r\n        setError(getErrorMessage(err));\r\n      }\r\n      \r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle cancel confirmation\r\n  const handleCancelConfirmation = () => {\r\n    setShowConfirmation(false);\r\n  };\r\n  \r\n  // --- UI RENDER STATES ---\r\n  const renderNotice = (title, message) => (\r\n    <div style={styles.page}>\r\n      <div style={styles.card}>\r\n        <h2 style={{...styles.title, fontSize: '1.8rem'}}>{title}</h2>\r\n        <p style={styles.subtitle}>{message}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (loading) return renderNotice(\"Loading Kiosk...\", \"Connecting to the registration server.\");\r\n  if (serverMode !== 'onsite' && serverMode !== 'both') {\r\n    return renderNotice(\"Kiosk Mode Disabled\", \"Onsite registration is currently closed.\");\r\n  }\r\n\r\n  return (\r\n    <div style={styles.page}>\r\n      <div style={styles.card}>\r\n        <h1 style={styles.title}>🖥️ On-Site Registration - ICEGEX 2025</h1>\r\n        <p style={styles.subtitle}>Enter the registrant's details below to print their badge.</p>\r\n\r\n        {message && <div style={styles.messageBox('success')}>{message}</div>}\r\n        {error && <div style={styles.messageBox('error')}>{error}</div>}\r\n\r\n        <form onSubmit={handleSubmit} style={styles.form}>\r\n          \r\n          {/* SECTION 1: Personal Information */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>👤 Personal Information</h3>\r\n            \r\n            {/* First Name - Full Width */}\r\n            <input \r\n              name=\"first_name\" \r\n              value={form.first_name} \r\n              onChange={handleChange} \r\n              placeholder=\"First Name *\" \r\n              required \r\n              style={styles.input} \r\n            />\r\n\r\n            {/* Last Name - Full Width */}\r\n            <input \r\n              name=\"last_name\" \r\n              value={form.last_name} \r\n              onChange={handleChange} \r\n              placeholder=\"Last Name *\" \r\n              required \r\n              style={styles.input} \r\n            />\r\n\r\n            {/* ✅ Email with Validation - Full Width */}\r\n            <div style={styles.fieldWrapper}>\r\n              <input \r\n                name=\"email\" \r\n                value={form.email} \r\n                onChange={handleChange} \r\n                placeholder=\"Email Address (Optional)\" \r\n                type=\"email\" \r\n                style={{\r\n                  ...styles.input,\r\n                  ...(emailError ? { borderColor: '#dc3545', borderWidth: '2px' } : {})\r\n                }}\r\n              />\r\n              {/* ✅ Email Error Message */}\r\n              {emailError && (\r\n                <span style={styles.fieldError}>\r\n                  {emailError}\r\n                </span>\r\n              )}\r\n              {/* ✅ Email Success Message */}\r\n              {!emailError && form.email.trim() && (\r\n                <span style={styles.fieldSuccess}>\r\n                  ✓ Valid email format\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            {/* Phone - Full Width */}\r\n            <input \r\n              name=\"phone\" \r\n              value={form.phone} \r\n              onChange={handleChange} \r\n              placeholder=\"Phone Number (Optional)\" \r\n              style={styles.input} \r\n            />\r\n\r\n            {/* Address - Full Width */}\r\n            <input \r\n              name=\"address\" \r\n              value={form.address} \r\n              onChange={handleChange} \r\n              placeholder=\"Address (Optional)\" \r\n              style={styles.input} \r\n            />\r\n\r\n            {/* Company - Full Width */}\r\n            <input \r\n              name=\"company_name\" \r\n              value={form.company_name} \r\n              onChange={handleChange} \r\n              placeholder=\"Company/Organization *\" \r\n              required\r\n              style={styles.input} \r\n            />\r\n\r\n            {/* Designation - Full Width */}\r\n            <input \r\n              name=\"designation\" \r\n              value={form.designation} \r\n              onChange={handleChange} \r\n              placeholder=\"Designation/Job Title (Optional)\" \r\n              style={styles.input} \r\n            />\r\n          </div>\r\n\r\n          {/* SECTION 2: Demographics (Optional) */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>\r\n              📊 Demographics\r\n              <span style={styles.optionalBadge}>Optional</span>\r\n            </h3>\r\n            <p style={styles.helpText}>\r\n              This information helps us understand our attendees better.\r\n            </p>\r\n            \r\n            {/* Age Range - Full Width */}\r\n            <select\r\n              name=\"age_range\"\r\n              value={form.age_range}\r\n              onChange={handleChange}\r\n              style={styles.select}\r\n            >\r\n              <option value=\"\">-- Select Age Range --</option>\r\n              <option value=\"18-24\">18-24</option>\r\n              <option value=\"25-34\">25-34</option>\r\n              <option value=\"35-44\">35-44</option>\r\n              <option value=\"45-54\">45-54</option>\r\n              <option value=\"55-64\">55-64</option>\r\n              <option value=\"65+\">65+</option>\r\n            </select>\r\n            \r\n            {/* Gender - Full Width */}\r\n            <select\r\n              name=\"gender\"\r\n              value={form.gender}\r\n              onChange={handleChange}\r\n              style={styles.select}\r\n            >\r\n              <option value=\"\">-- Select Gender --</option>\r\n              <option value=\"Male\">Male</option>\r\n              <option value=\"Female\">Female</option>\r\n              <option value=\"Prefer not to say\">Prefer not to say</option>\r\n              <option value=\"Others\">Others</option>\r\n            </select>\r\n            \r\n            {/* Gender Other - Full Width */}\r\n            {showOtherFields.gender && (\r\n              <input\r\n                name=\"gender_other\"\r\n                placeholder=\"Please specify gender\"\r\n                value={form.gender_other}\r\n                onChange={handleChange}\r\n                style={styles.input}\r\n              />\r\n            )}\r\n          </div>\r\n\r\n          {/* SECTION 3: Event Survey (Optional) */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>\r\n              📝 Event Survey\r\n              <span style={styles.optionalBadge}>Optional</span>\r\n            </h3>\r\n            <p style={styles.helpText}>\r\n              Help us serve attendees better with these optional questions.\r\n            </p>\r\n            \r\n            {/* Industry Sector - Full Width */}\r\n            <select\r\n              name=\"industry_sector\"\r\n              value={form.industry_sector}\r\n              onChange={handleChange}\r\n              style={styles.select}\r\n            >\r\n              <option value=\"\">-- Select Industry Sector --</option>\r\n              <option value=\"Ice Cream / Gelato / Frozen Dessert Brand\">Ice Cream / Gelato / Frozen Dessert Brand</option>\r\n              <option value=\"Café / Bakery / Beverage or Dessert Shop\">Café / Bakery / Beverage or Dessert Shop</option>\r\n              <option value=\"Restaurant / Catering / Food Chain\">Restaurant / Catering / Food Chain</option>\r\n              <option value=\"Hotel / Resort / Hospitality\">Hotel / Resort / Hospitality</option>\r\n              <option value=\"Food or Dairy Manufacturer / Supplier\">Food or Dairy Manufacturer / Supplier</option>\r\n              <option value=\"Equipment / Packaging / Technology Provider\">Equipment / Packaging / Technology Provider</option>\r\n              <option value=\"Marketing / Events / Creative Services\">Marketing / Events / Creative Services</option>\r\n              <option value=\"Entrepreneur\">Entrepreneur</option>\r\n              <option value=\"Student\">Student</option>\r\n              <option value=\"General Visitor\">General Visitor</option>\r\n              <option value=\"Others\">Others</option>\r\n            </select>\r\n            \r\n            {/* Industry Other - Full Width */}\r\n            {showOtherFields.industry && (\r\n              <input\r\n                name=\"industry_sector_other\"\r\n                placeholder=\"Please specify your industry\"\r\n                value={form.industry_sector_other}\r\n                onChange={handleChange}\r\n                style={styles.input}\r\n              />\r\n            )}\r\n            \r\n            {/* Reason for Attending - Full Width */}\r\n            <select\r\n              name=\"reason_for_attending\"\r\n              value={form.reason_for_attending}\r\n              onChange={handleChange}\r\n              style={styles.select}\r\n            >\r\n              <option value=\"\">-- Reason for Attending --</option>\r\n              <option value=\"Discover new ice cream, gelato, or soft serve products\">Discover new ice cream, gelato, or soft serve products</option>\r\n              <option value=\"Source ingredients, equipment, or packaging\">Source ingredients, equipment, or packaging</option>\r\n              <option value=\"Learn from demos, talks, or competitions\">Learn from demos, talks, or competitions</option>\r\n              <option value=\"Explore franchise or business opportunities\">Explore franchise or business opportunities</option>\r\n              <option value=\"Meet potential partners or suppliers\">Meet potential partners or suppliers</option>\r\n              <option value=\"Scout the event for future participation\">Scout the event for future participation</option>\r\n              <option value=\"Others\">Others</option>\r\n            </select>\r\n            \r\n            {/* Reason Other - Full Width */}\r\n            {showOtherFields.reason && (\r\n              <textarea\r\n                name=\"reason_for_attending_other\"\r\n                placeholder=\"Please specify your reason for attending\"\r\n                value={form.reason_for_attending_other}\r\n                onChange={handleChange}\r\n                style={styles.textarea}\r\n              />\r\n            )}\r\n            \r\n            {/* Areas of Interest - Full Width */}\r\n            <select\r\n              name=\"specific_areas_of_interest\"\r\n              value={form.specific_areas_of_interest}\r\n              onChange={handleChange}\r\n              style={styles.select}\r\n            >\r\n              <option value=\"\">-- Areas of Interest --</option>\r\n              <option value=\"Ingredients / Flavor Innovations\">Ingredients / Flavor Innovations</option>\r\n              <option value=\"Machinery & Equipment\">Machinery & Equipment</option>\r\n              <option value=\"Packaging & Cold Chain\">Packaging & Cold Chain</option>\r\n              <option value=\"Toll Manufacturing\">Toll Manufacturing</option>\r\n              <option value=\"Retail Concepts & Franchises\">Retail Concepts & Franchises</option>\r\n              <option value=\"Gelato Techniques & Training\">Gelato Techniques & Training</option>\r\n              <option value=\"Dairy-based Products\">Dairy-based Products</option>\r\n              <option value=\"Non-Dairy / Vegan options\">Non-Dairy / Vegan options</option>\r\n              <option value=\"Others\">Others</option>\r\n            </select>\r\n            \r\n            {/* Interest Other - Full Width */}\r\n            {showOtherFields.interest && (\r\n              <textarea\r\n                name=\"specific_areas_of_interest_other\"\r\n                placeholder=\"Please specify your specific interests\"\r\n                value={form.specific_areas_of_interest_other}\r\n                onChange={handleChange}\r\n                style={styles.textarea}\r\n              />\r\n            )}\r\n            \r\n            {/* How did you learn - Full Width */}\r\n            <select\r\n              name=\"how_did_you_learn_about\"\r\n              value={form.how_did_you_learn_about}\r\n              onChange={handleChange}\r\n              style={styles.select}\r\n            >\r\n              <option value=\"\">-- How did you learn about ICEGEX 2025? --</option>\r\n              <option value=\"Ads on Facebook / Instagram\">Ads on Facebook / Instagram</option>\r\n              <option value=\"ICEGEX Official Page/Website / Social Media\">ICEGEX Official Page/Website / Social Media</option>\r\n              <option value=\"Email Invitation or Newsletter\">Email Invitation or Newsletter</option>\r\n              <option value=\"Word of Mouth (Family / Friends / Colleagues)\">Word of Mouth (Family / Friends / Colleagues)</option>\r\n              <option value=\"Exhibitor / Brand Partner Invitation\">Exhibitor / Brand Partner Invitation</option>\r\n              <option value=\"Media Feature or Influencer Affiliates\">Media Feature or Influencer Affiliates</option>\r\n              <option value=\"Industry Association / Government Agency\">Industry Association / Government Agency</option>\r\n              <option value=\"Event Listing Sites\">Event Listing Sites</option>\r\n              <option value=\"Posters / Billboards / Flyers\">Posters / Billboards / Flyers</option>\r\n              <option value=\"Others\">Others</option>\r\n            </select>\r\n            \r\n            {/* Learn Other - Full Width */}\r\n            {showOtherFields.learn && (\r\n              <textarea\r\n                name=\"how_did_you_learn_about_other\"\r\n                placeholder=\"Please specify how you learned about us\"\r\n                value={form.how_did_you_learn_about_other}\r\n                onChange={handleChange}\r\n                style={styles.textarea}\r\n              />\r\n            )}\r\n          </div>\r\n        \r\n          {/* Submit Button */}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting || !!emailError}\r\n            style={{\r\n              ...styles.button,\r\n              ...((isSubmitting || !!emailError) && { backgroundColor: '#6c757d', cursor: 'not-allowed' }),\r\n            }}\r\n            onMouseOver={(e) => { if (!isSubmitting && !emailError) e.currentTarget.style.backgroundColor = '#0056b3'; }}\r\n            onMouseOut={(e) => { if (!isSubmitting && !emailError) e.currentTarget.style.backgroundColor = '#007bff'; }}\r\n          >\r\n            {isSubmitting ? 'Processing...' : 'Review & Print Badge'}\r\n          </button>\r\n\r\n          {/* ✅ Show message if email error prevents submission */}\r\n          {emailError && (\r\n            <p style={{ textAlign: 'center', color: '#dc3545', fontSize: '0.9rem', marginTop: '10px' }}>\r\n              ⚠️ Please fix the email error above before submitting\r\n            </p>\r\n          )}\r\n        </form>\r\n      </div>\r\n\r\n      {/* Confirmation Modal */}\r\n      <ConfirmationModal\r\n        isOpen={showConfirmation}\r\n        formData={form}\r\n        onConfirm={handleConfirmedSubmit}\r\n        onCancel={handleCancelConfirmation}\r\n      />\r\n    </div>\r\n  );\r\n}","/**\r\n * ===========================================================\r\n * 🧾 OnlineRegistrationPage.jsx\r\n * ===========================================================\r\n * 🔹 Author: John Kenneth Buce\r\n * 🔹 Purpose: Handles event registration, QR generation, and display\r\n * 🔹 Connected API:Laravel backend via Axios (`/api/registrations`)\r\n *\r\n * ✅ Updated: Added demographics, survey fields, and email validation\r\n * ===========================================================\r\n */\r\n\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport api from \"../api/axios\";\r\n\r\n// ===========================================================\r\n// ✨ MODERN DESIGN STYLES (CSS-in-JS inspired)\r\n// ===========================================================\r\n\r\nconst styles = {\r\n  // Main Container\r\n  container: {\r\n    padding: \"40px 20px\",\r\n    maxWidth: \"700px\",\r\n    margin: \"auto\",\r\n    fontFamily: \"'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\",\r\n    backgroundColor: \"#ffffff\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 10px 30px rgba(0, 0, 0, 0.08)\",\r\n  },\r\n  // Form elements\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"18px\",\r\n    marginTop: \"25px\",\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    padding: '14px 18px',\r\n    fontSize: '16px',\r\n    border: '1px solid #e0e0e0',\r\n    borderRadius: '8px',\r\n    boxSizing: 'border-box',\r\n    transition: 'border-color 0.3s, box-shadow 0.3s',\r\n  },\r\n  select: {\r\n    width: '100%',\r\n    padding: '14px 18px',\r\n    fontSize: '16px',\r\n    border: '1px solid #e0e0e0',\r\n    borderRadius: '8px',\r\n    boxSizing: 'border-box',\r\n    backgroundColor: 'white',\r\n    cursor: 'pointer',\r\n    transition: 'border-color 0.3s, box-shadow 0.3s',\r\n  },\r\n  textarea: {\r\n    width: '100%',\r\n    padding: '14px 18px',\r\n    fontSize: '16px',\r\n    border: '1px solid #e0e0e0',\r\n    borderRadius: '8px',\r\n    boxSizing: 'border-box',\r\n    fontFamily: \"'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\",\r\n    resize: 'vertical',\r\n    minHeight: '80px',\r\n  },\r\n  // Base button style\r\n  button: {\r\n    padding: \"14px 25px\",\r\n    fontSize: \"17px\",\r\n    fontWeight: \"600\",\r\n    borderRadius: \"8px\",\r\n    cursor: \"pointer\",\r\n    border: \"none\",\r\n    transition: \"transform 0.2s ease, background-color 0.2s ease, box-shadow 0.3s ease\",\r\n    letterSpacing: \"0.5px\",\r\n    marginTop: \"10px\",\r\n  },\r\n  // Primary action button (Register)\r\n  primaryButton: {\r\n    backgroundColor: \"#007bff\",\r\n    color: \"#ffffff\",\r\n    boxShadow: \"0 4px 10px rgba(0, 123, 255, 0.3)\",\r\n  },\r\n  // Disabled button style\r\n  disabledButton: {\r\n    backgroundColor: \"#cccccc\",\r\n    color: \"#777777\",\r\n    cursor: \"not-allowed\",\r\n    boxShadow: \"none\",\r\n  },\r\n  // Success Screen\r\n  successContainer: {\r\n    padding: \"40px\",\r\n    textAlign: \"center\",\r\n    maxWidth: \"500px\",\r\n    margin: \"auto\",\r\n    opacity: 1,\r\n    transition: \"opacity 1.2s ease-in-out\",\r\n    backgroundColor: \"#f9f9f9\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 8px 25px rgba(40, 167, 69, 0.15)\",\r\n    border: \"2px solid #28a745\",\r\n  },\r\n  qrCode: {\r\n    border: \"4px solid #ffffff\",\r\n    boxShadow: \"0 5px 15px rgba(0, 0, 0, 0.1)\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px\",\r\n    maxWidth: \"300px\",\r\n    width: \"100%\",\r\n    margin: \"25px auto\",\r\n  },\r\n  // Error/Status messages\r\n  error: {\r\n    color: \"#dc3545\",\r\n    backgroundColor: \"#f8d7da\",\r\n    border: \"1px solid #f5c6cb\",\r\n    padding: \"12px\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"20px\",\r\n    textAlign: \"center\",\r\n  },\r\n  statusHeader: {\r\n    fontSize: \"24px\",\r\n    fontWeight: \"700\",\r\n    color: \"#343a40\",\r\n  },\r\n  statusSubtext: {\r\n    color: \"#6c757d\",\r\n    marginTop: \"5px\",\r\n  },\r\n  // Section styles\r\n  section: {\r\n    marginBottom: \"20px\",\r\n    padding: \"20px\",\r\n    backgroundColor: \"#f8f9fa\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #e0e0e0\",\r\n  },\r\n  sectionTitle: {\r\n    fontSize: \"18px\",\r\n    fontWeight: \"700\",\r\n    color: \"#007bff\",\r\n    marginBottom: \"15px\",\r\n    paddingBottom: \"10px\",\r\n    borderBottom: \"2px solid #007bff\",\r\n  },\r\n  optionalBadge: {\r\n    display: \"inline-block\",\r\n    padding: \"4px 12px\",\r\n    backgroundColor: \"#28a745\",\r\n    color: \"white\",\r\n    borderRadius: \"20px\",\r\n    fontSize: \"12px\",\r\n    fontWeight: \"600\",\r\n    marginLeft: \"10px\",\r\n  },\r\n  helpText: {\r\n    fontSize: \"14px\",\r\n    color: \"#6c757d\",\r\n    marginBottom: \"15px\",\r\n    padding: \"10px\",\r\n    backgroundColor: \"#e7f3ff\",\r\n    borderRadius: \"6px\",\r\n    borderLeft: \"4px solid #17a2b8\",\r\n  },\r\n  // ✅ NEW: Email validation styles\r\n  fieldWrapper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '6px',\r\n  },\r\n  fieldError: {\r\n    color: '#dc3545',\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    marginTop: '-4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '5px',\r\n  },\r\n  fieldSuccess: {\r\n    color: '#28a745',\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    marginTop: '-4px',\r\n  },\r\n  // ✅ Confirmation Modal Styles\r\n  modalOverlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 9999,\r\n    padding: '20px',\r\n  },\r\n  modalContent: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '12px',\r\n    padding: '30px',\r\n    maxWidth: '600px',\r\n    width: '100%',\r\n    maxHeight: '90vh',\r\n    overflowY: 'auto',\r\n    boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n    animation: 'slideIn 0.3s ease-out',\r\n  },\r\n  modalHeader: {\r\n    fontSize: '24px',\r\n    fontWeight: '700',\r\n    color: '#343a40',\r\n    marginBottom: '20px',\r\n    textAlign: 'center',\r\n    borderBottom: '2px solid #e0e0e0',\r\n    paddingBottom: '15px',\r\n  },\r\n  infoSection: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: '20px',\r\n    borderRadius: '8px',\r\n    marginBottom: '20px',\r\n  },\r\n  infoRow: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    padding: '10px 0',\r\n    borderBottom: '1px solid #e0e0e0',\r\n  },\r\n  infoLabel: {\r\n    fontWeight: '600',\r\n    color: '#6c757d',\r\n    minWidth: '120px',\r\n  },\r\n  infoValue: {\r\n    color: '#212529',\r\n    textAlign: 'right',\r\n    flex: 1,\r\n    wordBreak: 'break-word',\r\n  },\r\n  warningBox: {\r\n    backgroundColor: '#fff3cd',\r\n    border: '2px solid #ffc107',\r\n    borderRadius: '8px',\r\n    padding: '15px',\r\n    marginBottom: '25px',\r\n  },\r\n  warningIcon: {\r\n    fontSize: '24px',\r\n    marginRight: '10px',\r\n    verticalAlign: 'middle',\r\n  },\r\n  warningText: {\r\n    color: '#856404',\r\n    fontSize: '15px',\r\n    lineHeight: '1.5',\r\n  },\r\n  modalButtons: {\r\n    display: 'flex',\r\n    gap: '15px',\r\n    justifyContent: 'center',\r\n    marginTop: '25px',\r\n  },\r\n  confirmButton: {\r\n    backgroundColor: '#28a745',\r\n    color: '#ffffff',\r\n    padding: '12px 30px',\r\n    fontSize: '16px',\r\n    fontWeight: '600',\r\n    borderRadius: '8px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    boxShadow: '0 4px 10px rgba(40, 167, 69, 0.3)',\r\n  },\r\n  cancelButton: {\r\n    backgroundColor: '#6c757d',\r\n    color: '#ffffff',\r\n    padding: '12px 30px',\r\n    fontSize: '16px',\r\n    fontWeight: '600',\r\n    borderRadius: '8px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n  },\r\n};\r\n\r\n// ===========================================================\r\n// 🖱️ HOVER EFFECT (Simulated using state for the primary button)\r\n// ===========================================================\r\nconst useHover = (initialStyle, hoverStyle) => {\r\n  const [style, setStyle] = useState(initialStyle);\r\n  const onMouseEnter = () => setStyle({ ...initialStyle, ...hoverStyle });\r\n  const onMouseLeave = () => setStyle(initialStyle);\r\n  return [style, onMouseEnter, onMouseLeave];\r\n};\r\n\r\n// ===========================================================\r\n// ✅ Confirmation Modal Component\r\n// ===========================================================\r\nconst ConfirmationModal = ({ isOpen, formData, onConfirm, onCancel }) => {\r\n  if (!isOpen) return null;\r\n\r\n  // Format display values - only show filled fields\r\n  const displayData = [\r\n    { label: \"First Name\", value: formData.first_name, required: true },\r\n    { label: \"Last Name\", value: formData.last_name, required: true },\r\n    { label: \"Email\", value: formData.email || \"Not provided\" },\r\n    { label: \"Phone\", value: formData.phone || \"Not provided\" },\r\n    { label: \"Address\", value: formData.address || \"Not provided\" },\r\n    { label: \"Company\", value: formData.company_name || \"Not provided\" },\r\n    { label: \"Designation\", value: formData.designation || \"Not provided\" },\r\n  ];\r\n\r\n  // Optional fields (only show if filled)\r\n  const optionalData = [];\r\n  \r\n  if (formData.age_range) {\r\n    optionalData.push({ label: \"Age Range\", value: formData.age_range });\r\n  }\r\n  if (formData.gender) {\r\n    optionalData.push({ \r\n      label: \"Gender\", \r\n      value: formData.gender === \"Others\" && formData.gender_other \r\n        ? `Others: ${formData.gender_other}` \r\n        : formData.gender \r\n    });\r\n  }\r\n  if (formData.industry_sector) {\r\n    optionalData.push({ \r\n      label: \"Industry\", \r\n      value: formData.industry_sector === \"Others\" && formData.industry_sector_other \r\n        ? `Others: ${formData.industry_sector_other}` \r\n        : formData.industry_sector \r\n    });\r\n  }\r\n\r\n  return (\r\n    <div style={styles.modalOverlay} onClick={onCancel}>\r\n      <div style={styles.modalContent} onClick={(e) => e.stopPropagation()}>\r\n        <h2 style={styles.modalHeader}>⚠️ Confirm Your Registration</h2>\r\n        \r\n        <div style={styles.infoSection}>\r\n          <h3 style={{ marginBottom: \"15px\", color: \"#343a40\" }}>Please review your information:</h3>\r\n          \r\n          {/* Required Fields */}\r\n          {displayData.map((item, index) => (\r\n            <div key={index} style={{\r\n              ...styles.infoRow,\r\n              borderBottom: index === displayData.length - 1 && optionalData.length === 0 ? \"none\" : \"1px solid #e0e0e0\"\r\n            }}>\r\n              <span style={styles.infoLabel}>\r\n                {item.label}{item.required && <span style={{ color: \"#dc3545\" }}> *</span>}:\r\n              </span>\r\n              <span style={{\r\n                ...styles.infoValue,\r\n                fontWeight: item.required ? \"600\" : \"normal\",\r\n                color: item.value === \"Not provided\" ? \"#6c757d\" : \"#212529\"\r\n              }}>\r\n                {item.value}\r\n              </span>\r\n            </div>\r\n          ))}\r\n\r\n          {/* Optional Fields */}\r\n          {optionalData.length > 0 && (\r\n            <>\r\n              <div style={{ margin: \"15px 0\", paddingTop: \"15px\", borderTop: \"2px solid #dee2e6\" }}>\r\n                <h4 style={{ fontSize: \"14px\", color: \"#6c757d\", marginBottom: \"10px\" }}>Additional Information:</h4>\r\n              </div>\r\n              {optionalData.map((item, index) => (\r\n                <div key={index} style={{\r\n                  ...styles.infoRow,\r\n                  borderBottom: index === optionalData.length - 1 ? \"none\" : \"1px solid #e0e0e0\"\r\n                }}>\r\n                  <span style={styles.infoLabel}>{item.label}:</span>\r\n                  <span style={styles.infoValue}>{item.value}</span>\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div style={styles.warningBox}>\r\n          <span style={styles.warningIcon}>⚠️</span>\r\n          <span style={styles.warningText}>\r\n            <strong>Important Notice:</strong><br />\r\n            Once you submit this registration, you <strong>CANNOT edit or modify</strong> your information. \r\n            This device will also be locked and prevented from submitting another registration. \r\n            Please ensure all information is correct before proceeding.\r\n          </span>\r\n        </div>\r\n\r\n        <div style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\r\n          <p style={{ fontSize: \"16px\", color: \"#343a40\", fontWeight: \"500\" }}>\r\n            Are you sure you want to proceed with this registration?\r\n          </p>\r\n        </div>\r\n\r\n        <div style={styles.modalButtons}>\r\n          <button\r\n            onClick={onCancel}\r\n            style={styles.cancelButton}\r\n            onMouseOver={(e) => {\r\n              e.target.style.backgroundColor = '#5a6268';\r\n              e.target.style.transform = 'translateY(-2px)';\r\n            }}\r\n            onMouseOut={(e) => {\r\n              e.target.style.backgroundColor = '#6c757d';\r\n              e.target.style.transform = 'translateY(0)';\r\n            }}\r\n          >\r\n            ← Go Back & Edit\r\n          </button>\r\n          <button\r\n            onClick={onConfirm}\r\n            style={styles.confirmButton}\r\n            onMouseOver={(e) => {\r\n              e.target.style.backgroundColor = '#218838';\r\n              e.target.style.transform = 'translateY(-2px)';\r\n              e.target.style.boxShadow = '0 6px 15px rgba(40, 167, 69, 0.4)';\r\n            }}\r\n            onMouseOut={(e) => {\r\n              e.target.style.backgroundColor = '#28a745';\r\n              e.target.style.transform = 'translateY(0)';\r\n              e.target.style.boxShadow = '0 4px 10px rgba(40, 167, 69, 0.3)';\r\n            }}\r\n          >\r\n            ✓ Yes, Submit Registration\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function OnlineRegistrationPage() {\r\n  const [serverMode, setServerMode] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [locked, setLocked] = useState(false);\r\n  const [settings, setSettings] = useState(null);\r\n  const [fadeOut, setFadeOut] = useState(false);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [emailError, setEmailError] = useState(\"\"); // ✅ NEW: Email validation error\r\n\r\n  // ✅ All form fields\r\n  const [form, setForm] = useState({\r\n    // Personal Info\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    address: \"\",\r\n    company_name: \"\",\r\n    designation: \"\",\r\n    \r\n    // Demographics\r\n    age_range: \"\",\r\n    gender: \"\",\r\n    gender_other: \"\",\r\n    \r\n    // Survey Questions\r\n    industry_sector: \"\",\r\n    industry_sector_other: \"\",\r\n    reason_for_attending: \"\",\r\n    reason_for_attending_other: \"\",\r\n    specific_areas_of_interest: \"\",\r\n    specific_areas_of_interest_other: \"\",\r\n    how_did_you_learn_about: \"\",\r\n    how_did_you_learn_about_other: \"\",\r\n    \r\n    // System Info\r\n    registration_type: \"online\",\r\n    payment_status: \"unpaid\",\r\n  });\r\n\r\n  // ✅ Track \"Others\" field visibility\r\n  const [showOtherFields, setShowOtherFields] = useState({\r\n    gender: false,\r\n    industry: false,\r\n    reason: false,\r\n    interest: false,\r\n    learn: false\r\n  });\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [successfulReg, setSuccessfulReg] = useState(null);\r\n  const [preparingQr, setPreparingQr] = useState(false);\r\n  const [qrUrl, setQrUrl] = useState(\"\");\r\n\r\n  const backendOrigin = api.defaults.baseURL.replace(\"/api\", \"\");\r\n  const isMounted = useRef(true);\r\n\r\n  // Define hover styles for the primary button (Register)\r\n  const [registerButtonStyle, registerOnMouseEnter, registerOnMouseLeave] = useHover(\r\n    styles.primaryButton,\r\n    { \r\n        backgroundColor: \"#0056b3\",\r\n        transform: \"translateY(-2px)\",\r\n        boxShadow: \"0 6px 15px rgba(0, 123, 255, 0.45)\" \r\n    }\r\n  );\r\n\r\n  // Define hover styles for generic button (Try again)\r\n  const [retryButtonStyle, retryOnMouseEnter, retryOnMouseLeave] = useHover(\r\n    { ...styles.button, backgroundColor: \"#6c757d\", color: \"#ffffff\" },\r\n    { \r\n        backgroundColor: \"#5a6268\",\r\n        transform: \"scale(1.03)\"\r\n    }\r\n  );\r\n\r\n  // Function definitions remain unchanged\r\n  const sleep = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\r\n  const preloadImage = (src) =>\r\n    new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.onload = () => resolve(true);\r\n      img.onerror = reject;\r\n      img.src = src;\r\n    });\r\n\r\n  const buildQrUrl = (reg) => {\r\n    if (reg.qr_code_path) {\r\n      const normalized = reg.qr_code_path\r\n        .replace(/\\\\/g, \"/\")\r\n        .replace(/^\\/?public\\/?/i, \"\")\r\n        .replace(/^\\/?storage\\/?/i, \"\");\r\n      return `${backendOrigin}/storage/${normalized}?v=${Date.now()}`;\r\n    }\r\n\r\n    if (reg.ticket_number) {\r\n      const predicted = `qrcodes/${reg.ticket_number}.png`;\r\n      return `${backendOrigin}/storage/${predicted}?v=${Date.now()}`;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const fetchLatestRegistration = async (ticketNumber) => {\r\n    try {\r\n      const { data } = await api.get(`/registrations/${ticketNumber}`);\r\n      return data.registration || data;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const pollForQr = async (ticketNumber, baseReg) => {\r\n    const delays = [800, 1000, 1200, 1400, 1600, 1800, 2000];\r\n    for (let i = 0; i < delays.length; i++) {\r\n      if (!isMounted.current) return false;\r\n\r\n      let candidateUrl = buildQrUrl(baseReg);\r\n      if (candidateUrl) {\r\n        try {\r\n          await preloadImage(candidateUrl);\r\n          setQrUrl(candidateUrl);\r\n          return true;\r\n        } catch {}\r\n      }\r\n\r\n      const latest = await fetchLatestRegistration(ticketNumber);\r\n      if (latest) {\r\n        candidateUrl = buildQrUrl(latest);\r\n        try {\r\n          await preloadImage(candidateUrl);\r\n          setSuccessfulReg(latest);\r\n          setQrUrl(candidateUrl);\r\n          return true;\r\n        } catch {}\r\n      }\r\n\r\n      await sleep(delays[i]);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const getErrorMessage = (err) => {\r\n    const resp = err.response;\r\n    if (resp?.status === 422 && resp.data?.errors) {\r\n      const first = Object.values(resp.data.errors).flat()[0];\r\n      return first || \"Validation failed.\";\r\n    }\r\n    return (\r\n      resp?.data?.message ||\r\n      resp?.data?.error ||\r\n      \"Registration failed. This email may already be registered.\"\r\n    );\r\n  };\r\n\r\n  // ✅ NEW: Email validation function\r\n  const validateEmail = (email) => {\r\n    if (!email.trim()) {\r\n      setEmailError(\"\");\r\n      return true; // Empty is valid (field is optional)\r\n    }\r\n    \r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setEmailError(\"❌ Invalid email format. Please enter a valid email address.\");\r\n      return false;\r\n    }\r\n    \r\n    setEmailError(\"\");\r\n    return true;\r\n  };\r\n\r\n  /** 🔐 Device Lock Initialization */\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"regData\");\r\n    if (saved) {\r\n      const reg = JSON.parse(saved);\r\n      setLocked(true);\r\n      setSuccessfulReg(reg);\r\n      setQrUrl(buildQrUrl(reg));\r\n    }\r\n  }, []);\r\n\r\n  /** 🧹 Developer Shortcut - Ctrl + Alt + R = Reset lock */\r\n  useEffect(() => {\r\n    const resetLock = (e) => {\r\n      if (e.ctrlKey && e.altKey && e.key === \"r\") {\r\n        localStorage.removeItem(\"regData\");\r\n        localStorage.removeItem(\"regLocked\");\r\n        alert(\"🔓 Registration lock cleared. Refresh to try again.\");\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", resetLock);\r\n    return () => window.removeEventListener(\"keydown\", resetLock);\r\n  }, []);\r\n\r\n  /** 🌐 Server Mode Check */\r\n  useEffect(() => {\r\n    const checkServerMode = async () => {\r\n      try {\r\n        const res = await api.get(\"/server-mode/status\");\r\n        setServerMode(res.data.current_mode?.mode || null);\r\n      } catch {\r\n        setError(\"Could not connect to the server.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    checkServerMode();\r\n  }, []);\r\n\r\n  // ✅ UPDATED: Handle form changes including \"Others\" toggles and email validation\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm({ ...form, [name]: value });\r\n\r\n    // ✅ NEW: Validate email on change\r\n    if (name === \"email\") {\r\n      validateEmail(value);\r\n    }\r\n\r\n    // Handle \"Others\" field toggles\r\n    if (name === \"gender\") {\r\n      setShowOtherFields(prev => ({ ...prev, gender: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, gender_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"industry_sector\") {\r\n      setShowOtherFields(prev => ({ ...prev, industry: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, industry_sector_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"reason_for_attending\") {\r\n      setShowOtherFields(prev => ({ ...prev, reason: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, reason_for_attending_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"specific_areas_of_interest\") {\r\n      setShowOtherFields(prev => ({ ...prev, interest: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, specific_areas_of_interest_other: \"\" }));\r\n    }\r\n    \r\n    if (name === \"how_did_you_learn_about\") {\r\n      setShowOtherFields(prev => ({ ...prev, learn: value === \"Others\" }));\r\n      if (value !== \"Others\") setForm(f => ({ ...f, how_did_you_learn_about_other: \"\" }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (locked) return;\r\n\r\n    // Basic validation\r\n    if (!form.first_name.trim() || !form.last_name.trim() || !form.company_name.trim()) {\r\n      setError(\"Please fill in all required fields (First Name, Last Name, and Company).\");\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      return;\r\n    }\r\n\r\n    // ✅ NEW: Validate email if provided\r\n    if (form.email.trim() && !validateEmail(form.email)) {\r\n      setError(\"❌ Please provide a valid email address or leave the field empty.\");\r\n      // Scroll to email field\r\n      document.querySelector('input[name=\"email\"]')?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      return;\r\n    }\r\n\r\n    // Show confirmation modal\r\n    setShowConfirmation(true);\r\n  };\r\n\r\n  // Handle confirmed submission\r\n  const handleConfirmedSubmit = async () => {\r\n    setShowConfirmation(false);\r\n    setIsSubmitting(true);\r\n    setError(\"\");\r\n    setSuccessfulReg(null);\r\n    setPreparingQr(false);\r\n    setQrUrl(\"\");\r\n\r\n    try {\r\n      const { data } = await api.post(\"/registrations\", form);\r\n      const reg = data.registration;\r\n\r\n      setPreparingQr(true);\r\n      await sleep(800);\r\n\r\n      let candidateUrl = buildQrUrl(reg);\r\n      if (candidateUrl) {\r\n        try {\r\n          await preloadImage(candidateUrl);\r\n          setQrUrl(candidateUrl);\r\n        } catch {\r\n          await pollForQr(reg.ticket_number, reg);\r\n        }\r\n      } else {\r\n        await pollForQr(reg.ticket_number, reg);\r\n      }\r\n\r\n      localStorage.setItem(\"regLocked\", \"true\");\r\n      localStorage.setItem(\"regData\", JSON.stringify(reg));\r\n      setLocked(true);\r\n      setSuccessfulReg(reg);\r\n    } catch (err) {\r\n      const status = err.response?.status;\r\n      const errorData = err.response?.data;\r\n      \r\n      if (status === 409) {\r\n        setError(`❌ ${errorData.error || 'This person is already registered.'}\\n\\nPlease verify the name or contact support.`);\r\n      } else if (status === 422 && errorData.errors?.email) {\r\n        // ✅ Handle Laravel validation error for email\r\n        setError(`❌ ${errorData.errors.email[0]}`);\r\n        setEmailError(errorData.errors.email[0]);\r\n        document.querySelector('input[name=\"email\"]')?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      } else {\r\n        setError(getErrorMessage(err));\r\n      }\r\n      \r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    } finally {\r\n      setPreparingQr(false);\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle cancel confirmation\r\n  const handleCancelConfirmation = () => {\r\n    setShowConfirmation(false);\r\n  };\r\n\r\n  /** 🕒 Auto-close success after fade */\r\n  useEffect(() => {\r\n    if (successfulReg) {\r\n      const fadeTimer = setTimeout(() => setFadeOut(false), 50000000);\r\n      const closeTimer = setTimeout(() => window.close(), 50000000);\r\n      return () => {\r\n        clearTimeout(fadeTimer);\r\n        clearTimeout(closeTimer);\r\n      };\r\n    }\r\n  }, [successfulReg]);\r\n\r\n  // 🌀 UI States\r\n  if (loading) return <h2 style={{ padding: \"20px\", textAlign: \"center\", color: \"#343a40\" }}>Loading...</h2>;\r\n  \r\n  if (preparingQr)\r\n    return (\r\n      <div style={{ ...styles.container, textAlign: \"center\" }}>\r\n        <h2 style={{ color: \"#007bff\" }}>Preparing your QR code…</h2>\r\n        <p style={{ ...styles.statusSubtext }}>Please wait while we generate your entry QR.</p>\r\n      </div>\r\n    );\r\n\r\n  if (successfulReg) {\r\n    const refreshQr = async () => {\r\n      if (!successfulReg?.ticket_number) return;\r\n      await pollForQr(successfulReg.ticket_number, successfulReg);\r\n    };\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.successContainer,\r\n          opacity: fadeOut ? 0 : 1,\r\n        }}\r\n      >\r\n        <h2 style={{ color: \"#28a745\" }}>✅ Registration Successful!</h2>\r\n        <p style={{ ...styles.statusSubtext }}>Please save your QR Code for event check-in.</p>\r\n\r\n        {qrUrl ? (\r\n          <img\r\n            src={qrUrl}\r\n            alt=\"Your QR Code\"\r\n            onError={() => setTimeout(refreshQr, 800)}\r\n            style={styles.qrCode}\r\n          />\r\n        ) : (\r\n          <div style={{ margin: \"30px 0\" }}>\r\n            <p style={{ marginBottom: 12, color: \"#e0a800\", fontWeight: \"600\" }}>\r\n              Your QR is being generated. If it doesn't appear in a moment:\r\n            </p>\r\n            <button \r\n                onClick={refreshQr}\r\n                style={{...styles.button, ...retryButtonStyle}}\r\n                onMouseEnter={retryOnMouseEnter}\r\n                onMouseLeave={retryOnMouseLeave}\r\n                >\r\n                🔄 Try Again / Refresh QR\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <h3 style={{ marginTop: 20, color: \"#343a40\" }}>\r\n          {successfulReg.first_name} {successfulReg.last_name}\r\n        </h3>\r\n        <p style={{ color: \"#007bff\", fontWeight: \"bold\" }}>\r\n        Ticket ID: #{successfulReg.id}</p>\r\n        <p style={{ marginTop: 16, color: \"#777\" }}>\r\n          This device is now restricted from submitting another registration.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (serverMode !== \"online\" && serverMode !== \"both\") {\r\n    return (\r\n      <div style={{ ...styles.container, textAlign: \"center\" }}>\r\n        <h2 style={{ color: \"#dc3545\" }}>❌ Online registration is currently closed.</h2>\r\n        <p style={{ ...styles.statusSubtext }}>Please check back during the designated registration period.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (locked && !successfulReg) {\r\n    return (\r\n      <div style={{ ...styles.container, textAlign: \"center\" }}>\r\n        <h2 style={{ color: \"#ffc107\" }}>🔒 Access Restricted</h2>\r\n        <p>This device has already completed registration. No duplicate entries allowed.</p>\r\n        <p style={{ marginTop: 15, fontSize: \"14px\", color: \"#999\" }}>\r\n          Press <strong>Ctrl + Alt + R</strong> to reset (admin only).\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- Main Form Display ---\r\n  return (\r\n    <div style={styles.container}>\r\n      <h1 style={{ color: \"#343a40\", borderBottom: \"2px solid #007bff\", paddingBottom: \"10px\", marginBottom: \"20px\" }}>\r\n        📝 Event Registration - ICEGEX 2025\r\n      </h1>\r\n      {error && <p style={styles.error}>{error}</p>}\r\n\r\n      <form onSubmit={handleSubmit} style={styles.form}>\r\n        \r\n        {/* SECTION 1: Personal Information */}\r\n        <div style={styles.section}>\r\n          <h3 style={styles.sectionTitle}>👤 Personal Information</h3>\r\n          \r\n          <input\r\n            name=\"first_name\"\r\n            value={form.first_name}\r\n            onChange={handleChange}\r\n            placeholder=\"First Name *\"\r\n            required\r\n            style={styles.input}\r\n          />\r\n          \r\n          <input\r\n            name=\"last_name\"\r\n            value={form.last_name}\r\n            onChange={handleChange}\r\n            placeholder=\"Last Name *\"\r\n            required\r\n            style={styles.input}\r\n          />\r\n          \r\n          {/* ✅ Email with Validation */}\r\n          <div style={styles.fieldWrapper}>\r\n            <input\r\n              name=\"email\"\r\n              value={form.email}\r\n              onChange={handleChange}\r\n              placeholder=\"Email Address (Optional)\"\r\n              type=\"email\"\r\n              style={{\r\n                ...styles.input,\r\n                ...(emailError ? { borderColor: '#dc3545', borderWidth: '2px' } : {})\r\n              }}\r\n            />\r\n            {/* ✅ Email Error Message */}\r\n            {emailError && (\r\n              <span style={styles.fieldError}>\r\n                {emailError}\r\n              </span>\r\n            )}\r\n            {/* ✅ Email Success Message */}\r\n            {!emailError && form.email.trim() && (\r\n              <span style={styles.fieldSuccess}>\r\n                ✓ Valid email format\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <input\r\n            name=\"phone\"\r\n            value={form.phone}\r\n            onChange={handleChange}\r\n            placeholder=\"Phone Number (Optional)\"\r\n            style={styles.input}\r\n          />\r\n          \r\n          <input\r\n            name=\"address\"\r\n            value={form.address}\r\n            onChange={handleChange}\r\n            placeholder=\"Address (Optional)\"\r\n            style={styles.input}\r\n          />\r\n          \r\n          <input\r\n            name=\"company_name\"\r\n            value={form.company_name}\r\n            onChange={handleChange}\r\n            placeholder=\"Company/Organization *\"\r\n            required\r\n            style={styles.input}\r\n          />\r\n          \r\n          <input\r\n            name=\"designation\"\r\n            value={form.designation}\r\n            onChange={handleChange}\r\n            placeholder=\"Designation/Job Title (Optional)\"\r\n            style={styles.input}\r\n          />\r\n        </div>\r\n\r\n        {/* SECTION 2: Demographics (Optional) */}\r\n        <div style={styles.section}>\r\n          <h3 style={styles.sectionTitle}>\r\n            📊 Demographics\r\n            <span style={styles.optionalBadge}>Optional</span>\r\n          </h3>\r\n          <p style={styles.helpText}>\r\n            This information helps us understand our attendees better and improve future events.\r\n          </p>\r\n          \r\n          <select\r\n            name=\"age_range\"\r\n            value={form.age_range}\r\n            onChange={handleChange}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">-- Select Age Range --</option>\r\n            <option value=\"18-24\">18-24</option>\r\n            <option value=\"25-34\">25-34</option>\r\n            <option value=\"35-44\">35-44</option>\r\n            <option value=\"45-54\">45-54</option>\r\n            <option value=\"55-64\">55-64</option>\r\n            <option value=\"65+\">65+</option>\r\n          </select>\r\n          \r\n          <select\r\n            name=\"gender\"\r\n            value={form.gender}\r\n            onChange={handleChange}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">-- Select Gender --</option>\r\n            <option value=\"Male\">Male</option>\r\n            <option value=\"Female\">Female</option>\r\n            <option value=\"Prefer not to say\">Prefer not to say</option>\r\n            <option value=\"Others\">Others</option>\r\n          </select>\r\n          \r\n          {showOtherFields.gender && (\r\n            <input\r\n              name=\"gender_other\"\r\n              placeholder=\"Please specify your gender\"\r\n              value={form.gender_other}\r\n              onChange={handleChange}\r\n              style={styles.input}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* SECTION 3: Event Survey (Optional) */}\r\n        <div style={styles.section}>\r\n          <h3 style={styles.sectionTitle}>\r\n            📝 Event Survey\r\n            <span style={styles.optionalBadge}>Optional</span>\r\n          </h3>\r\n          <p style={styles.helpText}>\r\n            Help us serve you better! Your responses will help us tailor the event to your interests.\r\n          </p>\r\n          \r\n          {/* Industry Sector */}\r\n          <select\r\n            name=\"industry_sector\"\r\n            value={form.industry_sector}\r\n            onChange={handleChange}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">-- Select Industry Sector --</option>\r\n            <option value=\"Ice Cream / Gelato / Frozen Dessert Brand\">Ice Cream / Gelato / Frozen Dessert Brand</option>\r\n            <option value=\"Café / Bakery / Beverage or Dessert Shop\">Café / Bakery / Beverage or Dessert Shop</option>\r\n            <option value=\"Restaurant / Catering / Food Chain\">Restaurant / Catering / Food Chain</option>\r\n            <option value=\"Hotel / Resort / Hospitality\">Hotel / Resort / Hospitality</option>\r\n            <option value=\"Food or Dairy Manufacturer / Supplier\">Food or Dairy Manufacturer / Supplier</option>\r\n            <option value=\"Equipment / Packaging / Technology Provider\">Equipment / Packaging / Technology Provider</option>\r\n            <option value=\"Marketing / Events / Creative Services\">Marketing / Events / Creative Services</option>\r\n            <option value=\"Entrepreneur\">Entrepreneur</option>\r\n            <option value=\"Student\">Student</option>\r\n            <option value=\"General Visitor\">General Visitor</option>\r\n            <option value=\"Others\">Others</option>\r\n          </select>\r\n          \r\n          {showOtherFields.industry && (\r\n            <input\r\n              name=\"industry_sector_other\"\r\n              placeholder=\"Please specify your industry\"\r\n              value={form.industry_sector_other}\r\n              onChange={handleChange}\r\n              style={styles.input}\r\n            />\r\n          )}\r\n          \r\n          {/* Reason for Attending */}\r\n          <select\r\n            name=\"reason_for_attending\"\r\n            value={form.reason_for_attending}\r\n            onChange={handleChange}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">-- Reason for Attending --</option>\r\n            <option value=\"Discover new ice cream, gelato, or soft serve products\">Discover new ice cream, gelato, or soft serve products</option>\r\n            <option value=\"Source ingredients, equipment, or packaging\">Source ingredients, equipment, or packaging</option>\r\n            <option value=\"Learn from demos, talks, or competitions\">Learn from demos, talks, or competitions</option>\r\n            <option value=\"Explore franchise or business opportunities\">Explore franchise or business opportunities</option>\r\n            <option value=\"Meet potential partners or suppliers\">Meet potential partners or suppliers</option>\r\n            <option value=\"Scout the event for future participation\">Scout the event for future participation</option>\r\n            <option value=\"Others\">Others</option>\r\n          </select>\r\n          \r\n          {showOtherFields.reason && (\r\n            <textarea\r\n              name=\"reason_for_attending_other\"\r\n              placeholder=\"Please specify your reason for attending\"\r\n              value={form.reason_for_attending_other}\r\n              onChange={handleChange}\r\n              style={styles.textarea}\r\n            />\r\n          )}\r\n          \r\n          {/* Areas of Interest */}\r\n          <select\r\n            name=\"specific_areas_of_interest\"\r\n            value={form.specific_areas_of_interest}\r\n            onChange={handleChange}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">-- Areas of Interest --</option>\r\n            <option value=\"Ingredients / Flavor Innovations\">Ingredients / Flavor Innovations</option>\r\n            <option value=\"Machinery & Equipment\">Machinery & Equipment</option>\r\n            <option value=\"Packaging & Cold Chain\">Packaging & Cold Chain</option>\r\n            <option value=\"Toll Manufacturing\">Toll Manufacturing</option>\r\n            <option value=\"Retail Concepts & Franchises\">Retail Concepts & Franchises</option>\r\n            <option value=\"Gelato Techniques & Training\">Gelato Techniques & Training</option>\r\n            <option value=\"Dairy-based Products\">Dairy-based Products</option>\r\n            <option value=\"Non-Dairy / Vegan options\">Non-Dairy / Vegan options</option>\r\n            <option value=\"Others\">Others</option>\r\n          </select>\r\n          \r\n          {showOtherFields.interest && (\r\n            <textarea\r\n              name=\"specific_areas_of_interest_other\"\r\n              placeholder=\"Please specify your areas of interest\"\r\n              value={form.specific_areas_of_interest_other}\r\n              onChange={handleChange}\r\n              style={styles.textarea}\r\n            />\r\n          )}\r\n          \r\n          {/* How did you learn */}\r\n          <select\r\n            name=\"how_did_you_learn_about\"\r\n            value={form.how_did_you_learn_about}\r\n            onChange={handleChange}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">-- How did you learn about us? --</option>\r\n            <option value=\"Ads on Facebook / Instagram\">Ads on Facebook / Instagram</option>\r\n            <option value=\"ICEGEX Official Page/Website / Social Media\">ICEGEX Official Page/Website / Social Media</option>\r\n            <option value=\"Email Invitation or Newsletter\">Email Invitation or Newsletter</option>\r\n            <option value=\"Word of Mouth (Family / Friends / Colleagues)\">Word of Mouth (Family / Friends / Colleagues)</option>\r\n            <option value=\"Exhibitor / Brand Partner Invitation\">Exhibitor / Brand Partner Invitation</option>\r\n            <option value=\"Media Feature or Influencer Affiliates\">Media Feature or Influencer Affiliates</option>\r\n            <option value=\"Industry Association / Government Agency\">Industry Association / Government Agency</option>\r\n            <option value=\"Event Listing Sites\">Event Listing Sites</option>\r\n            <option value=\"Posters / Billboards / Flyers\">Posters / Billboards / Flyers</option>\r\n            <option value=\"Others\">Others</option>\r\n          </select>\r\n          \r\n          {showOtherFields.learn && (\r\n            <textarea\r\n              name=\"how_did_you_learn_about_other\"\r\n              placeholder=\"Please specify how you learned about us\"\r\n              value={form.how_did_you_learn_about_other}\r\n              onChange={handleChange}\r\n              style={styles.textarea}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Submit Button */}\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isSubmitting || !!emailError}\r\n          style={\r\n            (isSubmitting || !!emailError)\r\n                ? { ...styles.button, ...styles.disabledButton } \r\n                : { ...styles.button, ...registerButtonStyle }\r\n          }\r\n          onMouseEnter={(!isSubmitting && !emailError) ? registerOnMouseEnter : null}\r\n          onMouseLeave={(!isSubmitting && !emailError) ? registerOnMouseLeave : null}\r\n        >\r\n          {isSubmitting ? \"Processing...\" : \"Register Now\"}\r\n        </button>\r\n\r\n        {/* ✅ Show message if email error prevents submission */}\r\n        {emailError && (\r\n          <p style={{ textAlign: 'center', color: '#dc3545', fontSize: '0.9rem', marginTop: '10px' }}>\r\n            ⚠️ Please fix the email error above before submitting\r\n          </p>\r\n        )}\r\n      </form>\r\n\r\n      {/* Confirmation Modal */}\r\n      <ConfirmationModal\r\n        isOpen={showConfirmation}\r\n        formData={form}\r\n        onConfirm={handleConfirmedSubmit}\r\n        onCancel={handleCancelConfirmation}\r\n      />\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport Modal from './Modal';\r\n\r\nexport default function PermissionsModal({ role, allPermissions, onSave, onCancel }) {\r\n  const [selectedPermissions, setSelectedPermissions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (role) {\r\n      setSelectedPermissions(role.permissions || []);\r\n    }\r\n  }, [role]);\r\n\r\n  const handleCheckboxChange = (permission) => {\r\n    setSelectedPermissions(prev => \r\n      prev.includes(permission)\r\n        ? prev.filter(p => p !== permission)\r\n        : [...prev, permission]\r\n    );\r\n  };\r\n\r\n  const handleSave = () => {\r\n    onSave(role.id, selectedPermissions);\r\n  };\r\n\r\n  if (!role) return null;\r\n\r\n  return (\r\n    <Modal isOpen={true} onClose={onCancel} title={`Edit Permissions for: ${role.name}`}>\r\n      <div style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n        {allPermissions.map(permission => (\r\n          <div key={permission}>\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={selectedPermissions.includes(permission)}\r\n                onChange={() => handleCheckboxChange(permission)}\r\n              />\r\n              {permission}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div style={{ marginTop: '20px', textAlign: 'right' }}>\r\n        <button type=\"button\" onClick={onCancel} style={{ marginRight: '10px' }}>Cancel</button>\r\n        <button type=\"button\" onClick={handleSave} style={{ fontWeight: 'bold' }}>Save Permissions</button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}","import { useEffect, useState } from \"react\";\r\nimport api from \"../api/axios\";\r\nimport PermissionsModal from \"../components/PermissionsModal\";\r\n\r\nexport default function RoleManagementPage() {\r\n    const [roles, setRoles] = useState([]);\r\n    const [allPermissions, setAllPermissions] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    // State for the modal\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingRole, setEditingRole] = useState(null);\r\n\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            // Fetch both roles and all possible permissions\r\n            const [rolesRes, permsRes] = await Promise.all([\r\n                api.get('/roles'),\r\n                api.get('/permissions')\r\n            ]);\r\n            setRoles(rolesRes.data);\r\n            setAllPermissions(permsRes.data);\r\n            setError(null);\r\n        } catch (err) {\r\n            setError('Failed to fetch data.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n    \r\n    const handleEditClick = (role) => {\r\n        setEditingRole(role);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleSavePermissions = async (roleId, permissions) => {\r\n        try {\r\n            await api.put(`/roles/${roleId}`, { permissions });\r\n            setIsModalOpen(false);\r\n            fetchData(); // Refresh all data\r\n        } catch (error) {\r\n            alert('Failed to save permissions.');\r\n        }\r\n    };\r\n    \r\n    if (loading) return <p style={{ textAlign: \"center\", fontSize: \"1.2rem\", color: \"#555\" }}>Loading roles and permissions...</p>;\r\n    if (error) return <p style={{ color: \"red\", textAlign: \"center\", fontSize: \"1.2rem\" }}>{error}</p>;\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\", maxWidth: \"1200px\", margin: \"0 auto\", fontFamily: \"Arial, sans-serif\" }}>\r\n            <h2 style={{ fontSize: \"1.8rem\", marginBottom: \"20px\", color: \"#333\" }}>🔑 Role & Permission Management</h2>\r\n            \r\n            <div style={{ overflowX: \"auto\", borderRadius: \"8px\", boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\" }}>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", minWidth: \"600px\" }}>\r\n                    <thead>\r\n                        <tr style={{ backgroundColor: \"#f8f9fa\", color: \"#333\" }}>\r\n                            <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"1px solid #ddd\" }}>Role Name</th>\r\n                            <th style={{ padding: \"12px\", textAlign: \"left\", borderBottom: \"1px solid #ddd\" }}>Description</th>\r\n                            <th style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\" }}>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {roles.map((role, index) => (\r\n                            <tr\r\n                                key={role.id}\r\n                                style={{\r\n                                    backgroundColor: index % 2 === 0 ? \"#ffffff\" : \"#f8f9fa\",\r\n                                    transition: \"background-color 0.3s\",\r\n                                }}\r\n                                onMouseOver={(e) => e.currentTarget.style.backgroundColor = \"#e2e6ea\"}\r\n                                onMouseOut={(e) => e.currentTarget.style.backgroundColor = index % 2 === 0 ? \"#ffffff\" : \"#f8f9fa\"}\r\n                            >\r\n                                <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\", textTransform: 'capitalize' }}>{role.name}</td>\r\n                                <td style={{ padding: \"12px\", borderBottom: \"1px solid #ddd\" }}>{role.description}</td>\r\n                                <td style={{ padding: \"12px\", textAlign: \"center\", borderBottom: \"1px solid #ddd\" }}>\r\n                                    <button\r\n                                        onClick={() => handleEditClick(role)}\r\n                                        style={{\r\n                                            padding: \"8px 12px\",\r\n                                            backgroundColor: \"#ffc107\",\r\n                                            color: \"#212529\",\r\n                                            border: \"none\",\r\n                                            borderRadius: \"4px\",\r\n                                            cursor: \"pointer\",\r\n                                            transition: \"background-color 0.3s\",\r\n                                        }}\r\n                                        onMouseOver={(e) => e.target.style.backgroundColor = \"#e0a800\"}\r\n                                        onMouseOut={(e) => e.target.style.backgroundColor = \"#ffc107\"}\r\n                                    >\r\n                                        Edit Permissions\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {isModalOpen && (\r\n                <PermissionsModal\r\n                    role={editingRole}\r\n                    allPermissions={allPermissions}\r\n                    onSave={handleSavePermissions}\r\n                    onCancel={() => setIsModalOpen(false)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}","import { Link, Outlet, useLocation } from \"react-router-dom\";\r\nimport { Nav, Container, Row, Col } from 'react-bootstrap';\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n// ===== NEW IMPORTS =====\r\nimport { useState, useEffect } from 'react';\r\nimport api from '../api/axios';\r\n\r\nfunction DashboardSidebar() {\r\n  const { user } = useAuth();\r\n  const location = useLocation();\r\n\r\n  // ===== NEW: LOGO FETCHING LOGIC =====\r\n  const [logoPath, setLogoPath] = useState('');\r\n  const backendUrl = api.defaults.baseURL.replace('/api', '');\r\n\r\n  useEffect(() => {\r\n    const fetchLogo = async () => {\r\n      try {\r\n        const res = await api.get('/settings');\r\n        if (res.data?.registration_logo_path) {\r\n          setLogoPath(res.data.registration_logo_path);\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to fetch logo for sidebar:', err);\r\n      }\r\n    };\r\n    fetchLogo();\r\n  }, []);\r\n\r\n  const getImageUrl = (path) => {\r\n    if (!path) return '';\r\n    if (/^https?:\\/\\//i.test(path)) return path;\r\n    const normalized = String(path)\r\n      .replace(/\\\\/g, '/')\r\n      .replace(/^\\/?storage\\/?/i, '');\r\n    return `${backendUrl}/storage/${normalized}`;\r\n  };\r\n  // ===== END: NEW LOGIC =====\r\n\r\n\r\n  const isActive = (path) => {\r\n    if (path === '/dashboard') {\r\n      return location.pathname === '/dashboard';\r\n    }\r\n    return location.pathname.startsWith(path);\r\n  };\r\n\r\n  const SidebarLink = ({ to, icon, children, permission }) => {\r\n    if (permission && !user.role?.permissions?.includes(permission)) {\r\n      return null;\r\n    }\r\n\r\n    const active = isActive(to);\r\n\r\n    return (\r\n      <Link\r\n        to={to}\r\n        className=\"text-decoration-none d-block mb-2\"\r\n        style={{\r\n          padding: '12px 20px',\r\n          borderRadius: '8px',\r\n          fontWeight: active ? '600' : '500',\r\n          color: active ? '#fff' : '#2c3e50',\r\n          background: active \r\n            ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' \r\n            : 'transparent',\r\n          transition: 'all 0.3s ease',\r\n          borderLeft: active ? '4px solid #fff' : '4px solid transparent',\r\n        }}\r\n        onMouseEnter={(e) => {\r\n          if (!active) {\r\n            e.target.style.background = 'rgba(102, 126, 234, 0.1)';\r\n            e.target.style.paddingLeft = '24px';\r\n          }\r\n        }}\r\n        onMouseLeave={(e) => {\r\n          if (!active) {\r\n            e.target.style.background = 'transparent';\r\n            e.target.style.paddingLeft = '20px';\r\n          }\r\n        }}\r\n      >\r\n        <span className=\"me-3\" style={{ fontSize: '1.2rem' }}>{icon}</span>\r\n        {children}\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"bg-white shadow-sm h-100\"\r\n      style={{ \r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        position: 'sticky',\r\n        top: '0',\r\n        padding: '20px',\r\n        borderRight: '1px solid #dee2e6',\r\n        minHeight: '100vh'\r\n      }}\r\n    >\r\n      <div>\r\n        <h5 className=\"fw-bold mb-4 text-muted\">DASHBOARD MENU</h5>\r\n        \r\n        <SidebarLink to=\"/dashboard\" icon=\"📊\">\r\n          Summary\r\n        </SidebarLink>\r\n\r\n        <SidebarLink to=\"/dashboard/registrations\" icon=\"📋\" permission=\"view-registrations\">\r\n          Registrations\r\n        </SidebarLink>\r\n\r\n        <SidebarLink to=\"/dashboard/register-new\" icon=\"➕\" permission=\"create-registration\">\r\n          New Registration\r\n        </SidebarLink>\r\n\r\n        <SidebarLink to=\"/dashboard/scanner\" icon=\"📷\" permission=\"scan-registration\">\r\n          QR Scanner\r\n        </SidebarLink>\r\n\r\n        <SidebarLink to=\"/dashboard/reports\" icon=\"📈\" permission=\"view-reports\">\r\n          Reports\r\n        </SidebarLink>\r\n\r\n        <hr className=\"my-4\" />\r\n\r\n        <h6 className=\"fw-bold mb-3 text-muted small\">SETTINGS</h6>\r\n\r\n        <SidebarLink to=\"/dashboard/settings\" icon=\"⚙️\" permission=\"edit-settings\">\r\n          Badge Settings\r\n        </SidebarLink>\r\n\r\n        <SidebarLink to=\"/dashboard/server-mode\" icon=\"🖥️\" permission=\"edit-server-mode\">\r\n          Server Mode\r\n        </SidebarLink>\r\n\r\n        <hr className=\"my-4\" />\r\n\r\n        <h6 className=\"fw-bold mb-3 text-muted small\">ADMINISTRATION</h6>\r\n\r\n        <SidebarLink to=\"/dashboard/user-management\" icon=\"👥\" permission=\"view-users\">\r\n          User Management\r\n        </SidebarLink>\r\n\r\n        <SidebarLink to=\"/dashboard/role-management\" icon=\"🔐\" permission=\"manage-roles\">\r\n          Role Management\r\n        </SidebarLink>\r\n      </div>\r\n\r\n      {/* ===== START: UPDATED FOOTER DESIGN ===== */}\r\n      <div \r\n        style={{\r\n          marginTop: 'auto',\r\n          paddingTop: '1rem',\r\n          borderTop: '1px solid #dee2e6',\r\n          display: 'flex', // Use flexbox for alignment\r\n          alignItems: 'center', // Vertically center items\r\n          justifyContent: 'center', // Horizontally center content\r\n          gap: '0.75rem', // Space between logo and text\r\n        }}\r\n      >\r\n        {/* Conditionally render the logo */}\r\n        {logoPath && (\r\n          <img \r\n            src={getImageUrl(logoPath)} \r\n            alt=\"Company Logo\"\r\n            style={{\r\n              height: '30px',\r\n              width: 'auto',\r\n              maxWidth: '40px',\r\n              objectFit: 'contain'\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* Text container */}\r\n        <div style={{ textAlign: 'left' }}>\r\n          <span style={{ \r\n            display: 'block', \r\n            fontSize: '0.75rem', \r\n            color: '#6c757d',\r\n            lineHeight: 1.2\r\n          }}>\r\n            ⏻ Powered By\r\n          </span>\r\n          <a \r\n            href=\"https://heritagemultioffice.com/\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            style={{ \r\n              color: '#343a40',\r\n              fontWeight: '600',\r\n              fontSize: '0.8rem',\r\n              textDecoration: 'none',\r\n              lineHeight: 1.2\r\n            }}\r\n          >\r\n            Heritage Multi Office Product Inc.\r\n          </a>\r\n        </div>\r\n      </div>\r\n      {/* ===== END: UPDATED FOOTER DESIGN ===== */}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function DashboardLayout() {\r\n  return (\r\n    <Container fluid>\r\n      <Row>\r\n        <Col xs={12} lg={3} xl={2} className=\"px-0\">\r\n          <DashboardSidebar />\r\n        </Col>\r\n        <Col xs={12} lg={9} xl={10}>\r\n          <main className=\"p-4\">\r\n            <Outlet />\r\n          </main>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}","import { useEffect, useRef, useState } from 'react';\r\nimport { Container, Row, Col, Card, Form, Button, Badge, Alert, ListGroup, Spinner } from 'react-bootstrap';\r\nimport api from '../api/axios';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default function ScannerPage() {\r\n  const [raw, setRaw] = useState('');\r\n  const [status, setStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [scanHistory, setScanHistory] = useState([]);\r\n  const [stats, setStats] = useState({ total: 0, success: 0, failed: 0 });\r\n  const [lastScanned, setLastScanned] = useState(null);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const focus = () => inputRef.current?.focus();\r\n    focus();\r\n    const t = setInterval(focus, 1000); // keep focus for HID scanners\r\n    return () => clearInterval(t);\r\n  }, []);\r\n\r\n  // Play sound feedback\r\n  const playSound = (success) => {\r\n    const audio = new Audio(success \r\n      ? 'data:audio/wav;base64,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' \r\n      : 'data:audio/wav;base64,UklGRhwAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YfgAAACAgICAgICAgICAgICAgICAgIA=');\r\n    audio.play().catch(() => {}); // Ignore errors if sound fails\r\n  };\r\n\r\n  const extractTicket = (text) => {\r\n    if (!text) return null;\r\n    const s = String(text).trim();\r\n    const match = s.toUpperCase().match(/TICKET-[A-Z0-9]+/);\r\n    return match ? match[0] : null;\r\n  };\r\n\r\n  const handleProcess = async (ticket) => {\r\n    setError('');\r\n    setStatus('');\r\n    setIsProcessing(true);\r\n\r\n    const printWin = window.open('', '_blank');\r\n\r\n    try {\r\n      // 1) Update statuses and log scan\r\n      await api.post(`/registrations/${ticket}/scan`);\r\n\r\n      // 2) Navigate to badge print page\r\n      const badgeUrl = `/print-badge/${ticket}`;\r\n      if (printWin) {\r\n        printWin.location = badgeUrl;\r\n        printWin.focus();\r\n      } else {\r\n        window.open(badgeUrl, '_blank');\r\n      }\r\n\r\n      // Success feedback\r\n      setStatus(`✅ Success! Badge printing for ${ticket}`);\r\n      setLastScanned({ ticket, status: 'success', time: new Date() });\r\n      playSound(true);\r\n\r\n      // Update stats and history\r\n      setStats(prev => ({ \r\n        ...prev, \r\n        total: prev.total + 1, \r\n        success: prev.success + 1 \r\n      }));\r\n      \r\n      setScanHistory(prev => [\r\n        { ticket, status: 'success', time: new Date() },\r\n        ...prev.slice(0, 9) // Keep last 10\r\n      ]);\r\n\r\n      // Clear input after 2 seconds\r\n      setTimeout(() => {\r\n        setRaw('');\r\n        setStatus('');\r\n        inputRef.current?.focus();\r\n      }, 2000);\r\n\r\n    } catch (err) {\r\n      if (printWin) try { printWin.close(); } catch (_) {}\r\n\r\n      const statusCode = err.response?.status;\r\n      const msg =\r\n        statusCode === 404 ? '❌ Ticket not found in system' :\r\n        statusCode === 403 ? '❌ Scan not allowed (check server mode or permissions)' :\r\n        statusCode === 409 ? '⚠️ Reprint limit reached for this badge' :\r\n        err.response?.data?.error || err.response?.data?.message || '❌ Scan/print failed';\r\n      \r\n      setError(msg);\r\n      setLastScanned({ ticket, status: 'error', time: new Date(), message: msg });\r\n      playSound(false);\r\n\r\n      // Update stats\r\n      setStats(prev => ({ \r\n        ...prev, \r\n        total: prev.total + 1, \r\n        failed: prev.failed + 1 \r\n      }));\r\n\r\n      setScanHistory(prev => [\r\n        { ticket, status: 'error', time: new Date(), message: msg },\r\n        ...prev.slice(0, 9)\r\n      ]);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const ticket = extractTicket(raw);\r\n    if (!ticket) {\r\n      setError('❌ Invalid scan. Could not find a ticket number.');\r\n      playSound(false);\r\n      return;\r\n    }\r\n    handleProcess(ticket);\r\n  };\r\n\r\n  const onKeyDown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      const ticket = extractTicket(raw);\r\n      if (!ticket) {\r\n        setError('❌ Invalid scan. Could not find a ticket number.');\r\n        playSound(false);\r\n        return;\r\n      }\r\n      handleProcess(ticket);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container fluid className=\"py-4 px-3 px-md-4\" style={{ backgroundColor: '#f8f9fa', minHeight: '100vh' }}>\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h2 className=\"fw-bold mb-2\" style={{ color: '#2c3e50' }}>\r\n            📷 QR Code Scanner & Badge Printer\r\n          </h2>\r\n          <p className=\"text-muted mb-0\">\r\n            Scan attendee QR codes to verify registration and print badges\r\n          </p>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row className=\"g-4\">\r\n        {/* Left Column: Scanner */}\r\n        <Col xs={12} lg={8}>\r\n          {/* Status Messages */}\r\n          {status && (\r\n            <Alert variant=\"success\" className=\"mb-3 shadow-sm\" dismissible onClose={() => setStatus('')}>\r\n              <div className=\"d-flex align-items-center\">\r\n                <div style={{ fontSize: '24px', marginRight: '15px' }}>✅</div>\r\n                <div>\r\n                  <strong>{status}</strong>\r\n                </div>\r\n              </div>\r\n            </Alert>\r\n          )}\r\n\r\n          {error && (\r\n            <Alert variant=\"danger\" className=\"mb-3 shadow-sm\" dismissible onClose={() => setError('')}>\r\n              <div className=\"d-flex align-items-center\">\r\n                <div style={{ fontSize: '24px', marginRight: '15px' }}>❌</div>\r\n                <div>\r\n                  <strong>{error}</strong>\r\n                </div>\r\n              </div>\r\n            </Alert>\r\n          )}\r\n\r\n          {/* Main Scanner Card */}\r\n          <Card className=\"shadow-sm border-0 mb-4\">\r\n            <Card.Header \r\n              className=\"text-white border-0\"\r\n              style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}\r\n            >\r\n              <h5 className=\"mb-0 fw-semibold\">🎯 Scan Area</h5>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-5\" style={{ backgroundColor: isProcessing ? '#e3f2fd' : '#fff' }}>\r\n              <Form onSubmit={onSubmit}>\r\n                <Form.Group>\r\n                  <div className=\"text-center mb-3\">\r\n                    <div style={{ fontSize: '64px', marginBottom: '15px' }}>\r\n                      {isProcessing ? '⏳' : '📷'}\r\n                    </div>\r\n                    <p className=\"text-muted mb-3\">\r\n                      {isProcessing ? 'Processing scan...' : 'Focus the field below and scan the QR code'}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <Form.Control\r\n                    ref={inputRef}\r\n                    type=\"text\"\r\n                    value={raw}\r\n                    onChange={(e) => setRaw(e.target.value)}\r\n                    onKeyDown={onKeyDown}\r\n                    placeholder=\"Click here and scan QR code...\"\r\n                    disabled={isProcessing}\r\n                    autoFocus\r\n                    size=\"lg\"\r\n                    style={{ \r\n                      fontSize: '20px', \r\n                      textAlign: 'center',\r\n                      padding: '20px',\r\n                      border: isProcessing ? '3px solid #2196F3' : '3px dashed #ccc',\r\n                      backgroundColor: isProcessing ? '#e3f2fd' : '#fff'\r\n                    }}\r\n                  />\r\n                </Form.Group>\r\n\r\n                <div className=\"d-grid mt-3\">\r\n                  <Button \r\n                    type=\"submit\" \r\n                    variant=\"primary\" \r\n                    size=\"lg\"\r\n                    disabled={isProcessing || !raw.trim()}\r\n                  >\r\n                    {isProcessing ? (\r\n                      <>\r\n                        <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                        Processing...\r\n                      </>\r\n                    ) : (\r\n                      <>🖨️ Print Badge</>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n\r\n              {/* Last Scanned Info */}\r\n              {lastScanned && (\r\n                <div className=\"mt-4 pt-3 border-top\">\r\n                  <Row>\r\n                    <Col xs={6}>\r\n                      <small className=\"text-muted d-block\">Last Scanned</small>\r\n                      <strong>{lastScanned.ticket}</strong>\r\n                    </Col>\r\n                    <Col xs={6} className=\"text-end\">\r\n                      <small className=\"text-muted d-block\">Status</small>\r\n                      <Badge bg={lastScanned.status === 'success' ? 'success' : 'danger'}>\r\n                        {lastScanned.status === 'success' ? '✅ Success' : '❌ Failed'}\r\n                      </Badge>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n            <Card.Footer className=\"bg-light border-top-0\">\r\n              <small className=\"text-muted\">\r\n                💡 <strong>Tip:</strong> Enable \"Enter/Newline suffix\" in your scanner settings for auto-submit\r\n              </small>\r\n            </Card.Footer>\r\n          </Card>\r\n\r\n          {/* Scan History */}\r\n          <Card className=\"shadow-sm border-0\">\r\n            <Card.Header className=\"bg-white border-bottom\">\r\n              <h5 className=\"mb-0 fw-semibold text-primary\">📜 Recent Scans</h5>\r\n            </Card.Header>\r\n            <Card.Body className=\"p-0\">\r\n              {scanHistory.length > 0 ? (\r\n                <ListGroup variant=\"flush\">\r\n                  {scanHistory.map((scan, index) => (\r\n                    <ListGroup.Item key={index} className=\"d-flex justify-content-between align-items-center\">\r\n                      <div>\r\n                        <strong>{scan.ticket}</strong>\r\n                        <br />\r\n                        <small className=\"text-muted\">{scan.time.toLocaleTimeString()}</small>\r\n                      </div>\r\n                      <div>\r\n                        <Badge bg={scan.status === 'success' ? 'success' : 'danger'}>\r\n                          {scan.status === 'success' ? '✅ Success' : '❌ Failed'}\r\n                        </Badge>\r\n                      </div>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              ) : (\r\n                <div className=\"text-center p-5 text-muted\">\r\n                  <p className=\"mb-0\">No scans yet. Start scanning QR codes!</p>\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Right Column: Stats & Info */}\r\n        <Col xs={12} lg={4}>\r\n          <div style={{ position: 'sticky', top: '20px' }}>\r\n            {/* Statistics Card */}\r\n            <Card className=\"shadow-sm border-0 mb-3\">\r\n              <Card.Header className=\"bg-white border-bottom\">\r\n                <h5 className=\"mb-0 fw-semibold text-primary\">📊 Session Statistics</h5>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <Row className=\"g-3\">\r\n                  <Col xs={12}>\r\n                    <div className=\"text-center p-3 rounded\" style={{ backgroundColor: '#e3f2fd' }}>\r\n                      <h1 className=\"mb-0 fw-bold text-primary\">{stats.total}</h1>\r\n                      <small className=\"text-muted\">Total Scans</small>\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs={6}>\r\n                    <div className=\"text-center p-3 rounded\" style={{ backgroundColor: '#e8f5e9' }}>\r\n                      <h2 className=\"mb-0 fw-bold text-success\">{stats.success}</h2>\r\n                      <small className=\"text-muted\">Successful</small>\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs={6}>\r\n                    <div className=\"text-center p-3 rounded\" style={{ backgroundColor: '#ffebee' }}>\r\n                      <h2 className=\"mb-0 fw-bold text-danger\">{stats.failed}</h2>\r\n                      <small className=\"text-muted\">Failed</small>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            {/* Instructions Card */}\r\n            <Card className=\"shadow-sm border-0 mb-3\">\r\n              <Card.Header className=\"bg-white border-bottom\">\r\n                <h5 className=\"mb-0 fw-semibold text-primary\">📖 How to Use</h5>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <ol className=\"ps-3 mb-0\">\r\n                  <li className=\"mb-2\">Click the scan field to focus it</li>\r\n                  <li className=\"mb-2\">Scan the attendee's QR code</li>\r\n                  <li className=\"mb-2\">Badge will auto-print in new window</li>\r\n                  <li className=\"mb-0\">Repeat for next attendee</li>\r\n                </ol>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            {/* Status Codes Card */}\r\n            <Card className=\"shadow-sm border-0\">\r\n              <Card.Header className=\"bg-white border-bottom\">\r\n                <h5 className=\"mb-0 fw-semibold text-primary\">ℹ️ Error Codes</h5>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item className=\"px-0 py-2\">\r\n                    <Badge bg=\"danger\" className=\"me-2\">404</Badge>\r\n                    <small>Ticket not found</small>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item className=\"px-0 py-2\">\r\n                    <Badge bg=\"warning\" text=\"dark\" className=\"me-2\">403</Badge>\r\n                    <small>Scan not allowed</small>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item className=\"px-0 py-2\">\r\n                    <Badge bg=\"warning\" text=\"dark\" className=\"me-2\">409</Badge>\r\n                    <small>Reprint limit reached</small>\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}","import React from \"react\";\r\nimport api from \"../api/axios\";\r\n\r\nexport default function BadgePrint({ settings, registration, showQr = false }) {\r\n  const backendUrl = api.defaults.baseURL.replace(\"/api\", \"\");\r\n\r\n  const getImageUrl = (path) => {\r\n    if (!path) return \"\";\r\n    if (/^https?:\\/\\//i.test(path)) return path;\r\n    const clean = String(path).replace(/\\\\/g, \"/\").replace(/^\\/?storage\\/?/i, \"\");\r\n    return `${backendUrl}/storage/${clean}`;\r\n  };\r\n\r\n  const mainLogo = getImageUrl(settings.main_logo_path);\r\n  const orgLogo = getImageUrl(settings.organizer_logo_path);\r\n  const mgrLogo = getImageUrl(settings.manager_logo_path);\r\n  const regLogo = getImageUrl(settings.registration_logo_path);\r\n  const qrUrl = registration?.qr_code_path\r\n    ? getImageUrl(registration.qr_code_path)\r\n    : \"https://api.qrserver.com/v1/create-qr-code/?data=sample&size=80x80\";\r\n\r\n  return (\r\n  <div\r\n  style={{\r\n    width: \"7.5cm\", // Default width; adjust this value as needed\r\n    height: \"7.5cm\", // Default height; adjust this value as needed\r\n    paddingTop: \"5px\",    // Default top padding; adjust this value as needed\r\n    paddingRight: \"5px\",  // Default right padding; adjust this value as needed\r\n    paddingBottom: \"120px\", // Default bottom padding; adjust this value as needed\r\n    paddingLeft: \"40px\",   // Default left padding; adjust this value as needed\r\n    boxSizing: \"border-box\", // Ensure padding is included in the total width/height\r\n    background: \"#fff\", // White background for printing\r\n    color: \"#111\", // Dark text for readability\r\n    display: \"flex\", // Use flexbox for layout\r\n    flexDirection: \"column\", // Stack children vertically\r\n    justifyContent: \"space-between\", // Space out header, content, and footer\r\n    fontFamily: \"Instrument Sans, sans-serif\", // Use the custom font\r\n    border: \"1px solid #ccc\", // Light border for badge outline\r\n    position: \"relative\", // For any absolute positioning inside\r\n    overflow: \"visible\", // Ensure content isn't clipped\r\n  }}\r\n>\r\n      {/* HEADER */} \r\n      <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", gap: \"4px\", marginBottom: \"3px\" }}> \r\n        {mainLogo && (\r\n          <img src={mainLogo} alt=\"Main Logo\" style={{ maxWidth: \"52px\", maxHeight: \"52px\" }} /> \r\n        )}\r\n        <div style={{ textAlign: \"left\", fontSize: \"9px\", lineHeight: \"1.2\" }}>  \r\n          <div>{settings.event_location || \"Event Location\"}</div> \r\n          <div>{settings.event_datetime || \"Event Date & Time\"}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* MAIN CONTENT */}\r\n      <div style={{ textAlign: \"center\", flexGrow: 1, display: \"flex\", flexDirection: \"column\", justifyContent: \"flex-start\" }}>\r\n        <div style={{ fontSize: \"16px\", fontWeight: 700, marginBottom: \"1px\" }}> \r\n          {registration.first_name || registration.firstName}{\" \"}\r\n          {registration.last_name || registration.lastName}\r\n        </div>\r\n        <div\r\n          style={{\r\n            fontSize: \"11px\", \r\n            borderBottom: \"1px solid #000\", \r\n            paddingBottom: \"2px\", \r\n            marginBottom: \"2px\", \r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          {registration.company_name || registration.companyName || \"N/A\"}\r\n        </div>\r\n        <div style={{ fontSize: \"12px\", fontWeight: \"700\", marginBottom: \"3px\" }}> \r\n          {settings.event_name || \"EVENT NAME\"}\r\n        </div>\r\n        {showQr && (\r\n          <img src={qrUrl} alt=\"QR Code\" style={{ width: \"60px\", height: \"60px\", margin: \"auto\" }} /> // Reduced QR size if used\r\n        )}\r\n      </div>\r\n\r\n      {/* FOOTER */}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"flex-end\",\r\n          fontSize: \"7px\", \r\n          paddingTop: \"2px\", \r\n        }}\r\n      >\r\n        <div>\r\n          <strong>Organized By:</strong><br />\r\n          {orgLogo && <img src={orgLogo} alt=\"Organizer\" style={{ maxHeight: \"20px\" }} />} \r\n        </div>\r\n        <div>\r\n          <strong>Event Manager:</strong><br />\r\n          {mgrLogo && <img src={mgrLogo} alt=\"Manager\" style={{ maxHeight: \"30px\" }} />}\r\n        </div>\r\n        <div>\r\n          <strong>Registration:</strong><br />\r\n          {regLogo && <img src={regLogo} alt=\"Registration\" style={{ maxHeight: \"30px\" }} />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useEffect, useState, useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Spinner, Alert, Container } from \"react-bootstrap\";\r\nimport api from \"../api/axios\";\r\nimport BadgePrint from \"../components/BadgePrint\";\r\n\r\n// Custom hook to get the previous value of a state or prop\r\nfunction usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nexport default function BadgePrintPage() {\r\n  const { ticket } = useParams();\r\n  const [registration, setRegistration] = useState(null);\r\n  const [settings, setSettings] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // ADDED: State to manage the printing process\r\n  const [isPrinting, setIsPrinting] = useState(false);\r\n  const prevIsPrinting = usePrevious(isPrinting);\r\n  \r\n  const printAttempted = useRef(false);\r\n\r\n  // --- Main data fetching and print style injection ---\r\n  useEffect(() => {\r\n    const style = document.createElement(\"style\");\r\n    style.innerHTML = `\r\n      @media print {\r\n        @page { size: 6.5cm 5.5cm landscape; margin: 0; }\r\n        html, body { margin: 0; padding: 0; width: 6.5cm; height: 5.5cm; overflow: visible !important; }\r\n        .badge-container { border: none !important; overflow: visible !important; page-break-after: avoid; }\r\n        .no-print { display: none !important; }\r\n      }\r\n      @media screen {\r\n        body { background-color: #f0f2f5; }\r\n        .print-preview {\r\n          max-width: 650px; margin: 2rem auto; padding: 2rem; background: white;\r\n          border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n        }\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n\r\n    const fetchDataForBadge = async () => {\r\n      try {\r\n        const [regResponse, settingsResponse] = await Promise.all([\r\n          api.get(`/registrations/${ticket}`),\r\n          api.get(\"/settings\"),\r\n        ]);\r\n        setRegistration(regResponse.data.registration);\r\n        setSettings(settingsResponse.data);\r\n      } catch (err) {\r\n        setError(err.response?.data?.message || `Failed to load data for ticket ${ticket}.`);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDataForBadge();\r\n\r\n    return () => {\r\n      if (document.head.contains(style)) document.head.removeChild(style);\r\n    };\r\n  }, [ticket]);\r\n\r\n  // --- Auto-print trigger ---\r\n  useEffect(() => {\r\n    if (registration && settings && !loading && !error && !printAttempted.current) {\r\n      printAttempted.current = true;\r\n\r\n      const triggerPrintProcess = () => {\r\n        setTimeout(() => {\r\n          console.log(\"🚀 Kicking off print process...\");\r\n          setIsPrinting(true); // This will trigger the next useEffect\r\n        }, 800); // Delay to ensure all images are rendered\r\n      };\r\n\r\n      const waitForImages = () => {\r\n        const images = Array.from(document.images);\r\n        if (images.length === 0) return triggerPrintProcess();\r\n        \r\n        Promise.all(images.map(img => !img.complete ? new Promise(resolve => { img.onload = img.onerror = resolve; }) : Promise.resolve()))\r\n          .then(triggerPrintProcess);\r\n      };\r\n\r\n      waitForImages();\r\n    }\r\n  }, [registration, settings, loading, error]);\r\n\r\n  // --- Print execution and state toggle ---\r\n  useEffect(() => {\r\n    if (isPrinting) {\r\n      console.log(\"🖨️ Print dialog is opening (blocking JS)...\");\r\n      window.print();\r\n      // THIS LINE ONLY RUNS *AFTER* THE PRINT DIALOG IS CLOSED\r\n      console.log(\"..Print dialog closed. Toggling state.\");\r\n      setIsPrinting(false);\r\n    }\r\n  }, [isPrinting]);\r\n\r\n  // --- \"Print Finished\" trigger for closing the window ---\r\n  useEffect(() => {\r\n    // This condition is ONLY true when the state changes from TRUE -> FALSE\r\n    if (prevIsPrinting && !isPrinting) {\r\n      console.log(\"✅ Print process finished. Closing window now.\");\r\n      setTimeout(() => window.close(), 200); // Close window\r\n    }\r\n  }, [prevIsPrinting, isPrinting]);\r\n\r\n\r\n  // --- Render States ---\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: \"100vh\" }}>\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" variant=\"primary\" style={{ width: \"3rem\", height: \"3rem\" }} />\r\n          <p className=\"mt-3 text-muted\">Loading badge data...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container className=\"mt-5\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Error Loading Badge</Alert.Heading>\r\n          <p>{error}</p>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!registration || !settings) {\r\n    return (\r\n      <Container className=\"mt-5\">\r\n        <Alert variant=\"warning\">\r\n          <p>Could not find data for this badge.</p>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"print-preview\">\r\n       <div className=\"no-print text-center mb-4\">\r\n        <h4 className=\"mb-2\">Badge Print Preview</h4>\r\n        <p className=\"text-muted\">The print dialog will open automatically.</p>\r\n        <p className=\"text-info small mb-3\">\r\n          This window will close automatically after the print job is sent.\r\n        </p>\r\n        <button className=\"btn btn-primary\" onClick={() => setIsPrinting(true)}>\r\n          🖨️ Print Again\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"badge-container\">\r\n        <BadgePrint\r\n          settings={settings}\r\n          registration={registration}\r\n          showQr={false}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport api from '../api/axios';\r\nimport { Table, Form, Button, Container, Row, Col, InputGroup, Spinner, Badge, Card, Pagination, Tabs, Tab, ProgressBar } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { jsPDF } from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\n\r\nconst Reports = () => {\r\n  // State for counts - Updated structure\r\n  const [counts, setCounts] = useState({\r\n    badge_status: { not_printed: 0, printed: 0, reprinted: 0 },\r\n    payment_status: { paid: 0, unpaid: 0, complimentary: 0 },\r\n    registration_type: { onsite: 0, online: 0, pre_registered: 0, complimentary: 0 },\r\n    demographics: { age_ranges: {}, gender: {}, total_with_demographics: 0 },\r\n    survey: { \r\n      industry_sector: {}, \r\n      reason_for_attending: {}, \r\n      areas_of_interest: {}, \r\n      how_did_you_learn: {},\r\n      total_with_survey: 0 \r\n    },\r\n    total: 0,\r\n    confirmed: 0,\r\n    unconfirmed: 0\r\n  });\r\n\r\n  const [allRegistrations, setAllRegistrations] = useState([]);\r\n  const [filteredRegistrations, setFilteredRegistrations] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [recordsPerPage] = useState(10);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [exporting, setExporting] = useState(false);\r\n\r\n  // Filters\r\n  const [dateFrom, setDateFrom] = useState('');\r\n  const [dateTo, setDateTo] = useState('');\r\n  const [paymentFilter, setPaymentFilter] = useState('all');\r\n  const [registrationTypeFilter, setRegistrationTypeFilter] = useState('all');\r\n  const [ageRangeFilter, setAgeRangeFilter] = useState('all');\r\n  const [genderFilter, setGenderFilter] = useState('all');\r\n  const [industryFilter, setIndustryFilter] = useState('all');\r\n\r\n  // Sorting\r\n  const [sortField, setSortField] = useState('id');\r\n  const [sortOrder, setSortOrder] = useState('desc');\r\n\r\n  // Column visibility - Updated with new fields\r\n  const [visibleColumns, setVisibleColumns] = useState({\r\n    id: true,\r\n    name: true,\r\n    email: true,\r\n    phone: false,\r\n    address: false,\r\n    company: true,\r\n    designation: false,\r\n    type: true,\r\n    payment: true,\r\n    badge: true,\r\n    age_range: false,\r\n    gender: false,\r\n    industry: false,\r\n    date: true\r\n  });\r\n\r\n  // Active tab for switching between overview and detailed views\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  useEffect(() => {\r\n    fetchCounts();\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterAndSortData();\r\n    setCurrentPage(1);\r\n  }, [search, allRegistrations, dateFrom, dateTo, paymentFilter, registrationTypeFilter, \r\n      ageRangeFilter, genderFilter, industryFilter, sortField, sortOrder]);\r\n\r\n  const fetchCounts = async () => {\r\n    try {\r\n      setError(null);\r\n      const res = await api.get('/dashboard/reports-counts');\r\n      console.log('✅ Reports counts:', res.data);\r\n      setCounts(res.data);\r\n    } catch (err) {\r\n      console.error('❌ Error fetching counts:', err);\r\n      setError(err.response?.data?.message || 'Failed to fetch counts');\r\n    }\r\n  };\r\n\r\n  const fetchAllData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const res = await api.get('/dashboard/reports-list', { \r\n        params: { all: true } \r\n      });\r\n      \r\n      const data = res.data.data || [];\r\n      console.log('✅ Loaded all registrations:', data.length);\r\n      \r\n      setAllRegistrations(data);\r\n      setFilteredRegistrations(data);\r\n    } catch (err) {\r\n      console.error('❌ Error fetching data:', err);\r\n      setError(err.response?.data?.message || 'Failed to fetch registrations');\r\n      setAllRegistrations([]);\r\n      setFilteredRegistrations([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterAndSortData = () => {\r\n    let filtered = [...allRegistrations];\r\n\r\n    // Search filter\r\n    if (search.trim()) {\r\n      const searchLower = search.toLowerCase().trim();\r\n      filtered = filtered.filter(reg => {\r\n        const firstName = (reg.first_name || '').toLowerCase();\r\n        const lastName = (reg.last_name || '').toLowerCase();\r\n        const fullName = `${firstName} ${lastName}`;\r\n        const email = (reg.email || '').toLowerCase();\r\n        const phone = (reg.phone || '').toLowerCase();\r\n        const ticketNumber = (reg.ticket_number || '').toLowerCase();\r\n        const companyName = (reg.company_name || '').toLowerCase();\r\n        const designation = (reg.designation || '').toLowerCase();\r\n        \r\n        return firstName.includes(searchLower)\r\n          || lastName.includes(searchLower)\r\n          || fullName.includes(searchLower)\r\n          || email.includes(searchLower)\r\n          || phone.includes(searchLower)\r\n          || ticketNumber.includes(searchLower)\r\n          || companyName.includes(searchLower)\r\n          || designation.includes(searchLower);\r\n      });\r\n    }\r\n\r\n    // Date range filter\r\n    if (dateFrom) {\r\n      const fromDate = new Date(dateFrom);\r\n      fromDate.setHours(0, 0, 0, 0);\r\n      filtered = filtered.filter(reg => {\r\n        const regDate = new Date(reg.created_at);\r\n        return regDate >= fromDate;\r\n      });\r\n    }\r\n\r\n    if (dateTo) {\r\n      const toDate = new Date(dateTo);\r\n      toDate.setHours(23, 59, 59, 999);\r\n      filtered = filtered.filter(reg => {\r\n        const regDate = new Date(reg.created_at);\r\n        return regDate <= toDate;\r\n      });\r\n    }\r\n\r\n    // Payment filter\r\n    if (paymentFilter !== 'all') {\r\n      filtered = filtered.filter(reg => reg.payment_status === paymentFilter);\r\n    }\r\n\r\n    // Registration type filter\r\n    if (registrationTypeFilter !== 'all') {\r\n      filtered = filtered.filter(reg => reg.registration_type === registrationTypeFilter);\r\n    }\r\n\r\n    // Age range filter\r\n    if (ageRangeFilter !== 'all') {\r\n      filtered = filtered.filter(reg => reg.age_range === ageRangeFilter);\r\n    }\r\n\r\n    // Gender filter\r\n    if (genderFilter !== 'all') {\r\n      filtered = filtered.filter(reg => reg.gender === genderFilter);\r\n    }\r\n\r\n    // Industry filter\r\n    if (industryFilter !== 'all') {\r\n      filtered = filtered.filter(reg => reg.industry_sector === industryFilter);\r\n    }\r\n\r\n    // Sorting\r\n    filtered.sort((a, b) => {\r\n      let aVal, bVal;\r\n\r\n      switch (sortField) {\r\n        case 'id':\r\n          aVal = a.id || 0;\r\n          bVal = b.id || 0;\r\n          break;\r\n        case 'name':\r\n          aVal = `${a.first_name || ''} ${a.last_name || ''}`.toLowerCase();\r\n          bVal = `${b.first_name || ''} ${b.last_name || ''}`.toLowerCase();\r\n          break;\r\n        case 'email':\r\n          aVal = (a.email || '').toLowerCase();\r\n          bVal = (b.email || '').toLowerCase();\r\n          break;\r\n        case 'date':\r\n          aVal = new Date(a.created_at);\r\n          bVal = new Date(b.created_at);\r\n          break;\r\n        case 'payment':\r\n          aVal = a.payment_status || '';\r\n          bVal = b.payment_status || '';\r\n          break;\r\n        case 'company':\r\n          aVal = (a.company_name || '').toLowerCase();\r\n          bVal = (b.company_name || '').toLowerCase();\r\n          break;\r\n        default:\r\n          aVal = a[sortField] || '';\r\n          bVal = b[sortField] || '';\r\n      }\r\n\r\n      if (aVal < bVal) return sortOrder === 'asc' ? -1 : 1;\r\n      if (aVal > bVal) return sortOrder === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n\r\n    console.log(`🔍 Filtered: ${filtered.length} from ${allRegistrations.length} total`);\r\n    setFilteredRegistrations(filtered);\r\n  };\r\n\r\n  const formatRegistrationType = (type) => {\r\n    if (!type) return 'N/A';\r\n    return type.split('-').map(word =>\r\n      word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\r\n    ).join('-');\r\n  };\r\n\r\n  const handleSearchChange = (e) => setSearch(e.target.value);\r\n  const handleClearSearch = () => setSearch('');\r\n  const handleRefresh = () => {\r\n    fetchAllData();\r\n    fetchCounts();\r\n  };\r\n\r\n  const handleColumnToggle = (column) => {\r\n    setVisibleColumns(prev => ({\r\n      ...prev,\r\n      [column]: !prev[column]\r\n    }));\r\n  };\r\n\r\n  const handleSort = (field) => {\r\n    if (sortField === field) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n  const handleClearFilters = () => {\r\n    setSearch('');\r\n    setDateFrom('');\r\n    setDateTo('');\r\n    setPaymentFilter('all');\r\n    setRegistrationTypeFilter('all');\r\n    setAgeRangeFilter('all');\r\n    setGenderFilter('all');\r\n    setIndustryFilter('all');\r\n    setSortField('id');\r\n    setSortOrder('desc');\r\n  };\r\n\r\n  const indexOfLastRecord = currentPage * recordsPerPage;\r\n  const indexOfFirstRecord = indexOfLastRecord - recordsPerPage;\r\n  const currentRecords = filteredRegistrations.slice(indexOfFirstRecord, indexOfLastRecord);\r\n  const totalPages = Math.ceil(filteredRegistrations.length / recordsPerPage);\r\n\r\n  const hasActiveFilters = search || dateFrom || dateTo || paymentFilter !== 'all' || \r\n    registrationTypeFilter !== 'all' || ageRangeFilter !== 'all' || \r\n    genderFilter !== 'all' || industryFilter !== 'all';\r\n\r\n  const renderPagination = () => {\r\n    if (totalPages <= 1) return null;\r\n\r\n    const items = [];\r\n    const maxPagesToShow = 5;\r\n    let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));\r\n    let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);\r\n\r\n    if (endPage - startPage < maxPagesToShow - 1) {\r\n      startPage = Math.max(1, endPage - maxPagesToShow + 1);\r\n    }\r\n\r\n    return (\r\n      <Pagination className=\"mb-0\">\r\n        <Pagination.First \r\n          onClick={() => setCurrentPage(1)} \r\n          disabled={currentPage === 1}\r\n        />\r\n        <Pagination.Prev \r\n          onClick={() => setCurrentPage(currentPage - 1)} \r\n          disabled={currentPage === 1}\r\n        />\r\n\r\n        {startPage > 1 && (\r\n          <>\r\n            <Pagination.Item onClick={() => setCurrentPage(1)}>1</Pagination.Item>\r\n            {startPage > 2 && <Pagination.Ellipsis disabled />}\r\n          </>\r\n        )}\r\n\r\n        {[...Array(endPage - startPage + 1)].map((_, idx) => {\r\n          const pageNum = startPage + idx;\r\n          return (\r\n            <Pagination.Item\r\n              key={pageNum}\r\n              active={pageNum === currentPage}\r\n              onClick={() => setCurrentPage(pageNum)}\r\n            >\r\n              {pageNum}\r\n            </Pagination.Item>\r\n          );\r\n        })}\r\n\r\n        {endPage < totalPages && (\r\n          <>\r\n            {endPage < totalPages - 1 && <Pagination.Ellipsis disabled />}\r\n            <Pagination.Item onClick={() => setCurrentPage(totalPages)}>\r\n              {totalPages}\r\n            </Pagination.Item>\r\n          </>\r\n        )}\r\n\r\n        <Pagination.Next \r\n          onClick={() => setCurrentPage(currentPage + 1)} \r\n          disabled={currentPage === totalPages}\r\n        />\r\n        <Pagination.Last \r\n          onClick={() => setCurrentPage(totalPages)} \r\n          disabled={currentPage === totalPages}\r\n        />\r\n      </Pagination>\r\n    );\r\n  };\r\n\r\n  // ✅ Helper function to render survey data bars\r\n  const renderSurveyDataBar = (label, count, total, variant = 'primary') => {\r\n    const percentage = total > 0 ? Math.round((count / total) * 100) : 0;\r\n    return (\r\n      <div className=\"mb-3\">\r\n        <div className=\"d-flex justify-content-between align-items-center mb-1\">\r\n          <small className=\"text-muted\" style={{ fontSize: '0.85rem' }}>\r\n            {label.length > 50 ? label.substring(0, 50) + '...' : label}\r\n          </small>\r\n          <div>\r\n            <Badge bg={variant} className=\"me-2\">{count}</Badge>\r\n            <small className=\"text-muted\">{percentage}%</small>\r\n          </div>\r\n        </div>\r\n        <ProgressBar \r\n          now={percentage} \r\n          variant={variant}\r\n          style={{ height: '8px' }}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Enhanced PDF Export with new fields\r\n  const exportToPDF = async () => {\r\n    try {\r\n      setExporting(true);\r\n      console.log('🚀 Starting PDF export...');\r\n\r\n      const dataToExport = filteredRegistrations;\r\n\r\n      if (dataToExport.length === 0) {\r\n        alert('No data to export');\r\n        setExporting(false);\r\n        return;\r\n      }\r\n\r\n      const doc = new jsPDF({\r\n        orientation: 'landscape',\r\n        unit: 'mm',\r\n        format: 'a4'\r\n      });\r\n\r\n      doc.setFontSize(20);\r\n      doc.setTextColor(0, 123, 255);\r\n      doc.text('ICEGEX 2025 - Registration Reports', 14, 15);\r\n\r\n      doc.setFontSize(10);\r\n      doc.setTextColor(100, 100, 100);\r\n      doc.text(`Generated on: ${new Date().toLocaleString()}`, 14, 22);\r\n\r\n      let yPos = 27;\r\n\r\n      if (hasActiveFilters) {\r\n        doc.setFontSize(9);\r\n        doc.setTextColor(255, 0, 0);\r\n        doc.text('FILTERED REPORT', 14, yPos);\r\n        yPos += 4;\r\n        if (search) doc.text(`Search: \"${search}\"`, 14, yPos+=4);\r\n        if (dateFrom) doc.text(`From: ${dateFrom}`, 14, yPos+=4);\r\n        if (dateTo) doc.text(`To: ${dateTo}`, 14, yPos+=4);\r\n        if (paymentFilter !== 'all') doc.text(`Payment: ${paymentFilter}`, 14, yPos+=4);\r\n        if (registrationTypeFilter !== 'all') doc.text(`Type: ${registrationTypeFilter}`, 14, yPos+=4);\r\n        yPos += 3;\r\n      }\r\n\r\n      doc.setFontSize(11);\r\n      doc.setTextColor(0, 0, 0);\r\n      doc.text('Summary Statistics:', 14, yPos);\r\n\r\n      doc.setFontSize(8);\r\n      yPos += 5;\r\n      \r\n      // Badge Status\r\n      doc.text('Badge Status:', 14, yPos);\r\n      doc.text(`Not Printed: ${counts.badge_status.not_printed}`, 24, yPos+=4);\r\n      doc.text(`Printed: ${counts.badge_status.printed}`, 24, yPos+=4);\r\n      doc.text(`Re-Printed: ${counts.badge_status.reprinted}`, 24, yPos+=4);\r\n      \r\n      yPos += 2;\r\n      // Payment Status\r\n      doc.text('Payment Status:', 14, yPos+=4);\r\n      doc.text(`Paid: ${counts.payment_status.paid}`, 24, yPos+=4);\r\n      doc.text(`Unpaid: ${counts.payment_status.unpaid}`, 24, yPos+=4);\r\n      doc.text(`Complimentary: ${counts.payment_status.complimentary}`, 24, yPos+=4);\r\n      \r\n      yPos += 2;\r\n      // Registration Type\r\n      doc.text('Registration Type:', 14, yPos+=4);\r\n      doc.text(`Onsite: ${counts.registration_type.onsite}`, 24, yPos+=4);\r\n      doc.text(`Online: ${counts.registration_type.online}`, 24, yPos+=4);\r\n      doc.text(`Pre-Registered: ${counts.registration_type.pre_registered}`, 24, yPos+=4);\r\n      doc.text(`Complimentary: ${counts.registration_type.complimentary}`, 24, yPos+=4);\r\n\r\n      yPos += 2;\r\n      doc.text(`Total Registrations: ${counts.total}`, 14, yPos+=4);\r\n      doc.text(`Confirmed: ${counts.confirmed} | Unconfirmed: ${counts.unconfirmed}`, 14, yPos+=4);\r\n\r\n      if (hasActiveFilters) {\r\n        yPos += 2;\r\n        doc.setTextColor(255, 0, 0);\r\n        doc.text(`🔍 Filtered Results: ${dataToExport.length} records`, 14, yPos+=4);\r\n      }\r\n\r\n      yPos += 3;\r\n      doc.setDrawColor(200, 200, 200);\r\n      doc.line(14, yPos, 283, yPos);\r\n\r\n      const headers = [];\r\n      const columnIndices = [];\r\n\r\n      if (visibleColumns.id) { headers.push('ID'); columnIndices.push('id'); }\r\n      if (visibleColumns.name) { headers.push('Name'); columnIndices.push('name'); }\r\n      if (visibleColumns.email) { headers.push('Email'); columnIndices.push('email'); }\r\n      if (visibleColumns.phone) { headers.push('Phone'); columnIndices.push('phone'); }\r\n      if (visibleColumns.company) { headers.push('Company'); columnIndices.push('company'); }\r\n      if (visibleColumns.designation) { headers.push('Designation'); columnIndices.push('designation'); }\r\n      if (visibleColumns.type) { headers.push('Type'); columnIndices.push('type'); }\r\n      if (visibleColumns.payment) { headers.push('Payment'); columnIndices.push('payment'); }\r\n      if (visibleColumns.age_range) { headers.push('Age'); columnIndices.push('age_range'); }\r\n      if (visibleColumns.gender) { headers.push('Gender'); columnIndices.push('gender'); }\r\n      if (visibleColumns.industry) { headers.push('Industry'); columnIndices.push('industry'); }\r\n      if (visibleColumns.date) { headers.push('Date'); columnIndices.push('date'); }\r\n\r\n      const tableData = dataToExport.map(reg => {\r\n        const row = [];\r\n        columnIndices.forEach(col => {\r\n          switch(col) {\r\n            case 'id': row.push(String(reg.id || '')); break;\r\n            case 'name': row.push(`${reg.first_name || ''} ${reg.last_name || ''}`.trim()); break;\r\n            case 'email': row.push(reg.email || 'N/A'); break;\r\n            case 'phone': row.push(reg.phone || 'N/A'); break;\r\n            case 'company': row.push(reg.company_name || 'N/A'); break;\r\n            case 'designation': row.push(reg.designation || 'N/A'); break;\r\n            case 'type': row.push(formatRegistrationType(reg.registration_type)); break;\r\n            case 'payment': row.push((reg.payment_status || 'unpaid').toUpperCase()); break;\r\n            case 'age_range': row.push(reg.age_range || 'N/A'); break;\r\n            case 'gender': row.push(reg.gender || 'N/A'); break;\r\n            case 'industry': row.push((reg.industry_sector || 'N/A').substring(0, 30)); break;\r\n            case 'date': row.push(new Date(reg.created_at).toLocaleDateString()); break;\r\n            default: row.push('');\r\n          }\r\n        });\r\n        return row;\r\n      });\r\n\r\n      autoTable(doc, {\r\n        startY: yPos + 4,\r\n        head: [headers],\r\n        body: tableData,\r\n        theme: 'striped',\r\n        styles: { \r\n          fontSize: 7,\r\n          cellPadding: 1.5,\r\n        },\r\n        headStyles: { \r\n          fillColor: [0, 123, 255],\r\n          textColor: [255, 255, 255],\r\n          fontStyle: 'bold',\r\n          halign: 'center'\r\n        },\r\n        didDrawPage: (data) => {\r\n          const pageCount = doc.getNumberOfPages();\r\n          doc.setFontSize(8);\r\n          doc.setTextColor(150);\r\n          const pageText = `Page ${data.pageNumber} of ${pageCount}`;\r\n          const pageWidth = doc.internal.pageSize.getWidth();\r\n          const pageHeight = doc.internal.pageSize.getHeight();\r\n          doc.text(pageText, pageWidth / 2, pageHeight - 10, { align: 'center' });\r\n        }\r\n      });\r\n\r\n      const filename = `ICEGEX_2025_Report_${new Date().toISOString().split('T')[0]}.pdf`;\r\n      doc.save(filename);\r\n\r\n      console.log('✅ PDF saved:', filename);\r\n      alert(`✅ PDF exported successfully!\\nRecords: ${dataToExport.length}\\nFile: ${filename}`);\r\n    } catch (err) {\r\n      console.error('❌ PDF export error:', err);\r\n      alert('Failed to export PDF: ' + err.message);\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  // Enhanced CSV Export with new fields\r\n  const exportToCSV = async () => {\r\n    try {\r\n      setExporting(true);\r\n\r\n      const dataToExport = filteredRegistrations;\r\n      \r\n      if (dataToExport.length === 0) {\r\n        alert('No data to export');\r\n        setExporting(false);\r\n        return;\r\n      }\r\n\r\n      const summaryRows = [\r\n        ['ICEGEX 2025 - Registration Reports'],\r\n        [`Generated on: ${new Date().toLocaleString()}`],\r\n        [''],\r\n        ['Summary Statistics'],\r\n        ['Badge Status'],\r\n        ['Not Printed', counts.badge_status.not_printed],\r\n        ['Printed', counts.badge_status.printed],\r\n        ['Re-Printed', counts.badge_status.reprinted],\r\n        [''],\r\n        ['Payment Status'],\r\n        ['Paid', counts.payment_status.paid],\r\n        ['Unpaid', counts.payment_status.unpaid],\r\n        ['Complimentary', counts.payment_status.complimentary],\r\n        [''],\r\n        ['Registration Type'],\r\n        ['Onsite', counts.registration_type.onsite],\r\n        ['Online', counts.registration_type.online],\r\n        ['Pre-Registered', counts.registration_type.pre_registered],\r\n        ['Complimentary Type', counts.registration_type.complimentary],\r\n        [''],\r\n        ['Overall Totals'],\r\n        ['Total Registrations', counts.total],\r\n        ['Confirmed', counts.confirmed],\r\n        ['Unconfirmed', counts.unconfirmed],\r\n        ...(hasActiveFilters ? [[''], ['🔍 Filtered Results', dataToExport.length]] : []),\r\n        [''],\r\n        ['Registration Details']\r\n      ];\r\n\r\n      const headers = [];\r\n      if (visibleColumns.id) headers.push('ID');\r\n      if (visibleColumns.name) headers.push('First Name', 'Last Name');\r\n      if (visibleColumns.email) headers.push('Email');\r\n      if (visibleColumns.phone) headers.push('Phone');\r\n      if (visibleColumns.address) headers.push('Address');\r\n      if (visibleColumns.company) headers.push('Company');\r\n      if (visibleColumns.designation) headers.push('Designation');\r\n      if (visibleColumns.type) headers.push('Registration Type');\r\n      if (visibleColumns.payment) headers.push('Payment Status');\r\n      if (visibleColumns.badge) headers.push('Badge Status');\r\n      if (visibleColumns.age_range) headers.push('Age Range');\r\n      if (visibleColumns.gender) headers.push('Gender');\r\n      if (visibleColumns.industry) headers.push('Industry Sector');\r\n      if (visibleColumns.date) headers.push('Registration Date');\r\n\r\n      const dataRows = dataToExport.map(reg => {\r\n        const row = [];\r\n        if (visibleColumns.id) row.push(reg.id);\r\n        if (visibleColumns.name) row.push(`\"${reg.first_name || ''}\"`, `\"${reg.last_name || ''}\"`);\r\n        if (visibleColumns.email) row.push(`\"${reg.email || 'N/A'}\"`);\r\n        if (visibleColumns.phone) row.push(`\"${reg.phone || 'N/A'}\"`);\r\n        if (visibleColumns.address) row.push(`\"${(reg.address || 'N/A').replace(/\"/g, '\"\"')}\"`);\r\n        if (visibleColumns.company) row.push(`\"${(reg.company_name || 'N/A').replace(/\"/g, '\"\"')}\"`);\r\n        if (visibleColumns.designation) row.push(`\"${(reg.designation || 'N/A').replace(/\"/g, '\"\"')}\"`);\r\n        if (visibleColumns.type) row.push(formatRegistrationType(reg.registration_type));\r\n        if (visibleColumns.payment) row.push(reg.payment_status?.toUpperCase() || 'UNPAID');\r\n        if (visibleColumns.badge) row.push(`\"${reg.badge_status?.name || 'not_printed'}\"`);\r\n        if (visibleColumns.age_range) row.push(`\"${reg.age_range || 'N/A'}\"`);\r\n        if (visibleColumns.gender) row.push(`\"${reg.gender || 'N/A'}\"`);\r\n        if (visibleColumns.industry) row.push(`\"${(reg.industry_sector || 'N/A').replace(/\"/g, '\"\"')}\"`);\r\n        if (visibleColumns.date) row.push(new Date(reg.created_at).toLocaleString());\r\n        return row;\r\n      });\r\n\r\n      const csvRows = [\r\n        ...summaryRows.map(row => row.join(',')),\r\n        headers.join(','),\r\n        ...dataRows.map(row => row.join(','))\r\n      ];\r\n\r\n      const csvContent = csvRows.join('\\n');\r\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n      const link = document.createElement('a');\r\n      const url = URL.createObjectURL(blob);\r\n      \r\n      link.setAttribute('href', url);\r\n      const filename = `ICEGEX_2025_Report_${new Date().toISOString().split('T')[0]}.csv`;\r\n      link.setAttribute('download', filename);\r\n      link.style.visibility = 'hidden';\r\n      \r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      \r\n      console.log('✅ CSV exported successfully');\r\n      alert(`✅ CSV exported successfully!\\nRecords: ${dataToExport.length}\\nFile: ${filename}`);\r\n    } catch (err) {\r\n      console.error('❌ CSV export error:', err);\r\n      alert('Failed to export CSV: ' + err.message);\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  const getTypeBadgeColor = (type) => {\r\n    switch (type) {\r\n      case 'onsite': return 'primary';\r\n      case 'online': return 'info';\r\n      case 'pre-registered': return 'secondary';\r\n      case 'complimentary': return 'success';\r\n      default: return 'light';\r\n    }\r\n  };\r\n\r\n  const getPaymentBadgeColor = (status) => {\r\n    switch (status) {\r\n      case 'paid': return 'success';\r\n      case 'unpaid': return 'danger';\r\n      case 'complimentary': return 'info';\r\n      default: return 'secondary';\r\n    }\r\n  };\r\n\r\n  const getSortIcon = (field) => {\r\n    if (sortField !== field) return '↕️';\r\n    return sortOrder === 'asc' ? '↑' : '↓';\r\n  };\r\n\r\n  // Get unique values for filters\r\n  const uniqueAgeRanges = [...new Set(allRegistrations.map(r => r.age_range).filter(Boolean))];\r\n  const uniqueGenders = [...new Set(allRegistrations.map(r => r.gender).filter(Boolean))];\r\n  const uniqueIndustries = [...new Set(allRegistrations.map(r => r.industry_sector).filter(Boolean))];\r\n\r\n  return (\r\n    <Container fluid className=\"mt-4 px-4\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n        <h2>📊 ICEGEX 2025 - Reports & Analytics</h2>\r\n        <Button variant=\"outline-primary\" size=\"sm\" onClick={handleRefresh} disabled={loading}>\r\n          {loading ? (\r\n            <>\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"me-1\" />\r\n              Loading...\r\n            </>\r\n          ) : (\r\n            <>🔄 Refresh Data</>\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n          ❌ {error}\r\n          <button type=\"button\" className=\"btn-close\" onClick={() => setError(null)}></button>\r\n        </div>\r\n      )}\r\n\r\n      {/* TABS FOR DIFFERENT VIEWS */}\r\n      <Tabs activeKey={activeTab} onSelect={(k) => setActiveTab(k)} className=\"mb-3\">\r\n        \r\n        {/* OVERVIEW TAB */}\r\n        <Tab eventKey=\"overview\" title=\"📊 Overview\">\r\n          \r\n          {/* SUMMARY STATISTICS */}\r\n          <Card className=\"mb-4 shadow-sm\">\r\n            <Card.Header className=\"bg-primary text-white\">\r\n              <h5 className=\"mb-0\">📈 Summary Statistics</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Row className=\"text-center g-3\">\r\n                {/* Badge Status */}\r\n                <Col md={12}>\r\n                  <h6 className=\"text-muted mb-3\">Badge Status</h6>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-secondary mb-1\">{counts.badge_status.not_printed}</h3>\r\n                    <small className=\"text-muted\">📄 Not Printed</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-success mb-1\">{counts.badge_status.printed}</h3>\r\n                    <small className=\"text-muted\">✅ Printed</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-warning mb-1\">{counts.badge_status.reprinted}</h3>\r\n                    <small className=\"text-muted\">🔄 Re-Printed</small>\r\n                  </div>\r\n                </Col>\r\n\r\n                {/* Payment Status */}\r\n                <Col md={12} className=\"mt-4\">\r\n                  <h6 className=\"text-muted mb-3\">Payment Status</h6>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-success mb-1\">{counts.payment_status.paid}</h3>\r\n                    <small className=\"text-muted\">💰 Paid</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-danger mb-1\">{counts.payment_status.unpaid}</h3>\r\n                    <small className=\"text-muted\">❌ Unpaid</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-info mb-1\">{counts.payment_status.complimentary}</h3>\r\n                    <small className=\"text-muted\">🎁 Complimentary</small>\r\n                  </div>\r\n                </Col>\r\n\r\n                {/* Registration Type */}\r\n                <Col md={12} className=\"mt-4\">\r\n                  <h6 className=\"text-muted mb-3\">Registration Type</h6>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-primary mb-1\">{counts.registration_type.onsite}</h3>\r\n                    <small className=\"text-muted\">🏢 Onsite</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-info mb-1\">{counts.registration_type.online}</h3>\r\n                    <small className=\"text-muted\">💻 Online</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-secondary mb-1\">{counts.registration_type.pre_registered}</h3>\r\n                    <small className=\"text-muted\">📋 Pre-Registered</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <div className=\"p-3 border rounded bg-light\">\r\n                    <h3 className=\"text-success mb-1\">{counts.registration_type.complimentary}</h3>\r\n                    <small className=\"text-muted\">🎁 Complimentary</small>\r\n                  </div>\r\n                </Col>\r\n\r\n                {/* Overall Totals */}\r\n                <Col md={12} className=\"mt-4\">\r\n                  <h6 className=\"text-muted mb-3\">Overall</h6>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-primary text-white\">\r\n                    <h3 className=\"mb-1\">{counts.total}</h3>\r\n                    <small>👥 Total Registrations</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-success text-white\">\r\n                    <h3 className=\"mb-1\">{counts.confirmed}</h3>\r\n                    <small>✅ Confirmed</small>\r\n                  </div>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <div className=\"p-3 border rounded bg-warning text-dark\">\r\n                    <h3 className=\"mb-1\">{counts.unconfirmed}</h3>\r\n                    <small>⏳ Unconfirmed</small>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          {/* DEMOGRAPHICS BREAKDOWN */}\r\n          {counts.demographics.total_with_demographics > 0 && (\r\n            <Card className=\"mb-4 shadow-sm\">\r\n              <Card.Header className=\"bg-info text-white\">\r\n                <h5 className=\"mb-0\">👥 Demographics Breakdown</h5>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <h6 className=\"mb-3\">Age Distribution</h6>\r\n                    <div className=\"list-group\">\r\n                      {Object.entries(counts.demographics.age_ranges || {}).map(([range, count]) => (\r\n                        <div key={range} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          <span>{range}</span>\r\n                          <Badge bg=\"primary\">{count}</Badge>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <h6 className=\"mb-3\">Gender Distribution</h6>\r\n                    <div className=\"list-group\">\r\n                      {Object.entries(counts.demographics.gender || {}).map(([gender, count]) => (\r\n                        <div key={gender} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          <span>{gender}</span>\r\n                          <Badge bg=\"secondary\">{count}</Badge>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n                <div className=\"mt-3 text-center\">\r\n                  <small className=\"text-muted\">\r\n                    {counts.demographics.total_with_demographics} registrants provided demographic information\r\n                  </small>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </Tab>\r\n\r\n        {/* ✅ NEW: EVENT SURVEY TAB */}\r\n        <Tab eventKey=\"survey\" title=\"📝 Event Survey - ICEGEX 2025\">\r\n          {counts.survey.total_with_survey > 0 ? (\r\n            <>\r\n              {/* Survey Response Rate */}\r\n              <Card className=\"mb-4 shadow-sm\">\r\n                <Card.Header className=\"bg-success text-white\">\r\n                  <h5 className=\"mb-0\">📊 Survey Response Overview</h5>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <Row className=\"text-center\">\r\n                    <Col md={4}>\r\n                      <div className=\"p-3 border rounded\">\r\n                        <h2 className=\"text-success mb-1\">{counts.survey.total_with_survey}</h2>\r\n                        <small className=\"text-muted\">Survey Responses</small>\r\n                      </div>\r\n                    </Col>\r\n                    <Col md={4}>\r\n                      <div className=\"p-3 border rounded\">\r\n                        <h2 className=\"text-primary mb-1\">{counts.total}</h2>\r\n                        <small className=\"text-muted\">Total Registrations</small>\r\n                      </div>\r\n                    </Col>\r\n                    <Col md={4}>\r\n                      <div className=\"p-3 border rounded\">\r\n                        <h2 className=\"text-info mb-1\">\r\n                          {Math.round((counts.survey.total_with_survey / counts.total) * 100)}%\r\n                        </h2>\r\n                        <small className=\"text-muted\">Response Rate</small>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n\r\n              {/* Industry Sector Analysis */}\r\n              <Card className=\"mb-4 shadow-sm\">\r\n                <Card.Header className=\"bg-primary text-white\">\r\n                  <h5 className=\"mb-0\">🏭 Industry Sector Distribution</h5>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <p className=\"text-muted mb-3\">\r\n                    <small>Understanding which industries our attendees represent</small>\r\n                  </p>\r\n                  {Object.entries(counts.survey.industry_sector || {})\r\n                    .sort((a, b) => b[1] - a[1])\r\n                    .map(([industry, count]) => \r\n                      renderSurveyDataBar(industry, count, counts.survey.total_with_survey, 'primary')\r\n                    )}\r\n                  {Object.keys(counts.survey.industry_sector || {}).length === 0 && (\r\n                    <p className=\"text-center text-muted\">No industry data available</p>\r\n                  )}\r\n                </Card.Body>\r\n              </Card>\r\n\r\n              {/* Reason for Attending */}\r\n              <Card className=\"mb-4 shadow-sm\">\r\n                <Card.Header className=\"bg-info text-white\">\r\n                  <h5 className=\"mb-0\">🎯 Reasons for Attending</h5>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <p className=\"text-muted mb-3\">\r\n                    <small>What motivates attendees to join ICEGEX 2025</small>\r\n                  </p>\r\n                  {Object.entries(counts.survey.reason_for_attending || {})\r\n                    .sort((a, b) => b[1] - a[1])\r\n                    .map(([reason, count]) => \r\n                      renderSurveyDataBar(reason, count, counts.survey.total_with_survey, 'info')\r\n                    )}\r\n                  {Object.keys(counts.survey.reason_for_attending || {}).length === 0 && (\r\n                    <p className=\"text-center text-muted\">No reason data available</p>\r\n                  )}\r\n                </Card.Body>\r\n              </Card>\r\n\r\n              {/* Areas of Interest */}\r\n              <Card className=\"mb-4 shadow-sm\">\r\n                <Card.Header className=\"bg-warning text-dark\">\r\n                  <h5 className=\"mb-0\">💡 Specific Areas of Interest</h5>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <p className=\"text-muted mb-3\">\r\n                    <small>What topics and areas attendees are most interested in</small>\r\n                  </p>\r\n                  {Object.entries(counts.survey.areas_of_interest || {})\r\n                    .sort((a, b) => b[1] - a[1])\r\n                    .map(([interest, count]) => \r\n                      renderSurveyDataBar(interest, count, counts.survey.total_with_survey, 'warning')\r\n                    )}\r\n                  {Object.keys(counts.survey.areas_of_interest || {}).length === 0 && (\r\n                    <p className=\"text-center text-muted\">No interest data available</p>\r\n                  )}\r\n                </Card.Body>\r\n              </Card>\r\n\r\n              {/* Marketing Channel Effectiveness */}\r\n              <Card className=\"mb-4 shadow-sm\">\r\n                <Card.Header className=\"bg-danger text-white\">\r\n                  <h5 className=\"mb-0\">📢 Marketing Channel Effectiveness</h5>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <p className=\"text-muted mb-3\">\r\n                    <small>How attendees discovered ICEGEX 2025</small>\r\n                  </p>\r\n                  {Object.entries(counts.survey.how_did_you_learn || {})\r\n                    .sort((a, b) => b[1] - a[1])\r\n                    .map(([channel, count]) => \r\n                      renderSurveyDataBar(channel, count, counts.survey.total_with_survey, 'danger')\r\n                    )}\r\n                  {Object.keys(counts.survey.how_did_you_learn || {}).length === 0 && (\r\n                    <p className=\"text-center text-muted\">No marketing channel data available</p>\r\n                  )}\r\n                </Card.Body>\r\n              </Card>\r\n\r\n              {/* Survey Insights Summary */}\r\n              <Card className=\"shadow-sm\">\r\n                <Card.Header className=\"bg-dark text-white\">\r\n                  <h5 className=\"mb-0\">📊 Key Insights</h5>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <Row>\r\n                    <Col md={6}>\r\n                      <h6 className=\"mb-3\">Top Industry</h6>\r\n                      {Object.entries(counts.survey.industry_sector || {}).length > 0 ? (\r\n                        <div className=\"alert alert-primary\">\r\n                          <strong>\r\n                            {Object.entries(counts.survey.industry_sector)\r\n                              .sort((a, b) => b[1] - a[1])[0][0]}\r\n                          </strong>\r\n                          <br />\r\n                          <small>\r\n                            {Object.entries(counts.survey.industry_sector)\r\n                              .sort((a, b) => b[1] - a[1])[0][1]} responses\r\n                          </small>\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-muted\">No data</p>\r\n                      )}\r\n                    </Col>\r\n                    <Col md={6}>\r\n                      <h6 className=\"mb-3\">Most Effective Channel</h6>\r\n                      {Object.entries(counts.survey.how_did_you_learn || {}).length > 0 ? (\r\n                        <div className=\"alert alert-danger\">\r\n                          <strong>\r\n                            {Object.entries(counts.survey.how_did_you_learn)\r\n                              .sort((a, b) => b[1] - a[1])[0][0]}\r\n                          </strong>\r\n                          <br />\r\n                          <small>\r\n                            {Object.entries(counts.survey.how_did_you_learn)\r\n                              .sort((a, b) => b[1] - a[1])[0][1]} responses\r\n                          </small>\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-muted\">No data</p>\r\n                      )}\r\n                    </Col>\r\n                    <Col md={6}>\r\n                      <h6 className=\"mb-3\">Top Reason for Attending</h6>\r\n                      {Object.entries(counts.survey.reason_for_attending || {}).length > 0 ? (\r\n                        <div className=\"alert alert-info\">\r\n                          <strong>\r\n                            {Object.entries(counts.survey.reason_for_attending)\r\n                              .sort((a, b) => b[1] - a[1])[0][0].substring(0, 50)}...\r\n                          </strong>\r\n                          <br />\r\n                          <small>\r\n                            {Object.entries(counts.survey.reason_for_attending)\r\n                              .sort((a, b) => b[1] - a[1])[0][1]} responses\r\n                          </small>\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-muted\">No data</p>\r\n                      )}\r\n                    </Col>\r\n                    <Col md={6}>\r\n                      <h6 className=\"mb-3\">Top Area of Interest</h6>\r\n                      {Object.entries(counts.survey.areas_of_interest || {}).length > 0 ? (\r\n                        <div className=\"alert alert-warning\">\r\n                          <strong>\r\n                            {Object.entries(counts.survey.areas_of_interest)\r\n                              .sort((a, b) => b[1] - a[1])[0][0]}\r\n                          </strong>\r\n                          <br />\r\n                          <small>\r\n                            {Object.entries(counts.survey.areas_of_interest)\r\n                              .sort((a, b) => b[1] - a[1])[0][1]} responses\r\n                          </small>\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-muted\">No data</p>\r\n                      )}\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n            </>\r\n          ) : (\r\n            <Card>\r\n              <Card.Body className=\"text-center py-5\">\r\n                <h3 className=\"text-muted mb-3\">📝 No Survey Data Available</h3>\r\n                <p className=\"text-muted\">\r\n                  No attendees have completed the optional survey questions yet.\r\n                  <br />\r\n                  Survey responses will appear here as registrations are submitted.\r\n                </p>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </Tab>\r\n\r\n        {/* DETAILED RECORDS TAB */}\r\n        <Tab eventKey=\"records\" title=\"📋 Detailed Records\">\r\n          <Card className=\"mb-3 shadow-sm\">\r\n            <Card.Header className=\"bg-success text-white\">\r\n              <h5 className=\"mb-0\">📋 Registration List</h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {/* FILTERS */}\r\n              <Row className=\"mb-3 g-2\">\r\n                <Col md={3}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">🔍 Search</Form.Label>\r\n                    <InputGroup size=\"sm\">\r\n                      <InputGroup.Text>🔍</InputGroup.Text>\r\n                      <Form.Control \r\n                        type=\"text\" \r\n                        placeholder=\"Name, email, company...\" \r\n                        value={search} \r\n                        onChange={handleSearchChange}\r\n                        disabled={loading}\r\n                      />\r\n                      {search && (\r\n                        <Button \r\n                          variant=\"outline-secondary\" \r\n                          onClick={handleClearSearch}\r\n                          size=\"sm\"\r\n                        >\r\n                          ✕\r\n                        </Button>\r\n                      )}\r\n                    </InputGroup>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={2}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">📅 From</Form.Label>\r\n                    <Form.Control \r\n                      type=\"date\" \r\n                      size=\"sm\"\r\n                      value={dateFrom} \r\n                      onChange={(e) => setDateFrom(e.target.value)}\r\n                      disabled={loading}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={2}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">📅 To</Form.Label>\r\n                    <Form.Control \r\n                      type=\"date\" \r\n                      size=\"sm\"\r\n                      value={dateTo} \r\n                      onChange={(e) => setDateTo(e.target.value)}\r\n                      disabled={loading}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={2}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">💰 Payment</Form.Label>\r\n                    <Form.Select \r\n                      size=\"sm\"\r\n                      value={paymentFilter} \r\n                      onChange={(e) => setPaymentFilter(e.target.value)}\r\n                      disabled={loading}\r\n                    >\r\n                      <option value=\"all\">All</option>\r\n                      <option value=\"paid\">Paid</option>\r\n                      <option value=\"unpaid\">Unpaid</option>\r\n                      <option value=\"complimentary\">Complimentary</option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={3}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">📋 Type</Form.Label>\r\n                    <Form.Select \r\n                      size=\"sm\"\r\n                      value={registrationTypeFilter} \r\n                      onChange={(e) => setRegistrationTypeFilter(e.target.value)}\r\n                      disabled={loading}\r\n                    >\r\n                      <option value=\"all\">All Types</option>\r\n                      <option value=\"onsite\">Onsite</option>\r\n                      <option value=\"online\">Online</option>\r\n                      <option value=\"pre-registered\">Pre-Registered</option>\r\n                      <option value=\"complimentary\">Complimentary</option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                {/* Additional Filters Row */}\r\n                <Col md={3}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">👤 Age Range</Form.Label>\r\n                    <Form.Select \r\n                      size=\"sm\"\r\n                      value={ageRangeFilter} \r\n                      onChange={(e) => setAgeRangeFilter(e.target.value)}\r\n                      disabled={loading}\r\n                    >\r\n                      <option value=\"all\">All Ages</option>\r\n                      {uniqueAgeRanges.map(range => (\r\n                        <option key={range} value={range}>{range}</option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={2}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">⚧ Gender</Form.Label>\r\n                    <Form.Select \r\n                      size=\"sm\"\r\n                      value={genderFilter} \r\n                      onChange={(e) => setGenderFilter(e.target.value)}\r\n                      disabled={loading}\r\n                    >\r\n                      <option value=\"all\">All</option>\r\n                      {uniqueGenders.map(gender => (\r\n                        <option key={gender} value={gender}>{gender}</option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label className=\"small fw-bold\">🏭 Industry</Form.Label>\r\n                    <Form.Select \r\n                      size=\"sm\"\r\n                      value={industryFilter} \r\n                      onChange={(e) => setIndustryFilter(e.target.value)}\r\n                      disabled={loading}\r\n                    >\r\n                      <option value=\"all\">All Industries</option>\r\n                      {uniqueIndustries.slice(0, 10).map(industry => (\r\n                        <option key={industry} value={industry}>\r\n                          {industry.substring(0, 50)}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={3} className=\"d-flex align-items-end\">\r\n                  <Button \r\n                    variant=\"outline-danger\" \r\n                    size=\"sm\" \r\n                    onClick={handleClearFilters}\r\n                    disabled={!hasActiveFilters || loading}\r\n                    className=\"w-100\"\r\n                  >\r\n                    🗑️ Clear Filters\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* COLUMN VISIBILITY */}\r\n              <Row className=\"mb-3\">\r\n                <Col>\r\n                  <div className=\"border rounded p-2 bg-light\">\r\n                    <small className=\"fw-bold d-block mb-2\">👁️ Show/Hide Columns:</small>\r\n                    <div className=\"d-flex flex-wrap gap-2\">\r\n                      {Object.entries({\r\n                        id: 'ID',\r\n                        name: 'Name',\r\n                        email: 'Email',\r\n                        phone: 'Phone',\r\n                        address: 'Address',\r\n                        company: 'Company',\r\n                        designation: 'Designation',\r\n                        type: 'Type',\r\n                        payment: 'Payment',\r\n                        badge: 'Badge',\r\n                        age_range: 'Age',\r\n                        gender: 'Gender',\r\n                        industry: 'Industry',\r\n                        date: 'Date'\r\n                      }).map(([key, label]) => (\r\n                        <Form.Check\r\n                          key={key}\r\n                          type=\"checkbox\"\r\n                          id={`col-${key}`}\r\n                          label={label}\r\n                          checked={visibleColumns[key]}\r\n                          onChange={() => handleColumnToggle(key)}\r\n                          inline\r\n                          className=\"small\"\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* ACTIVE FILTERS */}\r\n              {hasActiveFilters && (\r\n                <div className=\"alert alert-info py-2 px-3 mb-3\">\r\n                  <small>\r\n                    <strong>🔍 Active Filters:</strong>{' '}\r\n                    {search && <Badge bg=\"primary\" className=\"me-1\">Search: {search.substring(0, 20)}</Badge>}\r\n                    {dateFrom && <Badge bg=\"secondary\" className=\"me-1\">From: {dateFrom}</Badge>}\r\n                    {dateTo && <Badge bg=\"secondary\" className=\"me-1\">To: {dateTo}</Badge>}\r\n                    {paymentFilter !== 'all' && <Badge bg=\"success\" className=\"me-1\">Payment: {paymentFilter}</Badge>}\r\n                    {registrationTypeFilter !== 'all' && <Badge bg=\"info\" className=\"me-1\">Type: {registrationTypeFilter}</Badge>}\r\n                    {ageRangeFilter !== 'all' && <Badge bg=\"warning\" className=\"me-1\">Age: {ageRangeFilter}</Badge>}\r\n                    {genderFilter !== 'all' && <Badge bg=\"secondary\" className=\"me-1\">Gender: {genderFilter}</Badge>}\r\n                    {industryFilter !== 'all' && <Badge bg=\"primary\" className=\"me-1\">Industry</Badge>}\r\n                    <br />\r\n                    <strong>Showing {filteredRegistrations.length} of {allRegistrations.length} records</strong>\r\n                  </small>\r\n                </div>\r\n              )}\r\n\r\n              {/* TABLE */}\r\n              {loading ? (\r\n                <div className=\"text-center p-5\">\r\n                  <Spinner animation=\"border\" variant=\"primary\" />\r\n                  <p className=\"mt-2\">Loading registrations...</p>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"table-responsive\">\r\n                    <Table striped bordered hover size=\"sm\">\r\n                      <thead className=\"table-dark\">\r\n                        <tr>\r\n                          {visibleColumns.id && (\r\n                            <th onClick={() => handleSort('id')} style={{cursor: 'pointer'}} className=\"user-select-none\">\r\n                              ID {getSortIcon('id')}\r\n                            </th>\r\n                          )}\r\n                          {visibleColumns.name && (\r\n                            <th onClick={() => handleSort('name')} style={{cursor: 'pointer'}} className=\"user-select-none\">\r\n                              Name {getSortIcon('name')}\r\n                            </th>\r\n                          )}\r\n                          {visibleColumns.email && (\r\n                            <th onClick={() => handleSort('email')} style={{cursor: 'pointer'}} className=\"user-select-none\">\r\n                              Email {getSortIcon('email')}\r\n                            </th>\r\n                          )}\r\n                          {visibleColumns.phone && <th>Phone</th>}\r\n                          {visibleColumns.address && <th>Address</th>}\r\n                          {visibleColumns.company && (\r\n                            <th onClick={() => handleSort('company')} style={{cursor: 'pointer'}} className=\"user-select-none\">\r\n                              Company {getSortIcon('company')}\r\n                            </th>\r\n                          )}\r\n                          {visibleColumns.designation && <th>Designation</th>}\r\n                          {visibleColumns.type && <th>Type</th>}\r\n                          {visibleColumns.payment && (\r\n                            <th onClick={() => handleSort('payment')} style={{cursor: 'pointer'}} className=\"user-select-none\">\r\n                              Payment {getSortIcon('payment')}\r\n                            </th>\r\n                          )}\r\n                          {visibleColumns.badge && <th>Badge</th>}\r\n                          {visibleColumns.age_range && <th>Age</th>}\r\n                          {visibleColumns.gender && <th>Gender</th>}\r\n                          {visibleColumns.industry && <th>Industry</th>}\r\n                          {visibleColumns.date && (\r\n                            <th onClick={() => handleSort('date')} style={{cursor: 'pointer'}} className=\"user-select-none\">\r\n                              Date {getSortIcon('date')}\r\n                            </th>\r\n                          )}\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {currentRecords.length > 0 ? (\r\n                          currentRecords.map((reg) => (\r\n                            <tr key={reg.id}>\r\n                              {visibleColumns.id && <td>{reg.id}</td>}\r\n                              {visibleColumns.name && <td>{reg.first_name} {reg.last_name}</td>}\r\n                              {visibleColumns.email && <td><small>{reg.email || 'N/A'}</small></td>}\r\n                              {visibleColumns.phone && <td><small>{reg.phone || 'N/A'}</small></td>}\r\n                              {visibleColumns.address && <td><small>{reg.address || 'N/A'}</small></td>}\r\n                              {visibleColumns.company && <td><small>{reg.company_name || 'N/A'}</small></td>}\r\n                              {visibleColumns.designation && <td><small>{reg.designation || 'N/A'}</small></td>}\r\n                              {visibleColumns.type && (\r\n                                <td>\r\n                                  <Badge bg={getTypeBadgeColor(reg.registration_type)}>\r\n                                    {formatRegistrationType(reg.registration_type)}\r\n                                  </Badge>\r\n                                </td>\r\n                              )}\r\n                              {visibleColumns.payment && (\r\n                                <td>\r\n                                  <Badge bg={getPaymentBadgeColor(reg.payment_status)}>\r\n                                    {(reg.payment_status || 'unpaid').toUpperCase()}\r\n                                  </Badge>\r\n                                </td>\r\n                              )}\r\n                              {visibleColumns.badge && <td><small>{reg.badge_status?.name || 'N/A'}</small></td>}\r\n                              {visibleColumns.age_range && <td><small>{reg.age_range || 'N/A'}</small></td>}\r\n                              {visibleColumns.gender && <td><small>{reg.gender || 'N/A'}</small></td>}\r\n                              {visibleColumns.industry && (\r\n                                <td><small>{(reg.industry_sector || 'N/A').substring(0, 30)}</small></td>\r\n                              )}\r\n                              {visibleColumns.date && (\r\n                                <td><small>{new Date(reg.created_at).toLocaleDateString()}</small></td>\r\n                              )}\r\n                            </tr>\r\n                          ))\r\n                        ) : (\r\n                          <tr>\r\n                            <td colSpan=\"20\" className=\"text-center text-muted py-4\">\r\n                              {hasActiveFilters ? (\r\n                                <>\r\n                                  🔍 No registrations found matching your filters\r\n                                  <br />\r\n                                  <Button \r\n                                    variant=\"link\" \r\n                                    size=\"sm\" \r\n                                    onClick={handleClearFilters}\r\n                                    className=\"mt-2\"\r\n                                  >\r\n                                    Clear all filters\r\n                                  </Button>\r\n                                </>\r\n                              ) : (\r\n                                '📭 No registrations yet'\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </tbody>\r\n                    </Table>\r\n                  </div>\r\n\r\n                  {/* PAGINATION */}\r\n                  {totalPages > 1 && (\r\n                    <div className=\"d-flex justify-content-between align-items-center mt-3 flex-wrap gap-3\">\r\n                      <div className=\"text-muted small\">\r\n                        Showing <strong>{indexOfFirstRecord + 1}</strong> to{' '}\r\n                        <strong>{Math.min(indexOfLastRecord, filteredRegistrations.length)}</strong> of{' '}\r\n                        <strong>{filteredRegistrations.length}</strong> records\r\n                      </div>\r\n                      \r\n                      <div className=\"d-flex justify-content-center flex-grow-1\">\r\n                        {renderPagination()}\r\n                      </div>\r\n\r\n                      <div className=\"text-muted small\">\r\n                        Page <strong>{currentPage}</strong> of <strong>{totalPages}</strong>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n      </Tabs>\r\n\r\n      {/* EXPORT SECTION */}\r\n      <Card className=\"shadow-sm\">\r\n        <Card.Header className=\"bg-dark text-white\">\r\n          <h5 className=\"mb-0\">📥 Export Options</h5>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          {hasActiveFilters && (\r\n            <div className=\"alert alert-warning py-2 px-3 mb-3\">\r\n              <small>\r\n                <strong>⚠️ Export Notice:</strong> Active filters detected. \r\n                Export will include <strong>{filteredRegistrations.length}</strong> filtered record(s) only.\r\n              </small>\r\n            </div>\r\n          )}\r\n          \r\n          <Row>\r\n            <Col md={6}>\r\n              <Button \r\n                variant=\"danger\" \r\n                onClick={exportToPDF} \r\n                disabled={exporting || filteredRegistrations.length === 0}\r\n                size=\"lg\"\r\n                className=\"w-100\"\r\n              >\r\n                {exporting ? (\r\n                  <>\r\n                    <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                    Generating PDF...\r\n                  </>\r\n                ) : (\r\n                  `📄 Export to PDF (${filteredRegistrations.length} records)`\r\n                )}\r\n              </Button>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Button \r\n                variant=\"success\"\r\n                onClick={exportToCSV}\r\n                disabled={exporting || filteredRegistrations.length === 0}\r\n                size=\"lg\"\r\n                className=\"w-100\"\r\n              >\r\n                {exporting ? (\r\n                  <>\r\n                    <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                    Generating CSV...\r\n                  </>\r\n                ) : (\r\n                  `📊 Export to CSV (${filteredRegistrations.length} records)`\r\n                )}\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          \r\n          {filteredRegistrations.length === 0 && (\r\n            <small className=\"text-muted d-block mt-2 text-center\">\r\n              {hasActiveFilters ? 'No matching records to export' : 'No data available'}\r\n            </small>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Reports;","import { BrowserRouter as Router, Routes, Route, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Navbar, Nav, Container, Button, Dropdown } from 'react-bootstrap';\r\nimport { useState, useEffect } from 'react'; // ⬅️ ADD THIS LINE\r\nimport { AuthProvider, useAuth } from \"./context/AuthContext\";\r\nimport api from './api/axios'; // ⬅️ ADD THIS LINE TOO\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\n\r\n\r\n// Import all pages\r\nimport Home from \"./pages/Home\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport AdminPage from \"./pages/AdminPage\";\r\nimport SuperadminPage from \"./pages/SuperadminPage\";\r\nimport Unauthorized from \"./pages/Unauthorized\";\r\nimport DashboardPage from \"./pages/DashboardPage\";\r\nimport Registrations from \"./pages/Registrations\";\r\nimport RegistrationForm from \"./pages/RegistrationForm\";\r\nimport ServerModeManager from \"./pages/ServerModeManager\"; \r\nimport UserManagementPage from \"./pages/UserManagementPage\";\r\nimport SettingsPage from \"./pages/SettingsPage\";\r\nimport OnsiteRegistrationPage from './pages/OnsiteRegistrationPage';\r\nimport OnlineRegistrationPage from './pages/OnlineRegistrationPage';\r\nimport RoleManagementPage from './pages/RoleManagementPage';\r\nimport DashboardLayout from \"./pages/DashboardLayout\";\r\nimport ScannerPage from './pages/ScannerPage';\r\nimport BadgePrintPage from './pages/BadgePrintPage';\r\nimport Reports from './pages/Reports';  \r\n\r\n/// 🔹 Ultra-Modern NavBar Component - THIS IS THE ONE TO MODIFY\r\nfunction NavBar() {\r\n  const { user, logout } = useAuth();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  \r\n  // ADD THESE NEW LINES\r\n  const [logoPath, setLogoPath] = useState('');\r\n  const backendUrl = api.defaults.baseURL.replace('/api', '');\r\n\r\n  // ADD THIS useEffect\r\n  useEffect(() => {\r\n    fetchLogo();\r\n  }, []);\r\n\r\n  // ADD THIS FUNCTION\r\n  const fetchLogo = async () => {\r\n    try {\r\n      const res = await api.get('/settings');\r\n      if (res.data?.registration_logo_path) {\r\n        setLogoPath(res.data.registration_logo_path);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch logo:', err);\r\n    }\r\n  };\r\n\r\n  // ADD THIS HELPER FUNCTION\r\n  const getImageUrl = (path) => {\r\n    if (!path) return '';\r\n    if (/^https?:\\/\\//i.test(path)) return path;\r\n    const normalized = String(path)\r\n      .replace(/\\\\/g, '/')\r\n      .replace(/^\\/?storage\\/?/i, '');\r\n    return `${backendUrl}/storage/${normalized}`;\r\n  };\r\n\r\n  // Hide NavBar on print-badge routes\r\n  if (location.pathname.startsWith('/print-badge')) {\r\n    return null;\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <Navbar \r\n      bg=\"white\" \r\n      expand=\"lg\" \r\n      className=\"navbar-modern shadow-smooth sticky-top\"\r\n      style={{\r\n        backdropFilter: 'blur(20px)',\r\n        backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n        borderBottom: '1px solid rgba(102, 126, 234, 0.1)',\r\n        padding: '1rem 0',\r\n        zIndex: 1050\r\n      }}\r\n    >\r\n      <Container>\r\n        <Navbar.Brand \r\n          onClick={() => navigate('/')} \r\n          className=\"navbar-brand-modern\"\r\n          style={{\r\n            cursor: 'pointer',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '0.75rem',\r\n            fontSize: '1.5rem',\r\n            fontWeight: '700',\r\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n            WebkitBackgroundClip: 'text',\r\n            WebkitTextFillColor: 'transparent',\r\n            backgroundClip: 'text',\r\n            transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n          }}\r\n        >\r\n          {/* REPLACE THE EXISTING SPAN WITH THIS CONDITIONAL RENDERING */}\r\n          {logoPath ? (\r\n            <img \r\n              src={getImageUrl(logoPath)}\r\n              alt=\"Registration Logo\"\r\n              style={{\r\n                height: '40px',\r\n                width: 'auto',\r\n                maxWidth: '60px',\r\n                objectFit: 'contain',\r\n                filter: 'drop-shadow(0 2px 4px rgba(102, 126, 234, 0.3))',\r\n                animation: 'float 3s ease-in-out infinite'\r\n              }}\r\n              onError={(e) => {\r\n                console.error('Logo failed to load');\r\n                setLogoPath(''); // Reset logo path on error\r\n              }}\r\n            />\r\n          ) : (\r\n            <span \r\n              style={{ \r\n                fontSize: '2rem',\r\n                filter: 'drop-shadow(0 2px 4px rgba(102, 126, 234, 0.3))',\r\n                animation: 'float 3s ease-in-out infinite'\r\n              }}\r\n            >\r\n              🎫\r\n            </span>\r\n          )}\r\n          \r\n          <span>Registration System</span>\r\n        </Navbar.Brand>\r\n        \r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        \r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"ms-auto align-items-center\">\r\n            {/* Home Link */}\r\n            <Nav.Link \r\n              onClick={() => navigate('/')}\r\n              className={`nav-link-modern ${location.pathname === '/' ? 'active' : ''}`}\r\n              style={{\r\n                padding: '0.6rem 1.2rem',\r\n                margin: '0 0.25rem',\r\n                borderRadius: '10px',\r\n                fontWeight: '600',\r\n                fontSize: '0.95rem',\r\n                color: location.pathname === '/' ? '#667eea' : '#2c3e50',\r\n                background: location.pathname === '/' ? 'rgba(102, 126, 234, 0.1)' : 'transparent',\r\n                transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                position: 'relative',\r\n                overflow: 'hidden'\r\n              }}\r\n            >\r\n              <span className=\"me-2\">🏠</span>\r\n              Home\r\n            </Nav.Link>\r\n\r\n            {user ? (\r\n              <>\r\n                {/* Dashboard Link */}\r\n                <Nav.Link \r\n                  onClick={() => navigate('/dashboard')}\r\n                  className={`nav-link-modern ${location.pathname.startsWith('/dashboard') ? 'active' : ''}`}\r\n                  style={{\r\n                    padding: '0.6rem 1.2rem',\r\n                    margin: '0 0.25rem',\r\n                    borderRadius: '10px',\r\n                    fontWeight: '600',\r\n                    fontSize: '0.95rem',\r\n                    color: location.pathname.startsWith('/dashboard') ? '#667eea' : '#2c3e50',\r\n                    background: location.pathname.startsWith('/dashboard') ? 'rgba(102, 126, 234, 0.1)' : 'transparent',\r\n                    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                    position: 'relative',\r\n                    overflow: 'hidden'\r\n                  }}\r\n                >\r\n                  <span className=\"me-2\">📊</span>\r\n                  Dashboard\r\n                </Nav.Link>\r\n\r\n                {/* User Dropdown */}\r\n                <Dropdown align=\"end\" className=\"ms-3 dropdown-modern\">\r\n                  <Dropdown.Toggle \r\n                    as={Button}\r\n                    variant=\"outline-primary\" \r\n                    id=\"user-dropdown\"\r\n                    className=\"dropdown-toggle-modern\"\r\n                    bsPrefix=\"custom-dropdown-toggle\"\r\n                    style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '0.75rem',\r\n                      padding: '0.65rem 1.25rem',\r\n                      borderRadius: '12px',\r\n                      border: '2px solid transparent',\r\n                      background: 'linear-gradient(white, white) padding-box, linear-gradient(135deg, #667eea, #764ba2) border-box',\r\n                      color: '#667eea',\r\n                      fontWeight: '600',\r\n                      fontSize: '0.95rem',\r\n                      transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                      boxShadow: '0 4px 12px rgba(102, 126, 234, 0.15)',\r\n                      position: 'relative',\r\n                      overflow: 'hidden'\r\n                    }}\r\n                  >\r\n                    {/* Animated background on hover */}\r\n                    <span \r\n                      className=\"dropdown-bg-effect\"\r\n                      style={{\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                        opacity: 0,\r\n                        transition: 'opacity 0.4s ease',\r\n                        zIndex: -1\r\n                      }}\r\n                    />\r\n                    \r\n                    <span \r\n                      style={{ \r\n                        fontSize: '1.25rem',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        width: '32px',\r\n                        height: '32px',\r\n                        borderRadius: '50%',\r\n                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                        color: 'white',\r\n                        boxShadow: '0 2px 8px rgba(102, 126, 234, 0.3)'\r\n                      }}\r\n                    >\r\n                      👤\r\n                    </span>\r\n                    <span className=\"d-none d-md-inline\">{user.name}</span>\r\n                    \r\n                    {/* Custom animated arrow */}\r\n                    <svg \r\n                      width=\"14\" \r\n                      height=\"14\" \r\n                      viewBox=\"0 0 14 14\" \r\n                      fill=\"currentColor\"\r\n                      className=\"dropdown-arrow\"\r\n                      style={{ \r\n                        transition: 'transform 0.3s ease',\r\n                        marginLeft: '4px'\r\n                      }}\r\n                    >\r\n                      <path d=\"M3 5l4 4 4-4H3z\"/>\r\n                    </svg>\r\n                  </Dropdown.Toggle>\r\n\r\n                  <Dropdown.Menu\r\n                    className=\"dropdown-menu-modern\"\r\n                    style={{\r\n                      borderRadius: '16px',\r\n                      border: 'none',\r\n                      boxShadow: '0 12px 40px rgba(102, 126, 234, 0.2), 0 4px 12px rgba(0, 0, 0, 0.08)',\r\n                      padding: '0.75rem 0',\r\n                      minWidth: '280px',\r\n                      marginTop: '12px',\r\n                      background: 'white',\r\n                      backdropFilter: 'blur(20px)',\r\n                      overflow: 'hidden'\r\n                    }}\r\n                  >\r\n                    {/* User Info Header with Gradient */}\r\n                    <div\r\n                      style={{\r\n                        padding: '1.5rem 1.25rem',\r\n                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                        color: 'white',\r\n                        marginBottom: '0.75rem',\r\n                        position: 'relative',\r\n                        overflow: 'hidden'\r\n                      }}\r\n                    >\r\n                      {/* Decorative circles */}\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        top: '-30px',\r\n                        right: '-30px',\r\n                        width: '100px',\r\n                        height: '100px',\r\n                        borderRadius: '50%',\r\n                        background: 'rgba(255, 255, 255, 0.1)',\r\n                        animation: 'float 6s ease-in-out infinite'\r\n                      }}/>\r\n                      \r\n                      <div style={{\r\n                        position: 'relative',\r\n                        zIndex: 1\r\n                      }}>\r\n                        <div \r\n                          style={{ \r\n                            fontSize: '2.5rem',\r\n                            marginBottom: '0.75rem',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            width: '60px',\r\n                            height: '60px',\r\n                            borderRadius: '50%',\r\n                            background: 'rgba(255, 255, 255, 0.2)',\r\n                            backdropFilter: 'blur(10px)',\r\n                            border: '3px solid rgba(255, 255, 255, 0.3)',\r\n                            margin: '0 auto 1rem'\r\n                          }}\r\n                        >\r\n                          👤\r\n                        </div>\r\n                        <div className=\"fw-bold text-center\" style={{ fontSize: '1.1rem', marginBottom: '0.25rem' }}>\r\n                          {user.name}\r\n                        </div>\r\n                        <div className=\"text-center\" style={{ opacity: 0.9, fontSize: '0.9rem', marginBottom: '0.75rem' }}>\r\n                          {user.email}\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                          <span \r\n                            className=\"badge\"\r\n                            style={{ \r\n                              background: 'rgba(255, 255, 255, 0.25)',\r\n                              backdropFilter: 'blur(10px)',\r\n                              border: '1px solid rgba(255, 255, 255, 0.3)',\r\n                              padding: '0.4rem 1rem',\r\n                              fontSize: '0.8rem',\r\n                              fontWeight: '600',\r\n                              borderRadius: '20px'\r\n                            }}\r\n                          >\r\n                            {user.role?.name || 'User'}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Menu Items */}\r\n                    <div style={{ padding: '0 0.5rem' }}>\r\n                      <Dropdown.Item \r\n                        onClick={() => navigate('/dashboard/settings')}\r\n                        className=\"dropdown-item-modern\"\r\n                        style={{\r\n                          padding: '0.75rem 1rem',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '1rem',\r\n                          borderRadius: '10px',\r\n                          marginBottom: '0.25rem',\r\n                          transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                          border: 'none',\r\n                          background: 'transparent',\r\n                          position: 'relative',\r\n                          overflow: 'hidden'\r\n                        }}\r\n                      >\r\n                        <span \r\n                          style={{ \r\n                            fontSize: '1.4rem',\r\n                            width: '40px',\r\n                            height: '40px',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            borderRadius: '10px',\r\n                            background: 'rgba(102, 126, 234, 0.1)',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          ⚙️\r\n                        </span>\r\n                        <span style={{ fontWeight: '500', fontSize: '0.95rem' }}>Settings</span>\r\n                      </Dropdown.Item>\r\n                      \r\n                      <Dropdown.Item \r\n                        onClick={() => navigate('/dashboard/user-management')}\r\n                        className=\"dropdown-item-modern\"\r\n                        style={{\r\n                          padding: '0.75rem 1rem',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '1rem',\r\n                          borderRadius: '10px',\r\n                          marginBottom: '0.25rem',\r\n                          transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                          border: 'none',\r\n                          background: 'transparent',\r\n                          position: 'relative',\r\n                          overflow: 'hidden'\r\n                        }}\r\n                      >\r\n                        <span \r\n                          style={{ \r\n                            fontSize: '1.4rem',\r\n                            width: '40px',\r\n                            height: '40px',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            borderRadius: '10px',\r\n                            background: 'rgba(102, 126, 234, 0.1)',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          👥\r\n                        </span>\r\n                        <span style={{ fontWeight: '500', fontSize: '0.95rem' }}>Profile</span>\r\n                      </Dropdown.Item>\r\n                      \r\n                      <Dropdown.Divider style={{ margin: '0.75rem 0', opacity: 0.1 }} />\r\n                      \r\n                      <Dropdown.Item \r\n                        onClick={handleLogout} \r\n                        className=\"dropdown-item-modern dropdown-item-danger\"\r\n                        style={{\r\n                          padding: '0.75rem 1rem',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '1rem',\r\n                          borderRadius: '10px',\r\n                          transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                          border: 'none',\r\n                          background: 'transparent',\r\n                          color: '#dc3545',\r\n                          position: 'relative',\r\n                          overflow: 'hidden'\r\n                        }}\r\n                      >\r\n                        <span \r\n                          style={{ \r\n                            fontSize: '1.4rem',\r\n                            width: '40px',\r\n                            height: '40px',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            borderRadius: '10px',\r\n                            background: 'rgba(220, 53, 69, 0.1)',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          🚪\r\n                        </span>\r\n                        <span style={{ fontWeight: '600', fontSize: '0.95rem' }}>Logout</span>\r\n                      </Dropdown.Item>\r\n                    </div>\r\n                  </Dropdown.Menu>\r\n                </Dropdown>\r\n              </>\r\n            ) : (\r\n              <Button \r\n                variant=\"primary\" \r\n                onClick={() => navigate('/login')}\r\n                className=\"login-button-modern ms-3\"\r\n                style={{\r\n                  borderRadius: '12px',\r\n                  padding: '0.65rem 1.75rem',\r\n                  fontWeight: '600',\r\n                  fontSize: '0.95rem',\r\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                  border: 'none',\r\n                  boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',\r\n                  transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                  position: 'relative',\r\n                  overflow: 'hidden'\r\n                }}\r\n              >\r\n                <span className=\"me-2\">🔐</span>\r\n                Login\r\n              </Button>\r\n            )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <div className=\"page-enter\">\r\n          <NavBar />\r\n\r\n          <Routes>\r\n            {/* Public Routes */}\r\n            <Route path=\"/\" element={<Home />} />\r\n            <Route path=\"/login\" element={<LoginPage />} />\r\n            <Route path=\"/unauthorized\" element={<Unauthorized />} />\r\n            <Route path=\"/onsite\" element={<OnsiteRegistrationPage />} />\r\n            <Route path=\"/online\" element={<OnlineRegistrationPage />} />\r\n            <Route path=\"/print-badge/:ticket\" element={<BadgePrintPage />} />\r\n\r\n            {/* Protected Onsite Route */}\r\n            <Route \r\n              path=\"/onsite\" \r\n              element={\r\n                <ProtectedRoute roles={[\"admin\", \"superadmin\"]}>\r\n                  <OnsiteRegistrationPage />\r\n                </ProtectedRoute>\r\n              }\r\n            />\r\n\r\n            {/* Protected Dashboard Routes */}\r\n            <Route \r\n              path=\"/dashboard\" \r\n              element={\r\n                <ProtectedRoute roles={[\"admin\", \"superadmin\"]}>\r\n                  <DashboardLayout />\r\n                </ProtectedRoute>\r\n              }\r\n            >\r\n              <Route index element={<DashboardPage />} /> \r\n              <Route path=\"registrations\" element={<Registrations />} />\r\n              <Route path=\"register-new\" element={<RegistrationForm />} />\r\n              <Route path=\"user-management\" element={<UserManagementPage />} />\r\n              <Route path=\"role-management\" element={<RoleManagementPage />} />\r\n              <Route path=\"settings\" element={<SettingsPage />} />\r\n              <Route path=\"server-mode\" element={<ServerModeManager />} />\r\n              <Route path=\"scanner\" element={<ScannerPage />} />\r\n              <Route path=\"reports\" element={<Reports />} />\r\n              <Route path=\"admin\" element={<AdminPage />} />\r\n              <Route path=\"superadmin\" element={<SuperadminPage />} />\r\n            </Route>\r\n          </Routes>\r\n        </div>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from \"react\"\r\nimport ReactDOM from \"react-dom/client\"\r\nimport App from \"./App.jsx\"\r\nimport { AuthProvider } from \"./context/AuthContext\"\r\n\r\nReactDOM.createRoot(document.getElementById(\"root\")).render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </React.StrictMode>\r\n)\r\n"],"names":["logoutHandler","setLogoutHandler","handler","api","axios","define_process_env_default","config","token","error","response","AuthContext","createContext","AuthProvider","children","setToken","useState","user","setUser","loading","setLoading","logout","useCallback","err","useEffect","fetchUser","login","email","password","data","jsx","useAuth","useContext","ProtectedRoute","roles","Navigate","Home","navigate","useNavigate","summary","setSummary","reportsCounts","setReportsCounts","serverMode","setServerMode","recentScans","setRecentScans","errors","setErrors","partialLoad","setPartialLoad","fetchDashboardData","hasPermission","permission","fetchPromises","errorTracker","res","result","Container","jsxs","Spinner","Alert","Button","totalRegistrations","paidCount","unpaidCount","complimentaryCount","notPrintedCount","printedCount","reprintedCount","paidPercentage","printedPercentage","regByType","confirmedVsPending","confirmedCount","item","pendingCount","Row","Col","Badge","Fragment","Card","ProgressBar","type","index","percentage","typeConfig","ListGroup","scanUser","LoginForm","setEmail","setPassword","showPassword","setShowPassword","setError","handleSubmit","e","errorMessage","Form","InputGroup","iconContainer","icon","HMOPILogo","LoginPage","AdminPage","SuperadminPage","Unauthorized","Dashboard","summaryRes","countsRes","styles","color","a","b","range","count","gender","industry","channel","EditRegistrationForm","registration","onSave","onCancel","formData","setFormData","handleChange","name","value","prev","Modal","isOpen","onClose","title","size","handleBackdropClick","sizeStyles","PaymentStatusModal","onConfirm","isUpdating","selectedStatus","setSelectedStatus","currentStatus","handleConfirm","paymentOptions","option","ConfirmModal","message","confirmText","danger","ImportModal","onImport","isImporting","importResult","file","setFile","isDragging","setIsDragging","handleFileChange","selectedFile","validateAndSetFile","handleDragOver","handleDragLeave","handleDrop","droppedFile","handleImport","handleClose","Registrations","authLoading","allRegistrations","setAllRegistrations","filteredRegistrations","setFilteredRegistrations","printingId","setPrintingId","isModalOpen","setIsModalOpen","editingRegistration","setEditingRegistration","togglingPaymentId","setTogglingPaymentId","expandedRowId","setExpandedRowId","search","setSearch","sortOrder","setSortOrder","currentPage","setCurrentPage","recordsPerPage","paymentModalOpen","setPaymentModalOpen","selectedRegistration","setSelectedRegistration","deleteModalOpen","setDeleteModalOpen","registrationToDelete","setRegistrationToDelete","importModalOpen","setImportModalOpen","setIsImporting","setImportResult","filters","setFilters","showFilters","setShowFilters","backendBase","isAuthorized","canEdit","canDelete","formatRegistrationType","word","getTypeColor","getPaymentColor","status","getBadgeStatusColor","statusName","formatDate","dateString","fetchAllRegistrations","allData","currentPageNum","lastPage","responseData","filterAndSortData","filtered","searchLower","reg","firstName","lastName","fullName","company","ticket","aVal","bVal","handleSearchChange","handleClearSearch","handleToggleSort","handleResetFilters","toggleExpandRow","id","handlePaymentStatusChange","handlePaymentStatusUpdate","newStatus","updatedData","prevRegs","errorMsg","handleEditClick","handleUpdateSave","updatedReg","handleDelete","confirmDelete","currentRecords","handlePrintBadge","printWin","badgeUrl","code","msg","reader","workbook","XLSX.read","sheetName","worksheet","jsonData","XLSX.utils","headers","h","missingHeaders","rows","row","cell","registrations","clientErrors","idx","rowNum","rowData","header","first_name","last_name","normalizedType","successful","failed","serverErrors","allErrors","finalReport","indexOfLastRecord","indexOfFirstRecord","totalPages","renderPagination","maxPagesToShow","startPage","endPage","paginationButtonStyle","_","pageNum","activePaginationButtonStyle","renderExpandedRow","detailBoxStyle","detailTitleStyle","detailRowStyle","RegistrationForm","form","setForm","preRegCode","setPreRegCode","verifying","setVerifying","preRegData","setPreRegData","success","setSuccess","confirmed","setConfirmed","emailError","setEmailError","showOtherFields","setShowOtherFields","isPreRegistered","isComplimentary","validateEmail","handleVerifyPreReg","f","ticketNumber","successMessage","errorData","timer","ServerModeManager","currentMode","setCurrentMode","setIsUpdating","setMessage","history","setHistory","loadingHistory","setLoadingHistory","fetchCurrentMode","fetchHistory","handleSetMode","mode","modeConfig","getCurrentModeConfig","activeModeConfig","entry","overlayStyle","modalStyle","headerStyle","closeButtonStyle","EditUserForm","inputStyle","AddUserForm","r","role","UserManagementPage","users","setUsers","setRoles","isEditModalOpen","setIsEditModalOpen","isAddModalOpen","setIsAddModalOpen","editingUser","setEditingUser","fetchData","usersRes","rolesRes","updatedUser","handleAddClick","handleCreateSave","newUser","handleDeleteUser","userId","ImageUploadField","label","logoType","currentImagePath","onUploadSuccess","uploading","setUploading","preview","setPreview","backendUrl","getImageUrl","path","normalized","handleUpload","fileInput","currentImageUrl","Image","BadgePreview","settings","placeholderQr","SettingsPage","setSettings","isSaving","setIsSaving","sampleRegistration","fetchSettings","ConfirmationModal","displayData","optionalData","OnsiteRegistrationPage","showConfirmation","setShowConfirmation","isSubmitting","setIsSubmitting","initialForm","getErrorMessage","resp","handleConfirmedSubmit","handleCancelConfirmation","renderNotice","useHover","initialStyle","hoverStyle","style","setStyle","OnlineRegistrationPage","locked","setLocked","fadeOut","setFadeOut","successfulReg","setSuccessfulReg","preparingQr","setPreparingQr","qrUrl","setQrUrl","backendOrigin","isMounted","useRef","registerButtonStyle","registerOnMouseEnter","registerOnMouseLeave","retryButtonStyle","retryOnMouseEnter","retryOnMouseLeave","sleep","ms","preloadImage","src","resolve","reject","img","buildQrUrl","predicted","fetchLatestRegistration","pollForQr","baseReg","delays","i","candidateUrl","latest","saved","resetLock","fadeTimer","closeTimer","refreshQr","PermissionsModal","allPermissions","selectedPermissions","setSelectedPermissions","handleCheckboxChange","handleSave","RoleManagementPage","setAllPermissions","editingRole","setEditingRole","permsRes","handleSavePermissions","roleId","permissions","DashboardSidebar","location","useLocation","logoPath","setLogoPath","isActive","SidebarLink","to","active","Link","DashboardLayout","Outlet","ScannerPage","raw","setRaw","setStatus","isProcessing","setIsProcessing","scanHistory","setScanHistory","stats","setStats","lastScanned","setLastScanned","inputRef","focus","t","playSound","extractTicket","text","match","handleProcess","statusCode","onSubmit","onKeyDown","scan","BadgePrint","showQr","clean","mainLogo","orgLogo","mgrLogo","regLogo","usePrevious","ref","BadgePrintPage","useParams","setRegistration","isPrinting","setIsPrinting","prevIsPrinting","printAttempted","regResponse","settingsResponse","triggerPrintProcess","images","Reports","counts","setCounts","exporting","setExporting","dateFrom","setDateFrom","dateTo","setDateTo","paymentFilter","setPaymentFilter","registrationTypeFilter","setRegistrationTypeFilter","ageRangeFilter","setAgeRangeFilter","genderFilter","setGenderFilter","industryFilter","setIndustryFilter","sortField","setSortField","visibleColumns","setVisibleColumns","activeTab","setActiveTab","fetchCounts","fetchAllData","phone","companyName","designation","fromDate","toDate","handleRefresh","handleColumnToggle","column","handleSort","field","handleClearFilters","hasActiveFilters","Pagination","renderSurveyDataBar","total","variant","exportToPDF","dataToExport","doc","jsPDF","yPos","columnIndices","tableData","col","autoTable","pageCount","pageText","pageWidth","pageHeight","filename","exportToCSV","summaryRows","dataRows","csvContent","blob","link","url","getTypeBadgeColor","getPaymentBadgeColor","getSortIcon","uniqueAgeRanges","uniqueGenders","uniqueIndustries","Tabs","k","Tab","reason","interest","key","Table","NavBar","fetchLogo","handleLogout","Navbar","Nav","Dropdown","App","Router","Routes","Route","DashboardPage","ReactDOM","React"],"mappings":"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"}